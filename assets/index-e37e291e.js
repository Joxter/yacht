(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Cn=(e,t)=>e===t,An=Symbol("solid-track"),Le={equals:Cn};let Pn=Ht;const oe=1,je=2,Ut={owned:null,cleanups:null,context:null,owner:null};var P=null;let et=null,x=null,O=null,re=null,Ye=0;function qe(e,t){const n=x,r=P,i=e.length===0,l=i?Ut:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},s=i?e:()=>e(()=>Z(()=>Xe(l)));P=l,x=null;try{return Se(s,!0)}finally{x=n,P=r}}function Kt(e,t){t=t?Object.assign({},Le,t):Le;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Yt(n,i));return[Wt.bind(n),r]}function M(e,t,n){const r=Vt(e,t,!1,oe);Ve(r)}function pe(e,t,n){n=n?Object.assign({},Le,n):Le;const r=Vt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ve(r),Wt.bind(r)}function Mn(e){return Se(e,!1)}function Z(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function ut(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function En(e,t){const n=Symbol("context");return{id:n,Provider:Rn(n),defaultValue:e}}function Nn(e){let t;return(t=Zt(P,e.id))!==void 0?t:e.defaultValue}function Tn(e){const t=pe(e),n=pe(()=>ft(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Wt(){if(this.sources&&this.state)if(this.state===oe)Ve(this);else{const e=O;O=null,Se(()=>Be(this),!1),O=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Yt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Se(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],s=et&&et.running;s&&et.disposed.has(l),(s?!l.tState:!l.state)&&(l.pure?O.push(l):re.push(l),l.observers&&Jt(l)),s||(l.state=oe)}if(O.length>1e6)throw O=[],new Error},!1)),t}function Ve(e){if(!e.fn)return;Xe(e);const t=P,n=x,r=Ye;x=P=e,On(e,e.value,r),x=n,P=t}function On(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=oe,e.owned&&e.owned.forEach(Xe),e.owned=null),e.updatedAt=n+1,Qt(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Yt(e,r):e.value=r,e.updatedAt=n)}function Vt(e,t,n,r=oe,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:null,pure:n};return P===null||P!==Ut&&(P.owned?P.owned.push(l):P.owned=[l]),l}function Xt(e){if(e.state===0)return;if(e.state===je)return Be(e);if(e.suspense&&Z(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ye);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===oe)Ve(e);else if(e.state===je){const r=O;O=null,Se(()=>Be(e,t[0]),!1),O=r}}function Se(e,t){if(O)return e();let n=!1;t||(O=[]),re?n=!0:re=[],Ye++;try{const r=e();return Fn(n),r}catch(r){n||(re=null),O=null,Qt(r)}}function Fn(e){if(O&&(Ht(O),O=null),e)return;const t=re;re=null,t.length&&Se(()=>Pn(t),!1)}function Ht(e){for(let t=0;t<e.length;t++)Xt(e[t])}function Be(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===oe?r!==t&&(!r.updatedAt||r.updatedAt<Ye)&&Xt(r):i===je&&Be(r,t)}}}function Jt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=je,n.pure?O.push(n):re.push(n),n.observers&&Jt(n))}}function Xe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),s=n.observerSlots.pop();r<i.length&&(l.sourceSlots[s]=r,i[r]=l,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Xe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function In(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Qt(e,t=P){throw In(e)}function Zt(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Zt(e.owner,t):void 0}function ft(e){if(typeof e=="function"&&!e.length)return ft(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ft(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Rn(e,t){return function(r){let i;return M(()=>i=Z(()=>(P.context={[e]:r.value},Tn(()=>r.children))),void 0),i}}const qn=Symbol("fallback");function Et(e){for(let t=0;t<e.length;t++)e[t]()}function Dn(e,t,n={}){let r=[],i=[],l=[],s=0,o=t.length>1?[]:null;return ut(()=>Et(l)),()=>{let u=e()||[],c,a;return u[An],Z(()=>{let m=u.length,p,f,d,g,w,v,_,b,$;if(m===0)s!==0&&(Et(l),l=[],r=[],i=[],s=0,o&&(o=[])),n.fallback&&(r=[qn],i[0]=qe(C=>(l[0]=C,n.fallback())),s=1);else if(s===0){for(i=new Array(m),a=0;a<m;a++)r[a]=u[a],i[a]=qe(h);s=m}else{for(d=new Array(m),g=new Array(m),o&&(w=new Array(m)),v=0,_=Math.min(s,m);v<_&&r[v]===u[v];v++);for(_=s-1,b=m-1;_>=v&&b>=v&&r[_]===u[b];_--,b--)d[b]=i[_],g[b]=l[_],o&&(w[b]=o[_]);for(p=new Map,f=new Array(b+1),a=b;a>=v;a--)$=u[a],c=p.get($),f[a]=c===void 0?-1:c,p.set($,a);for(c=v;c<=_;c++)$=r[c],a=p.get($),a!==void 0&&a!==-1?(d[a]=i[c],g[a]=l[c],o&&(w[a]=o[c]),a=f[a],p.set($,a)):l[c]();for(a=v;a<m;a++)a in d?(i[a]=d[a],l[a]=g[a],o&&(o[a]=w[a],o[a](a))):i[a]=qe(h);i=i.slice(0,s=m),r=u.slice(0)}return i});function h(m){if(l[a]=m,o){const[p,f]=Kt(a);return o[a]=f,t(u[a],p)}return t(u[a])}}}function N(e,t){return Z(()=>e(t||{}))}const Ln=e=>`Stale read from <${e}>.`;function ze(e){const t="fallback"in e&&{fallback:()=>e.fallback};return pe(Dn(()=>e.each,e.children,t||void 0))}function Nt(e){const t=e.keyed,n=pe(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return pe(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Z(()=>i(t?r:()=>{if(!Z(n))throw Ln("Show");return e.when})):i}return e.fallback},void 0,void 0)}function jn(e,t,n){let r=n.length,i=t.length,l=r,s=0,o=0,u=t[i-1].nextSibling,c=null;for(;s<i||o<l;){if(t[s]===n[o]){s++,o++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===s){const a=l<r?o?n[o-1].nextSibling:n[l-o]:u;for(;o<l;)e.insertBefore(n[o++],a)}else if(l===o)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[o]===t[i-1]){const a=t[--i].nextSibling;e.insertBefore(n[o++],t[s++].nextSibling),e.insertBefore(n[--l],a),t[i]=n[l]}else{if(!c){c=new Map;let h=o;for(;h<l;)c.set(n[h],h++)}const a=c.get(t[s]);if(a!=null)if(o<a&&a<l){let h=s,m=1,p;for(;++h<i&&h<l&&!((p=c.get(t[h]))==null||p!==a+m);)m++;if(m>a-o){const f=t[s];for(;o<a;)e.insertBefore(n[o++],f)}else e.replaceChild(n[o++],t[s++])}else s++;else t[s++].remove()}}}const Tt="_$DX_DELEGATE";function Bn(e,t,n,r={}){let i;return qe(l=>{i=l,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function F(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},l=t?()=>Z(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return l.cloneNode=l,l}function He(e,t=window.document){const n=t[Tt]||(t[Tt]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,zn))}}function en(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function V(e,t){t==null?e.removeAttribute("class"):e.className=t}function ie(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let l,s;for(l=0,s=i.length;l<s;l++){const o=i[l];!o||o==="undefined"||t[o]||(Ot(e,o,!1),delete n[o])}for(l=0,s=r.length;l<s;l++){const o=r[l],u=!!t[o];!o||o==="undefined"||n[o]===u||!u||(Ot(e,o,!0),n[o]=u)}return n}function y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ge(e,t,r,n);M(i=>Ge(e,t(),i,n),r)}function Ot(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,l=r.length;i<l;i++)e.classList.toggle(r[i],n)}function zn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ge(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),s){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=ae(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=ae(e,n,r);else{if(l==="function")return M(()=>{let o=t();for(;typeof o=="function";)o=o();n=Ge(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if(dt(o,t,n,i))return M(()=>n=Ge(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=ae(e,n,r),s)return n}else u?n.length===0?Ft(e,o,r):jn(e,n,o):(n&&ae(e),Ft(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ae(e,n,r,t);ae(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function dt(e,t,n,r){let i=!1;for(let l=0,s=t.length;l<s;l++){let o=t[l],u=n&&n[l],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=dt(e,o,u)||i;else if(c==="function")if(r){for(;typeof o=="function";)o=o();i=dt(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else e.push(o),i=!0;else{const a=String(o);u&&u.nodeType===3&&u.data===a?e.push(u):e.push(document.createTextNode(a))}}return i}function Ft(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ae(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const u=o.parentNode===e;!l&&!s?u?e.replaceChild(i,o):e.insertBefore(i,n):u&&o.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const Gn="_root_7vb0q_1",Un="_content_7vb0q_5",It={root:Gn,content:Un},D={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Kn=[{name:"Aces",icon:"",isMatch:e=>ce(e,1)},{name:"Deuces",icon:"",isMatch:e=>ce(e,2)},{name:"Threes",icon:"",isMatch:e=>ce(e,3)},{name:"Fours",icon:"",isMatch:e=>ce(e,4)},{name:"Fives",icon:"",isMatch:e=>ce(e,5)},{name:"Sixes",icon:"",isMatch:e=>ce(e,6)}];let tn={name:"Extra",icon:"",isMatch:(e,t)=>Jn(t)>=63?35:!1};const Wn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?tt(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?tt(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>tt(e)}];function Yn(e,t){return{name:e,icon:t,scores:Vn()}}function Vn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function ce(e,t){let n=Xn(e,t);return n?n*t:!1}function Xn(e,t){return e[t-1]}function Hn(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function tt(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function Jn(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function Qn(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function Zn(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function pt(){return[{val:1,id:0,pos:0,state:"cup"},{val:1,id:1,pos:1,state:"cup"},{val:1,id:2,pos:2,state:"cup"},{val:1,id:3,pos:3,state:"cup"},{val:1,id:4,pos:4,state:"cup"}]}function nn(){let e={status:D.Init},t=[],n=pt();return{stage:e,players:t,dices:n}}function er(e){let t=sr(e.stage);if(!t)return null;let n=e.dices.map(r=>r.state!=="kept"?{...r,state:"spinning"}:r);return{stage:t,dices:n}}function tr(e){let t=or(e.stage);if(!t)return null;let n=e.dices.filter(i=>i.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((i,l)=>l-i);return{dices:e.dices.map(i=>i.state==="spinning"?{...i,val:n.pop(),state:"table"}:i),stage:t}}function nr(e){let t=nn();return t.players=e.map(n=>Yn(n.name,n.icon)),t.stage={status:D.PlayerMove,player:0,step:0,spinning:!1},t}function rr(e){return e.status===D.PlayerMove&&e.spinning}function ir(e){return e.status===D.PlayerMove&&!e.spinning&&e.step<3}function lr(e){return e.status===D.PlayerMove&&e.step===3}function sr(e){return e.status===D.PlayerMove&&e.step<3?{...e,spinning:!0}:!1}function or(e){return e.status===D.PlayerMove&&e.spinning?{...e,spinning:!1,step:e.step+1}:!1}function ar(e){return e.status===D.PlayerMove&&e.spinning}function cr(e){return e.players.length>1&&e.players.every(t=>t.name.trim()!=="")}function ur(e,t){if(e.stage.status===D.PlayerMove&&t.name!=="Extra"){let n=[...e.players];if(n[e.stage.player].scores={...n[e.stage.player].scores,[t.name]:t.score},Zn(t.name)&&Qn(n[e.stage.player].scores)){let i=tn.isMatch([],n[e.stage.player].scores)||0;n[e.stage.player].scores={...n[e.stage.player].scores,Extra:i}}let r=(e.stage.player+1)%e.players.length;return fr(n[r])?{players:n,dices:pt(),stage:{status:D.Finish,winners:pr(n)}}:{players:n,dices:pt(),stage:{...e.stage,player:r,step:0}}}return null}function fr(e){return Object.values(e.scores).every(t=>t!==null)}function dr(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function pr(e){let t=e.map(i=>dr(i)),n=Math.max(...t),r=[];for(let i=0;i<t.length;i++)t[i]===n&&r.push(i);return r}const hr="_root_1eweb_1",mr="_scoreRow_1eweb_8",gr="_scoreCell_1eweb_12",yr="_matched_1eweb_21",vr="_done_1eweb_30",j={root:hr,scoreRow:mr,scoreCell:gr,matched:yr,done:vr};function _t(e,t){for(let n in e)t(e[n],n)}function R(e,t){e.forEach(t)}function L(e,t){if(!e)throw Error(t)}function ee({node:e=[],from:t,source:n,parent:r=t||n,to:i,target:l,child:s=i||l,scope:o={},meta:u={},family:c={type:"regular"},regional:a}={}){let h=Pe(r),m=Pe(c.links),p=Pe(c.owners),f=[];R(e,g=>g&&Q(f,g));let d={id:Mr(),seq:f,next:Pe(s),meta:u,scope:o,family:{type:c.type||"crosslink",links:m,owners:p}};return R(m,g=>Q(Je(g),d)),R(p,g=>Q(Qe(g),d)),R(h,g=>Q(g.next,d)),a&&de&&kt(Me(de),[d]),d}function Ue(e,t,n){let r,i=G,l=null,s=S;if(e.target&&(t=e.params,n=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(l=e.stack),s=Fe(e)||s,e=e.target),s&&S&&s!==S&&(S=null),Array.isArray(e))for(let f=0;f<e.length;f++)ne("pure",i,K(e[f]),l,t[f],s,r);else ne("pure",i,K(e),l,t,s,r);if(n&&!Ie)return;let o,u,c,a,h,m,p={isRoot:Ie,currentPage:G,scope:S,isWatch:st,isPure:De};Ie=0;e:for(;a=Fr();){let{idx:f,stack:d,type:g}=a;c=d.node,G=h=d.page,S=Fe(d),h?m=h.reg:S&&(m=S.reg);let w=!!h,v=!!S,_={fail:0,scope:c.scope};o=u=0;for(let b=f;b<c.seq.length&&!o;b++){let $=c.seq[b];if($.order){let{priority:C,barrierID:A}=$.order,E=A?h?`${h.fullID}_${A}`:A:0;if(b!==f||g!==C){A?lt.has(E)||(lt.add(E),yt(b,d,C,A)):yt(b,d,C);continue e}A&&lt.delete(E)}switch($.type){case"mov":{let A,E=$.data;switch(E.from){case le:A=Me(d);break;case"a":case"b":A=d[E.from];break;case"value":A=E.store;break;case"store":if(m&&!m[E.store.id])if(w){let Ze=dn(h,E.store.id);d.page=h=Ze,Ze?m=Ze.reg:v?(we(S,E.store,0,1,E.softRead),m=S.reg):m=void 0}else v&&we(S,E.store,0,1,E.softRead);A=Ee(m&&m[E.store.id]||E.store)}switch(E.to){case le:d.value=A;break;case"a":case"b":d[E.to]=A;break;case"store":Ir(h,S,c,E.target).current=A}break}case"compute":let C=$.data;if(C.fn){st=I(c,"op")==="watch",De=C.pure;let A=C.safe?(0,C.fn)(Me(d),_.scope,d):qr(_,C.fn,d);C.filter?u=!A:d.value=A,st=p.isWatch,De=p.isPure}}o=_.fail||u}if(!o){let b=Me(d),$=Fe(d);if(R(c.next,C=>{ne("child",h,C,d,b,$)}),$){I(c,"needFxCounter")&&ne("child",h,$.fxCount,d,b,$),I(c,"storeChange")&&ne("child",h,$.storeChange,d,b,$),I(c,"warnSerialize")&&ne("child",h,$.warnSerializeNode,d,b,$);let C=$.additionalLinks[c.id];C&&R(C,A=>{ne("child",h,A,d,b,$)})}}}Ie=p.isRoot,G=p.currentPage,S=Fe(p)}function rn(e,t="combine"){let n=t+"(",r="",i=0;return _t(e,l=>{i<25&&(l!=null&&(n+=r,n+=se(l)?ln(l).fullName:l.toString()),i+=1,r=", ")}),n+")"}function br(e,t){let n,r,i=e;if(t){let l=ln(t);e.length===0?(n=l.path,r=l.fullName):(n=l.path.concat([e]),r=l.fullName.length===0?e:l.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:n}}function wt(e,t){let n=t?e:e[0];un(n);let r=n.or,i=n.and;if(i){let l=t?i:i[0];if(X(l)&&"and"in l){let s=wt(i,t);e=s[0],r={...r,...s[1]}}else e=i}return[e,r]}function z(e,...t){let n=cn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function k(e,t){let n=Te({or:t,and:typeof e=="string"?{name:e}:e}),r=(s,...o)=>(ve(!I(r,"derived"),"call of derived event","createEvent"),ve(!De,"unit call from pure function","operators like sample"),G?((u,c,a,h)=>{let m=G,p=null;if(c)for(p=G;p&&p.template!==c;)p=ye(p);Lt(p);let f=u.create(a,h);return Lt(m),f})(r,i,s,o):r.create(s,o)),i=cn(),l=Object.assign(r,{graphite:ee({meta:mn(n.actualOp||"event",r,n),regional:1}),create:s=>(Ue({target:r,params:s,scope:S}),s),watch:s=>hn(r,s),map:s=>ot(r,ge,s,[Y()]),filter:s=>ot(r,"filter",s.fn?s:s.fn,[Y(xt,1)]),filterMap:s=>ot(r,"filterMap",s,[Y(),be(o=>!q(o),1)]),prepend(s){let o=k("* → "+r.shortName,{parent:ye(r)});return z("eventPrepend",K(o)),ke(o,r,[Y()],"prepend",s),Dr(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(l),ue(l,"id",l.graphite.id),an(l.graphite),l}function Rt(e,t,n,r){return We(n,t,"first argument"),L(H(r),"second argument should be a function"),ve(!I(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),R(Array.isArray(n)?n:[n],i=>{e.off(i),Ke(e).set(i,pn(gn(i,e,"on",Tr,r)))}),e}function he(e,t){let n=Te(t),r=_e(e),i=k({named:"updates",derived:1});z("storeBase",r);let l=r.id,s={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let p,f=r;if(G){let d=G;for(;d&&!d.reg[l];)d=ye(d);d&&(p=d)}return!p&&S&&(we(S,r,1),p=S),p&&(f=p.reg[l]),Ee(f)},setState:p=>Ue({target:s,params:p,defer:1,scope:S}),reset:(...p)=>(R(p,f=>Rt(s,".reset",f,()=>s.defaultState)),s),on:(p,f)=>Rt(s,".on",p,f),off(p){let f=Ke(s).get(p);return f&&(f(),Ke(s).delete(p)),s},map(p,f){let d,g;X(p)&&(d=p,p=p.fn),ve(q(f),"second argument of store.map","updateFilter");let w=s.getState();q(w)||(g=p(w,f));let v=he(g,{name:`${s.shortName} → *`,derived:1,and:d}),_=gn(s,v,ge,mt,p);return gt(U(v),{type:ge,fn:p,from:r}),U(v).noInit=1,z("storeMap",r,_),v},watch(p,f){if(!f||!se(p)){let d=hn(s,p);return z("storeWatch",r,p)||p(s.getState()),d}return L(H(f),"second argument should be a function"),p.watch(d=>f(s.getState(),d))}},o=mn("store",s,n),u=s.defaultConfig.updateFilter;s.graphite=ee({scope:{state:r,fn:u},node:[be((p,f,d)=>(d.scope&&!d.scope.reg[r.id]&&(d.b=1),p)),$e(r),be((p,f,{a:d,b:g})=>!q(p)&&(p!==d||g),1),u&&Y(mt,1),B({from:le,target:r})],child:i,meta:{...o,defaultState:e},regional:1}),ue(s,"id",s.graphite.id),ue(s,"rootStateRefId",l);let c=I(s,"serialize"),a=I(s,"derived"),h=c==="ignore",m=I(s,"sid");return m&&(ue(s,"storeChange",1),r.sid=m),m||h||a||ue(s,"warnSerialize",1),L(a||!q(e),"current state can't be undefined, use null instead"),kt(s,[i]),n!=null&&n.domain&&n.domain.hooks.store(s),a||(s.reinit=k({named:"reinit"}),s.reset(s.reinit)),r.meta=s.graphite.meta,an(s.graphite),s}function $r(...e){let t,n,r;[e,r]=wt(e);let i,l,s,o=e[e.length-1];if(H(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let u=n[0];te(u)||(i=u,l=1)}if(!l&&(i=n,t)){s=1;let u=t;t=c=>u(...c)}return L(X(i),"shape should be an object"),Lr(Array.isArray(i),!s,i,r,t)}function _r(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function wr(e,t){We(e,"merge","first argument");let n=k({name:rn(e,"merge"),derived:1,and:t});return ke(e,n,[],"merge"),n}function Sr(e,t){let n=0;return R(jr,r=>{r in e&&(L(e[r]!=null,yn(t,r)),n=1)}),n}function me(...e){let t,n,r,i,[[l,s,o],u]=wt(e),c=1;return q(s)&&X(l)&&Sr(l,"sample")&&(s=l.clock,o=l.fn,c=!l.greedy,i=l.filter,t=l.target,n=l.name,r=l.sid,l=l.source),Br("sample",s,l,i,t,o,n,u,c,1,0,r)}function kr(e,{scope:t,safe:n}={}){L(t||S||n,"scopeBind cannot be called outside of forked .watch");let r=t||S;return ht(e)?i=>{let l=_r();return Ue({target:e,params:{params:i,req:l},scope:r}),l.req}:i=>(Ue({target:e,params:i,scope:r}),i)}let xr=typeof Symbol<"u"&&Symbol.observable||"@@observable",ge="map",le="stack",K=e=>e.graphite||e,Je=e=>e.family.owners,Qe=e=>e.family.links,U=e=>e.stateRef,Me=e=>e.value,Ke=e=>e.subscribers,ye=e=>e.parent,Fe=e=>e.scope,I=(e,t)=>K(e).meta[t],ue=(e,t,n)=>K(e).meta[t]=n,ln=e=>e.compositeName,se=e=>(H(e)||X(e))&&"kind"in e;const Oe=e=>t=>se(t)&&t.kind===e;let te=Oe("store"),Cr=Oe("event"),ht=Oe("effect"),sn=Oe("domain"),Ar=Oe("scope");var nt={__proto__:null,unit:se,store:te,event:Cr,effect:ht,domain:sn,scope:Ar,attached:e=>ht(e)&&I(e,"attached")==1};let rt=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},Q=(e,t)=>e.push(t),ve=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const St=()=>{let e=0;return()=>""+ ++e};let Pr=St(),on=St(),Mr=St(),de=null,an=e=>{},cn=()=>de,Er=e=>(e&&de&&de.sidRoot&&(e=`${de.sidRoot}|${e}`),e),kt=(e,t)=>{let n=K(e);R(t,r=>{let i=K(r);n.family.type!=="domain"&&(i.family.type="crosslink"),Q(Je(i),n),Q(Qe(n),i)})},Pe=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(K),X=e=>typeof e=="object"&&e!==null,H=e=>typeof e=="function",q=e=>e===void 0,un=e=>L(X(e)||H(e),"expect first argument be an object");const qt=(e,t,n,r)=>L(!(!X(e)&&!H(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let We=(e,t,n)=>{Array.isArray(e)?R(e,(r,i)=>qt(r,t,`${i} item of ${n}`,"")):qt(e,t,n," or array of units")},Nr=(e,t,n="target")=>R(Pe(t),r=>ve(!I(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),mt=(e,{fn:t},{a:n})=>t(e,n),Tr=(e,{fn:t},{a:n})=>t(n,e),xt=(e,{fn:t})=>t(e);const fn=(e,t,n,r)=>{let i={id:on(),type:e,data:t};return n&&(i.order={priority:n},r&&(i.order.barrierID=++Or)),i};let Or=0,B=({from:e="store",store:t,target:n,to:r=n?"store":le,batch:i,priority:l})=>fn("mov",{from:e,store:t,to:r,target:n},l,i),Ne=({fn:e,batch:t,priority:n,safe:r=0,filter:i=0,pure:l=0})=>fn("compute",{fn:e,safe:r,filter:i,pure:l},n,t),Ct=({fn:e})=>Ne({fn:e,priority:"effect"}),be=(e,t,n)=>Ne({fn:e,safe:1,filter:t,priority:n&&"effect"}),$e=(e,t,n)=>B({store:e,to:t?le:"a",priority:n&&"sampler",batch:1}),Y=(e=xt,t)=>Ne({fn:e,pure:1,filter:t}),it={mov:B,compute:Ne,filter:({fn:e,pure:t})=>Ne({fn:e,filter:1,pure:t}),run:Ct},_e=e=>({id:on(),current:e}),Ee=({current:e})=>e,gt=(e,t)=>{e.before||(e.before=[]),Q(e.before,t)},fe=null;const At=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||vt(e.v.type)>vt(t.v.type))&&(n=e,e=t,t=n),n=At(e.r,t),e.r=e.l,e.l=n,e},Pt=[];let Dt=0;for(;Dt<6;)Q(Pt,{first:null,last:null,size:0}),Dt+=1;const Fr=()=>{for(let e=0;e<6;e++){let t=Pt[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=fe.v;return fe=At(fe.l,fe.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},ne=(e,t,n,r,i,l,s)=>yt(0,{a:null,b:null,node:n,parent:r,value:i,page:t,scope:l,meta:s},e),yt=(e,t,n,r=0)=>{let i=vt(n),l=Pt[i],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};i===3||i===4?fe=At(fe,s):(l.size===0?l.first=s:l.last.r=s,l.last=s),l.size+=1},vt=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},lt=new Set;let S,Ie=1,st=0,De=0,G=null,Lt=e=>{G=e};const dn=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=ye(e);if(e)return e}return null};let Ir=(e,t,n,r,i)=>{let l=dn(e,r.id);return l?l.reg[r.id]:t?(we(t,r,i),t.reg[r.id]):r};const Rr=e=>e;let we=(e,t,n,r,i)=>{var l;let s=e.reg,o=t.sid,u=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize,c=e.fromSerialize&&u!=="ignore"&&u?.read||Rr;if(s[t.id])return;let a={id:t.id,current:t.current,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))a.current=c(e.values.sidMap[o]);else if(t.before&&!i){let h=0,m=n||!t.noInit||r;R(t.before,p=>{switch(p.type){case ge:{let f=p.from;if(f||p.fn){f&&we(e,f,n,r);let d=f&&s[f.id].current;m&&(a.current=p.fn?p.fn(d):d)}break}case"field":h||(h=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),we(e,p.from,n,r),m&&(a.current[p.field]=s[s[p.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=a};const qr=(e,t,n)=>{try{return t(Me(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Te=(e,t={})=>(X(e)&&(Te(e.or,t),_t(e,(n,r)=>{q(n)||r==="or"||r==="and"||(t[r]=n)}),Te(e.and,t)),t);const jt=(e,t)=>{rt(e.next,t),rt(Je(e),t),rt(Qe(e),t)},bt=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=Qe(e);for(;r=i.pop();)jt(r,e),(t||n&&I(e,"op")!=="sample"||r.family.type==="crosslink")&&bt(r,t,I(r,"op")!=="on"&&n);for(i=Je(e);r=i.pop();)jt(r,e),n&&r.family.type==="crosslink"&&bt(r,t,I(r,"op")!=="on"&&n)},Ce=e=>e.clear();let $t=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),te(e))Ce(Ke(e));else if(sn(e)){n=1;let r=e.history;Ce(r.events),Ce(r.effects),Ce(r.stores),Ce(r.domains)}bt(K(e),!!t,n)},pn=e=>{let t=()=>$t(e);return t.unsubscribe=t,t},ke=(e,t,n,r,i)=>ee({node:n,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),hn=(e,t)=>(L(H(t),".watch argument should be a function"),pn(ee({scope:{fn:t},node:[Ct({fn:xt})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Dr=(e,t,n="event")=>{ye(e)&&ye(e).hooks[n](t)},mn=(e,t,n)=>{let r=Te(n),i=e==="domain",l=Pr(),{sid:s=null,named:o=null,domain:u=null,parent:c=u}=r,a=o||r.name||(i?"":l),h=br(a,c),m={op:t.kind=e,name:t.shortName=a,sid:t.sid=Er(s),named:o,unitId:t.id=l,serialize:r.serialize,derived:r.derived,config:r};return t.parent=c,t.compositeName=h,t.defaultConfig=r,t.thru=p=>(ve(0,"thru","js pipe"),p(t)),t.getType=()=>h.fullName,!i&&(t.subscribe=p=>(un(p),t.watch(H(p)?p:f=>p.next&&p.next(f))),t[xr]=()=>t),m};const ot=(e,t,n,r)=>{let i;X(n)&&(i=n,n=n.fn);let l=k({name:`${e.shortName} → *`,derived:1,and:i});return ke(e,l,r,t,n),l},gn=(e,t,n,r,i)=>{let l=U(t),s=B({store:l,to:"a",priority:"read"});n===ge&&(s.data.softRead=1);let o=[s,Y(r)];return z("storeOnMap",l,o,te(e)&&U(e)),ke(e,t,o,n,i)},Lr=(e,t,n,r,i)=>{let l=e?f=>[...f]:f=>({...f}),s=e?[]:{},o=l(s),u=_e(o),c=_e(1);u.type=e?"list":"shape",u.noInit=1,z("combineBase",u,c);let a=he(o,{name:rn(n),derived:1,and:r}),h=U(a);h.noInit=1,ue(a,"isCombine",1);let m=$e(u);m.order={priority:"barrier"};let p=[be((f,d,g)=>(g.scope&&!g.scope.reg[u.id]&&(g.c=1),f)),m,B({store:c,to:"b"}),be((f,{key:d},g)=>{if(g.c||f!==g.a[d])return t&&g.b&&(g.a=l(g.a)),g.a[d]=f,1},1),B({from:"a",target:u}),B({from:"value",store:0,target:c}),B({from:"value",store:1,target:c,priority:"barrier",batch:1}),$e(u,1),i&&Y()];return _t(n,(f,d)=>{if(!te(f))return L(!se(f)&&!q(f),`combine expects a store in a field ${d}`),void(o[d]=s[d]=f);s[d]=f.defaultState,o[d]=f.getState();let g=ke(f,a,p,"combine",i);g.scope.key=d;let w=U(f);gt(u,{type:"field",field:d,from:w}),z("combineField",w,g)}),a.defaultShape=n,gt(h,{type:ge,from:u,fn:i}),a.defaultState=i?h.current=i(o):s,a};ee({node:[Ct({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const jr=["source","clock","target"],yn=(e,t)=>e+`: ${t} should be defined`;let Br=(e,t,n,r,i,l,s,o,u,c,a,h)=>{let m=!!i;L(!q(n)||!q(t),yn(e,"either source or clock"));let p=0;q(n)?p=1:se(n)||(n=$r(n)),q(t)?t=n:(We(t,e,"clock"),Array.isArray(t)&&(t=wr(t))),p&&(n=t),o||s||(s=n.shortName);let f="none";(a||r)&&(se(r)?f="unit":(L(H(r),"`filter` should be function or unit"),f="fn")),i?(We(i,e,"target"),Nr(e,i)):f==="none"&&c&&te(n)&&te(t)?i=he(l?l(Ee(U(n)),Ee(U(t))):Ee(U(n)),{name:s,sid:h,or:o}):(i=k({name:s,derived:1,or:o}),z("sampleTarget",K(i)));let d=_e(),g=[];if(f==="unit"){let[b,$]=Bt(r,i,t,d,e);g=[...at($),...at(b)]}let[w,v]=Bt(n,i,t,d,e),_=ke(t,i,[z("sampleSourceLoader"),B({from:le,target:d}),...at(v),$e(w,1,u),...g,$e(d),f==="fn"&&Y((b,$,{a:C})=>r(b,C),1),l&&Y(mt),z("sampleSourceUpward",m)],e,l);return kt(n,[_]),Object.assign(_.meta,o,{joint:1}),i};const at=e=>[$e(e),be((t,n,{a:r})=>r,1)],Bt=(e,t,n,r,i)=>{let l=te(e),s=l?U(e):_e(),o=_e(l);return l||ee({parent:e,node:[B({from:le,target:s}),B({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:i},regional:1}),z("sampleSource",o,s,r),[s,o]};function zr(){const e=["❤️","🎄","🤗","🤞","🙏","👍","😜"];let t=he([{name:"",icon:"👍",error:""}]),n=he(""),r=k(),i=k(),l=k(),s=k(),o=k(),u=k();return t.on(r,c=>{let a=e.filter(m=>!c.some(p=>p.icon===m)),h=a[Math.floor(Math.random()*a.length)];return[...c,{name:"",icon:h,error:""}]}).on(i,(c,a)=>{let h=c.slice();return h.splice(a,1),h}).on(l,(c,{n:a,name:h})=>{let m=c.slice();return m[a].name=h,m}).on(s,(c,{n:a,icon:h})=>{let m=c.slice();return m[a].icon=h,m}).on(o,c=>c.map(a=>a.icon?c.filter(h=>h.icon===a.icon).length>1?{...a,error:"Please, choose an unique icon"}:a:{...a,error:"You need an icon for a comfortable game"})),me({source:t,clock:o,filter:c=>c.length<2,fn:()=>"should be at least 2 players:(",target:n}),me({source:[t,n],clock:o,filter:([c,a])=>c.length>=2&&a==="",fn:([c])=>c,target:u}),{ICONS:e,$players:t,$formError:n,formSubmitted:o,playersApplied:u,nameChanged:l,iconChanged:s,addPlayerClicked:r,removePlayerClicked:i}}let Gr=nn(),T=he(Gr),W=zr(),vn=T.map(e=>e.dices),Mt=T.map(e=>e.players),Ur=T.map(e=>e.stage.status===D.Init),Kr=vn.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?Hn(t):null}),Wr=T.map(e=>"player"in e.stage?e.stage.player:0),Yr=T.map(e=>ir(e.stage)),Vr=T.map(e=>ar(e.stage)),Xr=T.map(e=>rr(e.stage)),Hr=T.map(e=>lr(e.stage)),Jr=T.map(e=>cr(e));k();k();k();let Qr=k(),bn=k(),$n=k(),_n=k(),wn=k(),Sn=k();me({source:T,clock:bn,filter:Yr,fn:e=>{let t=er(e);return t?{...e,...t}:e},target:T});me({source:T,clock:$n,filter:Vr,fn:e=>{let t=tr(e);return t?{...e,...t}:e},target:T});me({source:T,clock:Sn,fn:(e,t)=>{let n=ur(e,t);return n?{...e,...n}:e},target:T});me({clock:W.playersApplied,fn:e=>nr(e),target:T});T.on(_n,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(wn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"table"}:r);return{...e,dices:n}});function xe(e,t){var n;return((r,i)=>{let l=!nt.unit(r)&&typeof r=="object",s={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?s=r["@@unitShape"]():ct("expect @@unitShape to be a function"):s=l?r:{unit:r};let o=Array.isArray(s),u=Object.entries(s),c=o?[]:{},a=[],h={},m={};for(let[f,d]of u)if(nt.store(d))if(h[d.graphite.id]){let g=h[d.graphite.id];c[f]=c[g],m[f]=c[g]}else{a.push(d),h[d.graphite.id]=f;let[g,w]=Kt(zt(d,i));c[f]=g,m[f]=w}else nt.unit(d)||ct("expected useUnit argument to be a unit"),c[f]=i?kr(d,{scope:i}):d;let p=[it.compute({priority:"effect"}),it.compute({priority:"sampler",batch:1}),it.run({fn:()=>{Mn(()=>{for(let f of a)m[h[f.graphite.id]](()=>zt(f,i))})}})];if(i){let f=ee({node:p}),d=i.additionalLinks,g=[];a.forEach(w=>{let v=w.graphite.id,_=d[v]||[];d[v]=_,_.push(f),g.push(_)}),ut(()=>{g.forEach(w=>{let v=w.indexOf(f);v!==-1&&w.splice(v,1)}),$t(f)})}else{let f=ee({node:p,parent:a,family:{owners:a}});ut(()=>{$t(f)})}return l?c:c.unit})(e,((r=1)=>{let i=Nn(Zr);return r&&!i&&ct("No scope found, consider adding <Provider> to app root"),i})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let ct=e=>{throw Error(e)};const zt=(e,t)=>t?t.getState(e):e.getState();let Zr=En(null);const ei=F("<div><div><p>Scores:</p></div><div></div><p>---</p><div>"),ti=F("<p>"),kn=F("<div><p>"),xn=F('<button type="button" disabled>'),ni=F('<button type="button">'),ri=F('<button type="button"> '),ii=()=>{let[e]=xe([Mt]);function t(){return`150px${" 50px".repeat(e().length)}`}return(()=>{const n=ei(),r=n.firstChild;r.firstChild;const i=r.nextSibling,l=i.nextSibling,s=l.nextSibling;return y(r,N(ze,{get each(){return e()},children:o=>(()=>{const u=ti();return y(u,()=>o.icon),M(()=>en(u,"title",o.name)),u})()}),null),y(i,()=>Kn.map(o=>N(Gt,{category:o}))),y(n,N(li,{category:tn}),l),y(s,N(ze,{each:Wn,children:o=>N(Gt,{category:o})})),M(o=>{const u=j.root,c={[j.scoreRow]:!0},a=t();return u!==o._v$&&V(n,o._v$=u),o._v$2=ie(r,c,o._v$2),a!==o._v$3&&((o._v$3=a)!=null?r.style.setProperty("grid-template-columns",a):r.style.removeProperty("grid-template-columns")),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()},Gt=e=>{let[t,n,r]=xe([Mt,Wr,Kr]);const{isMatch:i,name:l}=e.category;function s(){return`150px${" 50px".repeat(t().length)}`}return(()=>{const o=kn(),u=o.firstChild;return y(u,l),y(o,()=>t().map((c,a)=>{if(c.scores[l]!==null)return(()=>{const f=xn();return y(f,()=>c.scores[l]),M(()=>V(f,j.scoreCell)),f})();let m=n()===a,p=r();if(m&&p){const f=i(p,c.scores)||0;return(()=>{const d=ni();return d.$$click=()=>Sn({score:f,name:l}),y(d,f),M(g=>ie(d,{[j.scoreCell]:!0,[j.matched]:!0},g)),d})()}return(()=>{const f=ri();return M(d=>ie(f,{[j.scoreCell]:!0,[j.done]:!0},d)),f})()}),null),M(c=>{const a={[j.scoreRow]:!0},h=s();return c._v$4=ie(o,a,c._v$4),h!==c._v$5&&((c._v$5=h)!=null?o.style.setProperty("grid-template-columns",h):o.style.removeProperty("grid-template-columns")),c},{_v$4:void 0,_v$5:void 0}),o})()},li=e=>{const{name:t}=e.category;let[n]=xe([Mt]);function r(){return`150px${" 50px".repeat(n().length)}`}return(()=>{const i=kn(),l=i.firstChild;return y(l,t),y(i,N(ze,{get each(){return n()},children:(s,o)=>(()=>{const u=xn();return y(u,()=>s.scores[t]),M(c=>ie(u,{[j.scoreCell]:!0,[j.done]:!0},c)),u})()}),null),M(s=>{const o={[j.scoreRow]:!0},u=r();return s._v$6=ie(i,o,s._v$6),u!==s._v$7&&((s._v$7=u)!=null?i.style.setProperty("grid-template-columns",u):i.style.removeProperty("grid-template-columns")),s},{_v$6:void 0,_v$7:void 0}),i})()};He(["click"]);const si="_root_4ym1q_1",oi="_keep_4ym1q_8",ai="_dice_4ym1q_17",ci="_spinner_4ym1q_35",ui="_spin_4ym1q_35",fi="_cupBtn_4ym1q_44",di="_shaking_4ym1q_53",pi="_shake_4ym1q_1",hi="_noShake_4ym1q_56",mi="_cup_4ym1q_44",J={root:si,keep:oi,dice:ai,spinner:ci,spin:ui,cupBtn:fi,shaking:di,shake:pi,noShake:hi,cup:mi},gi=""+new URL("cup-5a929258.webp",import.meta.url).href,yi=F('<div><div></div><button><img alt="cup">'),vi=F("<button>"),bi=F("<div>"),$i=()=>{let[e,t,n]=xe([vn,Xr,Hr]);return(()=>{const r=yi(),i=r.firstChild,l=i.nextSibling,s=l.firstChild;return y(r,N(Ae,{get dice(){return e()[0]}}),l),y(r,N(Ae,{get dice(){return e()[1]}}),l),y(r,N(Ae,{get dice(){return e()[2]}}),l),y(r,N(Ae,{get dice(){return e()[3]}}),l),y(r,N(Ae,{get dice(){return e()[4]}}),l),l.$$click=()=>{t()?$n():bn()},en(s,"src",gi),M(o=>{const u=J.root,c=J.keep,a={[J.cupBtn]:!0,[J.shaking]:t(),[J.noShake]:n()},h=J.cup;return u!==o._v$&&V(r,o._v$=u),c!==o._v$2&&V(i,o._v$2=c),o._v$3=ie(l,a,o._v$3),h!==o._v$4&&V(s,o._v$4=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},Re={left:8,top:6},Ae=e=>{function t(){if(e.dice.state==="cup"||e.dice.state==="spinning")return`translateX(${Re.left+110}px) translateY(${Re.left+130}px)`;let r={kept:0,table:50+12}[e.dice.state],i=e.dice.pos*50+e.dice.pos*8;return`translateX(${Re.left+i}px) translateY(${Re.top+r}px)`}function n(){e.dice.state==="table"?_n({diceNumber:e.dice.pos}):e.dice.state==="kept"&&wn({diceNumber:e.dice.pos})}return(()=>{const r=vi();return r.$$click=n,y(r,(()=>{const i=pe(()=>e.dice.state==="spinning");return()=>i()?(()=>{const l=bi();return M(()=>V(l,J.spinner)),l})():e.dice.val})()),M(i=>{const l=J.dice,s=t();return l!==i._v$5&&V(r,i._v$5=l),s!==i._v$6&&((i._v$6=s)!=null?r.style.setProperty("transform",s):r.style.removeProperty("transform")),i},{_v$5:void 0,_v$6:void 0}),r})()};He(["click"]);const _i=F('<div><button type="button">add new player</button><br><button type="button">START</button><p>'),wi=F('<div><select name=""><option value="">-</option></select><input type="text"><button type="button">delete</button><p>error: '),Si=F("<option>"),ki=()=>{let[e,t]=xe([W.$players,W.$formError]);return(()=>{const n=_i(),r=n.firstChild,i=r.nextSibling,l=i.nextSibling,s=l.nextSibling;return y(n,N(ze,{get each(){return e()},children:(o,u)=>(()=>{const c=wi(),a=c.firstChild;a.firstChild;const h=a.nextSibling,m=h.nextSibling,p=m.nextSibling;return p.firstChild,a.addEventListener("change",f=>{W.iconChanged({n:u(),icon:f.target.value})}),y(a,()=>W.ICONS.map(f=>(()=>{const d=Si();return d.value=f,y(d,f),d})()),null),h.$$input=f=>{W.nameChanged({n:u(),name:f.target.value})},m.$$click=()=>W.removePlayerClicked(u()),y(p,()=>o.error,null),M(()=>a.value=o.icon),M(()=>h.value=o.name),c})()}),r),r.$$click=()=>W.addPlayerClicked(),l.$$click=()=>W.formSubmitted(),y(s,t),n})()};He(["click","input"]);const xi=F('<div><button type="button">RESTART'),Ci=F("<div><p>stage: "),Ai=F("<div><div><h1>Yacht</h1><div>"),Pi=()=>{let[e,t,n]=xe([T,Ur,Jr]);return(()=>{const r=Ai(),i=r.firstChild,l=i.firstChild,s=l.nextSibling;return s.style.setProperty("display","grid"),s.style.setProperty("gap","8px"),s.style.setProperty("grid-template-columns","auto 1fr"),y(s,N(Nt,{get when(){return t()},get children(){return N(ki,{})}}),null),y(s,N(Nt,{get when(){return e().stage.status!==D.Init},get children(){return[(()=>{const o=xi(),u=o.firstChild;return y(o,N(ii,{}),u),u.$$click=()=>Qr(),M(()=>u.disabled=!n()),o})(),(()=>{const o=Ci(),u=o.firstChild;return u.firstChild,y(o,N($i,{}),u),y(u,()=>JSON.stringify(e().stage),null),o})()]}}),null),M(o=>{const u=It.root,c=It.content;return u!==o._v$&&V(r,o._v$=u),c!==o._v$2&&V(i,o._v$2=c),o},{_v$:void 0,_v$2:void 0}),r})()};He(["click"]);const Mi=document.getElementById("root");Bn(()=>N(Pi,{}),Mi);
