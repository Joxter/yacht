(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Cn=(e,t)=>e===t,Fe={equals:Cn};let kn=Kt;const ie=1,je=2,zt={owned:null,cleanups:null,context:null,owner:null};var S=null;let Xe=null,b=null,P=null,ee=null,ze=0;function An(e,t){const n=b,r=S,i=e.length===0,l=i?zt:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},s=i?e:()=>e(()=>te(()=>Ge(l)));S=l,b=null;try{return be(s,!0)}finally{b=n,S=r}}function Pn(e,t){t=t?Object.assign({},Fe,t):Fe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Gt(n,i));return[Ut.bind(n),r]}function C(e,t,n){const r=Vt(e,t,!1,ie);Ue(r)}function ke(e,t,n){n=n?Object.assign({},Fe,n):Fe;const r=Vt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ue(r),Ut.bind(r)}function Mn(e){return be(e,!1)}function te(e){if(b===null)return e();const t=b;b=null;try{return e()}finally{b=t}}function Pt(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function En(e,t){const n=Symbol("context");return{id:n,Provider:jn(n),defaultValue:e}}function Nn(e){let t;return(t=Xt(S,e.id))!==void 0?t:e.defaultValue}function Tn(e){const t=ke(e),n=ke(()=>st(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ut(){if(this.sources&&this.state)if(this.state===ie)Ue(this);else{const e=P;P=null,be(()=>Re(this),!1),P=e}if(b){const e=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(e)):(b.sources=[this],b.sourceSlots=[e]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function Gt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&be(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],s=Xe&&Xe.running;s&&Xe.disposed.has(l),(s?!l.tState:!l.state)&&(l.pure?P.push(l):ee.push(l),l.observers&&Yt(l)),s||(l.state=ie)}if(P.length>1e6)throw P=[],new Error},!1)),t}function Ue(e){if(!e.fn)return;Ge(e);const t=S,n=b,r=ze;b=S=e,On(e,e.value,r),b=n,S=t}function On(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=ie,e.owned&&e.owned.forEach(Ge),e.owned=null),e.updatedAt=n+1,Ht(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Gt(e,r):e.value=r,e.updatedAt=n)}function Vt(e,t,n,r=ie,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:null,pure:n};return S===null||S!==zt&&(S.owned?S.owned.push(l):S.owned=[l]),l}function Wt(e){if(e.state===0)return;if(e.state===je)return Re(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ze);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ie)Ue(e);else if(e.state===je){const r=P;P=null,be(()=>Re(e,t[0]),!1),P=r}}function be(e,t){if(P)return e();let n=!1;t||(P=[]),ee?n=!0:ee=[],ze++;try{const r=e();return Dn(n),r}catch(r){n||(ee=null),P=null,Ht(r)}}function Dn(e){if(P&&(Kt(P),P=null),e)return;const t=ee;ee=null,t.length&&be(()=>kn(t),!1)}function Kt(e){for(let t=0;t<e.length;t++)Wt(e[t])}function Re(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===ie?r!==t&&(!r.updatedAt||r.updatedAt<ze)&&Wt(r):i===je&&Re(r,t)}}}function Yt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=je,n.pure?P.push(n):ee.push(n),n.observers&&Yt(n))}}function Ge(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),s=n.observerSlots.pop();r<i.length&&(l.sourceSlots[s]=r,i[r]=l,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ge(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Fn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ht(e,t=S){throw Fn(e)}function Xt(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Xt(e.owner,t):void 0}function st(e){if(typeof e=="function"&&!e.length)return st(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=st(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function jn(e,t){return function(r){let i;return C(()=>i=te(()=>(S.context={[e]:r.value},Tn(()=>r.children))),void 0),i}}function O(e,t){return te(()=>e(t||{}))}const Rn=e=>`Stale read from <${e}>.`;function Mt(e){const t=e.keyed,n=ke(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return ke(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?te(()=>i(t?r:()=>{if(!te(n))throw Rn("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Ln(e,t,n){let r=n.length,i=t.length,l=r,s=0,o=0,p=t[i-1].nextSibling,h=null;for(;s<i||o<l;){if(t[s]===n[o]){s++,o++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===s){const d=l<r?o?n[o-1].nextSibling:n[l-o]:p;for(;o<l;)e.insertBefore(n[o++],d)}else if(l===o)for(;s<i;)(!h||!h.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[o]===t[i-1]){const d=t[--i].nextSibling;e.insertBefore(n[o++],t[s++].nextSibling),e.insertBefore(n[--l],d),t[i]=n[l]}else{if(!h){h=new Map;let f=o;for(;f<l;)h.set(n[f],f++)}const d=h.get(t[s]);if(d!=null)if(o<d&&d<l){let f=s,m=1,u;for(;++f<i&&f<l&&!((u=h.get(t[f]))==null||u!==d+m);)m++;if(m>d-o){const c=t[s];for(;o<d;)e.insertBefore(n[o++],c)}else e.replaceChild(n[o++],t[s++])}else s++;else t[s++].remove()}}}const Et="_$DX_DELEGATE";function In(e,t,n,r={}){let i;return An(l=>{i=l,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function F(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},l=t?()=>te(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return l.cloneNode=l,l}function yt(e,t=window.document){const n=t[Et]||(t[Et]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,Bn))}}function qn(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function X(e,t){t==null?e.removeAttribute("class"):e.className=t}function ue(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let l,s;for(l=0,s=i.length;l<s;l++){const o=i[l];!o||o==="undefined"||t[o]||(Nt(e,o,!1),delete n[o])}for(l=0,s=r.length;l<s;l++){const o=r[l],p=!!t[o];!o||o==="undefined"||n[o]===p||!p||(Nt(e,o,!0),n[o]=p)}return n}function y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Le(e,t,r,n);C(i=>Le(e,t(),i,n),r)}function Nt(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,l=r.length;i<l;i++)e.classList.toggle(r[i],n)}function Bn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Le(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),s){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=le(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=le(e,n,r);else{if(l==="function")return C(()=>{let o=t();for(;typeof o=="function";)o=o();n=Le(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],p=n&&Array.isArray(n);if(ot(o,t,n,i))return C(()=>n=Le(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=le(e,n,r),s)return n}else p?n.length===0?Tt(e,o,r):Ln(e,n,o):(n&&le(e),Tt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=le(e,n,r,t);le(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ot(e,t,n,r){let i=!1;for(let l=0,s=t.length;l<s;l++){let o=t[l],p=n&&n[l],h;if(!(o==null||o===!0||o===!1))if((h=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=ot(e,o,p)||i;else if(h==="function")if(r){for(;typeof o=="function";)o=o();i=ot(e,Array.isArray(o)?o:[o],Array.isArray(p)?p:[p])||i}else e.push(o),i=!0;else{const d=String(o);p&&p.nodeType===3&&p.data===d?e.push(p):e.push(document.createTextNode(d))}}return i}function Tt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function le(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const p=o.parentNode===e;!l&&!s?p?e.replaceChild(i,o):e.insertBefore(i,n):p&&o.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const zn="_root_7vb0q_1",Un="_content_7vb0q_5",Ot={root:zn,content:Un},W={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Gn=6,Vn=[{name:"Aces",icon:"",isMatch:e=>se(e,1)},{name:"Deuces",icon:"",isMatch:e=>se(e,2)},{name:"Threes",icon:"",isMatch:e=>se(e,3)},{name:"Fours",icon:"",isMatch:e=>se(e,4)},{name:"Fives",icon:"",isMatch:e=>se(e,5)},{name:"Sixes",icon:"",isMatch:e=>se(e,6)}];let Jt={name:"Extra",icon:"",isMatch:(e,t)=>Jn(t)>=63?35:!1};const Wn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?Je(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?Je(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>Je(e)}];function Kn(){return{name:"",scores:Yn()}}function Yn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function se(e,t){let n=Hn(e,t);return n?n*t:!1}function Hn(e,t){return e[t-1]}function Xn(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function Je(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function Jn(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function Qn(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function Zn(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function Qt(){return[{val:1,pos:0,state:"cup"},{val:1,pos:1,state:"cup"},{val:1,pos:2,state:"cup"},{val:1,pos:3,state:"cup"},{val:1,pos:4,state:"cup"}]}function er(){let e={status:W.Init},t=[],n=Qt();return{stage:e,players:t,dices:n}}function tr(e,t){let n=lr(e);if(!n)return{stage:e,dices:t};let r=t.map(i=>i.state!=="kept"?{...i,state:"spinning"}:i);return{stage:n,dices:r}}function nr(e,t){let n=sr(e);if(!n)return{stage:e,dices:t};let r=t.filter(l=>l.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((l,s)=>s-l);return{dices:t.map(l=>l.state==="spinning"?{pos:l.pos,val:r.pop(),state:"table"}:l),stage:n}}function rr(e,t){return e.status===W.Init&&t.every(n=>n.name.trim()!=="")?{status:W.PlayerMove,player:0,step:0,spinning:!1}:e}function ir(e){return e.status===W.PlayerMove&&!e.spinning&&e.step<=3}function lr(e){return e.status===W.PlayerMove&&e.step<=3?{...e,spinning:!0,step:e.step+1}:!1}function sr(e){return e.status===W.PlayerMove&&e.spinning?{...e,spinning:!1}:!1}function or(e){return e.status===W.PlayerMove&&e.spinning}function Zt(e,t,n){if(e.status===W.PlayerMove&&n.name!=="Extra"){let r=[...t];if(r[e.player].scores={...r[e.player].scores,[n.name]:n.score},Zn(n.name)&&Qn(r[e.player].scores)){let l=Jt.isMatch([],r[e.player].scores)||0;r[e.player].scores={...r[e.player].scores,Extra:l}}let i=(e.player+1)%t.length;return ar(r[i])?{players:r,stage:{status:W.Finish,winners:cr(r)}}:{players:r,stage:{...e,player:i,step:0}}}return{players:t,stage:e}}function ar(e){return Object.values(e.scores).every(t=>t!==null)}function ur(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function cr(e){let t=e.map(i=>ur(i)),n=Math.max(...t),r=[];for(let i=0;i<t.length;i++)t[i]===n&&r.push(i);return r}const fr="_root_1eweb_1",dr="_scoreRow_1eweb_8",pr="_scoreCell_1eweb_12",hr="_matched_1eweb_21",mr="_done_1eweb_30",R={root:fr,scoreRow:dr,scoreCell:pr,matched:hr,done:mr};function vt(e,t){for(let n in e)t(e[n],n)}function D(e,t){e.forEach(t)}function I(e,t){if(!e)throw Error(t)}function J({node:e=[],from:t,source:n,parent:r=t||n,to:i,target:l,child:s=i||l,scope:o={},meta:p={},family:h={type:"regular"},regional:d}={}){let f=Se(r),m=Se(h.links),u=Se(h.owners),c=[];D(e,g=>g&&H(c,g));let a={id:kr(),seq:c,next:Se(s),meta:p,scope:o,family:{type:h.type||"crosslink",links:m,owners:u}};return D(m,g=>H(Ve(g),a)),D(u,g=>H(We(g),a)),D(f,g=>H(g.next,a)),d&&ce&&wt(xe(ce),[a]),a}function Ie(e,t,n){let r,i=z,l=null,s=v;if(e.target&&(t=e.params,n=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(l=e.stack),s=Te(e)||s,e=e.target),s&&v&&s!==v&&(v=null),Array.isArray(e))for(let c=0;c<e.length;c++)Z("pure",i,G(e[c]),l,t[c],s,r);else Z("pure",i,G(e),l,t,s,r);if(n&&!Oe)return;let o,p,h,d,f,m,u={isRoot:Oe,currentPage:z,scope:v,isWatch:nt,isPure:De};Oe=0;e:for(;d=Nr();){let{idx:c,stack:a,type:g}=d;h=a.node,z=f=a.page,v=Te(a),f?m=f.reg:v&&(m=v.reg);let $=!!f,M=!!v,j={fail:0,scope:h.scope};o=p=0;for(let A=c;A<h.seq.length&&!o;A++){let w=h.seq[A];if(w.order){let{priority:k,barrierID:_}=w.order,x=_?f?`${f.fullID}_${_}`:_:0;if(A!==c||g!==k){_?tt.has(x)||(tt.add(x),ft(A,a,k,_)):ft(A,a,k);continue e}_&&tt.delete(x)}switch(w.type){case"mov":{let _,x=w.data;switch(x.from){case ne:_=xe(a);break;case"a":case"b":_=a[x.from];break;case"value":_=x.store;break;case"store":if(m&&!m[x.store.id])if($){let He=un(f,x.store.id);a.page=f=He,He?m=He.reg:M?(ye(v,x.store,0,1,x.softRead),m=v.reg):m=void 0}else M&&ye(v,x.store,0,1,x.softRead);_=Ce(m&&m[x.store.id]||x.store)}switch(x.to){case ne:a.value=_;break;case"a":case"b":a[x.to]=_;break;case"store":Tr(f,v,h,x.target).current=_}break}case"compute":let k=w.data;if(k.fn){nt=T(h,"op")==="watch",De=k.pure;let _=k.safe?(0,k.fn)(xe(a),j.scope,a):Dr(j,k.fn,a);k.filter?p=!_:a.value=_,nt=u.isWatch,De=u.isPure}}o=j.fail||p}if(!o){let A=xe(a),w=Te(a);if(D(h.next,k=>{Z("child",f,k,a,A,w)}),w){T(h,"needFxCounter")&&Z("child",f,w.fxCount,a,A,w),T(h,"storeChange")&&Z("child",f,w.storeChange,a,A,w),T(h,"warnSerialize")&&Z("child",f,w.warnSerializeNode,a,A,w);let k=w.additionalLinks[h.id];k&&D(k,_=>{Z("child",f,_,a,A,w)})}}}Oe=u.isRoot,z=u.currentPage,v=Te(u)}function en(e,t="combine"){let n=t+"(",r="",i=0;return vt(e,l=>{i<25&&(l!=null&&(n+=r,n+=re(l)?tn(l).fullName:l.toString()),i+=1,r=", ")}),n+")"}function gr(e,t){let n,r,i=e;if(t){let l=tn(t);e.length===0?(n=l.path,r=l.fullName):(n=l.path.concat([e]),r=l.fullName.length===0?e:l.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:n}}function bt(e,t){let n=t?e:e[0];on(n);let r=n.or,i=n.and;if(i){let l=t?i:i[0];if(K(l)&&"and"in l){let s=bt(i,t);e=s[0],r={...r,...s[1]}}else e=i}return[e,r]}function B(e,...t){let n=sn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function E(e,t){let n=Pe({or:t,and:typeof e=="string"?{name:e}:e}),r=(s,...o)=>(pe(!T(r,"derived"),"call of derived event","createEvent"),pe(!De,"unit call from pure function","operators like sample"),z?((p,h,d,f)=>{let m=z,u=null;if(h)for(u=z;u&&u.template!==h;)u=de(u);Rt(u);let c=p.create(d,f);return Rt(m),c})(r,i,s,o):r.create(s,o)),i=sn(),l=Object.assign(r,{graphite:J({meta:dn(n.actualOp||"event",r,n),regional:1}),create:s=>(Ie({target:r,params:s,scope:v}),s),watch:s=>fn(r,s),map:s=>rt(r,fe,s,[V()]),filter:s=>rt(r,"filter",s.fn?s:s.fn,[V(_t,1)]),filterMap:s=>rt(r,"filterMap",s,[V(),he(o=>!L(o),1)]),prepend(s){let o=E("* → "+r.shortName,{parent:de(r)});return B("eventPrepend",G(o)),$e(o,r,[V()],"prepend",s),Fr(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(l),oe(l,"id",l.graphite.id),ln(l.graphite),l}function Dt(e,t,n,r){return Be(n,t,"first argument"),I(Y(r),"second argument should be a function"),pe(!T(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),D(Array.isArray(n)?n:[n],i=>{e.off(i),qe(e).set(i,cn(pn(i,e,"on",Mr,r)))}),e}function Me(e,t){let n=Pe(t),r=ge(e),i=E({named:"updates",derived:1});B("storeBase",r);let l=r.id,s={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let u,c=r;if(z){let a=z;for(;a&&!a.reg[l];)a=de(a);a&&(u=a)}return!u&&v&&(ye(v,r,1),u=v),u&&(c=u.reg[l]),Ce(c)},setState:u=>Ie({target:s,params:u,defer:1,scope:v}),reset:(...u)=>(D(u,c=>Dt(s,".reset",c,()=>s.defaultState)),s),on:(u,c)=>Dt(s,".on",u,c),off(u){let c=qe(s).get(u);return c&&(c(),qe(s).delete(u)),s},map(u,c){let a,g;K(u)&&(a=u,u=u.fn),pe(L(c),"second argument of store.map","updateFilter");let $=s.getState();L($)||(g=u($,c));let M=Me(g,{name:`${s.shortName} → *`,derived:1,and:a}),j=pn(s,M,fe,ut,u);return ct(U(M),{type:fe,fn:u,from:r}),U(M).noInit=1,B("storeMap",r,j),M},watch(u,c){if(!c||!re(u)){let a=fn(s,u);return B("storeWatch",r,u)||u(s.getState()),a}return I(Y(c),"second argument should be a function"),u.watch(a=>c(s.getState(),a))}},o=dn("store",s,n),p=s.defaultConfig.updateFilter;s.graphite=J({scope:{state:r,fn:p},node:[he((u,c,a)=>(a.scope&&!a.scope.reg[r.id]&&(a.b=1),u)),me(r),he((u,c,{a,b:g})=>!L(u)&&(u!==a||g),1),p&&V(ut,1),q({from:ne,target:r})],child:i,meta:{...o,defaultState:e},regional:1}),oe(s,"id",s.graphite.id),oe(s,"rootStateRefId",l);let h=T(s,"serialize"),d=T(s,"derived"),f=h==="ignore",m=T(s,"sid");return m&&(oe(s,"storeChange",1),r.sid=m),m||f||d||oe(s,"warnSerialize",1),I(d||!L(e),"current state can't be undefined, use null instead"),wt(s,[i]),n!=null&&n.domain&&n.domain.hooks.store(s),d||(s.reinit=E({named:"reinit"}),s.reset(s.reinit)),r.meta=s.graphite.meta,ln(s.graphite),s}function yr(...e){let t,n,r;[e,r]=bt(e);let i,l,s,o=e[e.length-1];if(Y(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let p=n[0];Q(p)||(i=p,l=1)}if(!l&&(i=n,t)){s=1;let p=t;t=h=>p(...h)}return I(K(i),"shape should be an object"),jr(Array.isArray(i),!s,i,r,t)}function vr(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function br(e,t){Be(e,"merge","first argument");let n=E({name:en(e,"merge"),derived:1,and:t});return $e(e,n,[],"merge"),n}function $r(e,t){let n=0;return D(Rr,r=>{r in e&&(I(e[r]!=null,hn(t,r)),n=1)}),n}function Ee(...e){let t,n,r,i,[[l,s,o],p]=bt(e),h=1;return L(s)&&K(l)&&$r(l,"sample")&&(s=l.clock,o=l.fn,h=!l.greedy,i=l.filter,t=l.target,n=l.name,r=l.sid,l=l.source),Lr("sample",s,l,i,t,o,n,p,h,1,0,r)}function wr(e,{scope:t,safe:n}={}){I(t||v||n,"scopeBind cannot be called outside of forked .watch");let r=t||v;return at(e)?i=>{let l=vr();return Ie({target:e,params:{params:i,req:l},scope:r}),l.req}:i=>(Ie({target:e,params:i,scope:r}),i)}let _r=typeof Symbol<"u"&&Symbol.observable||"@@observable",fe="map",ne="stack",G=e=>e.graphite||e,Ve=e=>e.family.owners,We=e=>e.family.links,U=e=>e.stateRef,xe=e=>e.value,qe=e=>e.subscribers,de=e=>e.parent,Te=e=>e.scope,T=(e,t)=>G(e).meta[t],oe=(e,t,n)=>G(e).meta[t]=n,tn=e=>e.compositeName,re=e=>(Y(e)||K(e))&&"kind"in e;const Ne=e=>t=>re(t)&&t.kind===e;let Q=Ne("store"),Sr=Ne("event"),at=Ne("effect"),nn=Ne("domain"),xr=Ne("scope");var Qe={__proto__:null,unit:re,store:Q,event:Sr,effect:at,domain:nn,scope:xr,attached:e=>at(e)&&T(e,"attached")==1};let Ze=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},H=(e,t)=>e.push(t),pe=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const $t=()=>{let e=0;return()=>""+ ++e};let Cr=$t(),rn=$t(),kr=$t(),ce=null,ln=e=>{},sn=()=>ce,Ar=e=>(e&&ce&&ce.sidRoot&&(e=`${ce.sidRoot}|${e}`),e),wt=(e,t)=>{let n=G(e);D(t,r=>{let i=G(r);n.family.type!=="domain"&&(i.family.type="crosslink"),H(Ve(i),n),H(We(n),i)})},Se=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(G),K=e=>typeof e=="object"&&e!==null,Y=e=>typeof e=="function",L=e=>e===void 0,on=e=>I(K(e)||Y(e),"expect first argument be an object");const Ft=(e,t,n,r)=>I(!(!K(e)&&!Y(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let Be=(e,t,n)=>{Array.isArray(e)?D(e,(r,i)=>Ft(r,t,`${i} item of ${n}`,"")):Ft(e,t,n," or array of units")},Pr=(e,t,n="target")=>D(Se(t),r=>pe(!T(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),ut=(e,{fn:t},{a:n})=>t(e,n),Mr=(e,{fn:t},{a:n})=>t(n,e),_t=(e,{fn:t})=>t(e);const an=(e,t,n,r)=>{let i={id:rn(),type:e,data:t};return n&&(i.order={priority:n},r&&(i.order.barrierID=++Er)),i};let Er=0,q=({from:e="store",store:t,target:n,to:r=n?"store":ne,batch:i,priority:l})=>an("mov",{from:e,store:t,to:r,target:n},l,i),Ae=({fn:e,batch:t,priority:n,safe:r=0,filter:i=0,pure:l=0})=>an("compute",{fn:e,safe:r,filter:i,pure:l},n,t),St=({fn:e})=>Ae({fn:e,priority:"effect"}),he=(e,t,n)=>Ae({fn:e,safe:1,filter:t,priority:n&&"effect"}),me=(e,t,n)=>q({store:e,to:t?ne:"a",priority:n&&"sampler",batch:1}),V=(e=_t,t)=>Ae({fn:e,pure:1,filter:t}),et={mov:q,compute:Ae,filter:({fn:e,pure:t})=>Ae({fn:e,filter:1,pure:t}),run:St},ge=e=>({id:rn(),current:e}),Ce=({current:e})=>e,ct=(e,t)=>{e.before||(e.before=[]),H(e.before,t)},ae=null;const xt=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||dt(e.v.type)>dt(t.v.type))&&(n=e,e=t,t=n),n=xt(e.r,t),e.r=e.l,e.l=n,e},Ct=[];let jt=0;for(;jt<6;)H(Ct,{first:null,last:null,size:0}),jt+=1;const Nr=()=>{for(let e=0;e<6;e++){let t=Ct[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=ae.v;return ae=xt(ae.l,ae.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},Z=(e,t,n,r,i,l,s)=>ft(0,{a:null,b:null,node:n,parent:r,value:i,page:t,scope:l,meta:s},e),ft=(e,t,n,r=0)=>{let i=dt(n),l=Ct[i],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};i===3||i===4?ae=xt(ae,s):(l.size===0?l.first=s:l.last.r=s,l.last=s),l.size+=1},dt=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},tt=new Set;let v,Oe=1,nt=0,De=0,z=null,Rt=e=>{z=e};const un=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=de(e);if(e)return e}return null};let Tr=(e,t,n,r,i)=>{let l=un(e,r.id);return l?l.reg[r.id]:t?(ye(t,r,i),t.reg[r.id]):r};const Or=e=>e;let ye=(e,t,n,r,i)=>{var l;let s=e.reg,o=t.sid,p=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize,h=e.fromSerialize&&p!=="ignore"&&p?.read||Or;if(s[t.id])return;let d={id:t.id,current:t.current,meta:t.meta};if(d.id in e.values.idMap)d.current=e.values.idMap[d.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))d.current=h(e.values.sidMap[o]);else if(t.before&&!i){let f=0,m=n||!t.noInit||r;D(t.before,u=>{switch(u.type){case fe:{let c=u.from;if(c||u.fn){c&&ye(e,c,n,r);let a=c&&s[c.id].current;m&&(d.current=u.fn?u.fn(a):a)}break}case"field":f||(f=1,d.current=Array.isArray(d.current)?[...d.current]:{...d.current}),ye(e,u.from,n,r),m&&(d.current[u.field]=s[s[u.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=d};const Dr=(e,t,n)=>{try{return t(xe(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Pe=(e,t={})=>(K(e)&&(Pe(e.or,t),vt(e,(n,r)=>{L(n)||r==="or"||r==="and"||(t[r]=n)}),Pe(e.and,t)),t);const Lt=(e,t)=>{Ze(e.next,t),Ze(Ve(e),t),Ze(We(e),t)},pt=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=We(e);for(;r=i.pop();)Lt(r,e),(t||n&&T(e,"op")!=="sample"||r.family.type==="crosslink")&&pt(r,t,T(r,"op")!=="on"&&n);for(i=Ve(e);r=i.pop();)Lt(r,e),n&&r.family.type==="crosslink"&&pt(r,t,T(r,"op")!=="on"&&n)},we=e=>e.clear();let ht=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),Q(e))we(qe(e));else if(nn(e)){n=1;let r=e.history;we(r.events),we(r.effects),we(r.stores),we(r.domains)}pt(G(e),!!t,n)},cn=e=>{let t=()=>ht(e);return t.unsubscribe=t,t},$e=(e,t,n,r,i)=>J({node:n,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),fn=(e,t)=>(I(Y(t),".watch argument should be a function"),cn(J({scope:{fn:t},node:[St({fn:_t})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Fr=(e,t,n="event")=>{de(e)&&de(e).hooks[n](t)},dn=(e,t,n)=>{let r=Pe(n),i=e==="domain",l=Cr(),{sid:s=null,named:o=null,domain:p=null,parent:h=p}=r,d=o||r.name||(i?"":l),f=gr(d,h),m={op:t.kind=e,name:t.shortName=d,sid:t.sid=Ar(s),named:o,unitId:t.id=l,serialize:r.serialize,derived:r.derived,config:r};return t.parent=h,t.compositeName=f,t.defaultConfig=r,t.thru=u=>(pe(0,"thru","js pipe"),u(t)),t.getType=()=>f.fullName,!i&&(t.subscribe=u=>(on(u),t.watch(Y(u)?u:c=>u.next&&u.next(c))),t[_r]=()=>t),m};const rt=(e,t,n,r)=>{let i;K(n)&&(i=n,n=n.fn);let l=E({name:`${e.shortName} → *`,derived:1,and:i});return $e(e,l,r,t,n),l},pn=(e,t,n,r,i)=>{let l=U(t),s=q({store:l,to:"a",priority:"read"});n===fe&&(s.data.softRead=1);let o=[s,V(r)];return B("storeOnMap",l,o,Q(e)&&U(e)),$e(e,t,o,n,i)},jr=(e,t,n,r,i)=>{let l=e?c=>[...c]:c=>({...c}),s=e?[]:{},o=l(s),p=ge(o),h=ge(1);p.type=e?"list":"shape",p.noInit=1,B("combineBase",p,h);let d=Me(o,{name:en(n),derived:1,and:r}),f=U(d);f.noInit=1,oe(d,"isCombine",1);let m=me(p);m.order={priority:"barrier"};let u=[he((c,a,g)=>(g.scope&&!g.scope.reg[p.id]&&(g.c=1),c)),m,q({store:h,to:"b"}),he((c,{key:a},g)=>{if(g.c||c!==g.a[a])return t&&g.b&&(g.a=l(g.a)),g.a[a]=c,1},1),q({from:"a",target:p}),q({from:"value",store:0,target:h}),q({from:"value",store:1,target:h,priority:"barrier",batch:1}),me(p,1),i&&V()];return vt(n,(c,a)=>{if(!Q(c))return I(!re(c)&&!L(c),`combine expects a store in a field ${a}`),void(o[a]=s[a]=c);s[a]=c.defaultState,o[a]=c.getState();let g=$e(c,d,u,"combine",i);g.scope.key=a;let $=U(c);ct(p,{type:"field",field:a,from:$}),B("combineField",$,g)}),d.defaultShape=n,ct(f,{type:fe,from:p,fn:i}),d.defaultState=i?f.current=i(o):s,d};J({node:[St({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const Rr=["source","clock","target"],hn=(e,t)=>e+`: ${t} should be defined`;let Lr=(e,t,n,r,i,l,s,o,p,h,d,f)=>{let m=!!i;I(!L(n)||!L(t),hn(e,"either source or clock"));let u=0;L(n)?u=1:re(n)||(n=yr(n)),L(t)?t=n:(Be(t,e,"clock"),Array.isArray(t)&&(t=br(t))),u&&(n=t),o||s||(s=n.shortName);let c="none";(d||r)&&(re(r)?c="unit":(I(Y(r),"`filter` should be function or unit"),c="fn")),i?(Be(i,e,"target"),Pr(e,i)):c==="none"&&h&&Q(n)&&Q(t)?i=Me(l?l(Ce(U(n)),Ce(U(t))):Ce(U(n)),{name:s,sid:f,or:o}):(i=E({name:s,derived:1,or:o}),B("sampleTarget",G(i)));let a=ge(),g=[];if(c==="unit"){let[A,w]=It(r,i,t,a,e);g=[...it(w),...it(A)]}let[$,M]=It(n,i,t,a,e),j=$e(t,i,[B("sampleSourceLoader"),q({from:ne,target:a}),...it(M),me($,1,p),...g,me(a),c==="fn"&&V((A,w,{a:k})=>r(A,k),1),l&&V(ut),B("sampleSourceUpward",m)],e,l);return wt(n,[j]),Object.assign(j.meta,o,{joint:1}),i};const it=e=>[me(e),he((t,n,{a:r})=>r,1)],It=(e,t,n,r,i)=>{let l=Q(e),s=l?U(e):ge(),o=ge(l);return l||J({parent:e,node:[q({from:ne,target:s}),q({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:i},regional:1}),B("sampleSource",o,s,r),[s,o]};let mt=er(),N=Me({stage:mt.stage,dices:mt.dices}),ve=Me(mt.players),mn=N.map(e=>e.dices),Ir=mn.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?t:null}),qr=N.map(e=>"player"in e.stage?e.stage.player:0),gn=N.map(e=>ir(e.stage)),yn=N.map(e=>or(e.stage)),Ke=E(),vn=E(),Ye=E(),kt=E(),bn=E(),$n=E(),wn=E(),_n=E(),At=E();Ee({source:N,clock:bn,filter:gn,fn:e=>tr(e.stage,e.dices),target:N});Ee({source:N,clock:$n,filter:yn,fn:e=>nr(e.stage,e.dices),target:N});ve.on(Ke,e=>e.length<Gn?[...e,Kn()]:e).on(vn,(e,t)=>{if(e.length<2)return e;let n=[...e];return n.splice(t,1),n}).on(Ye,(e,{n:t,name:n})=>{let r=[...e];return r[t].name=n,r});Ee({source:[ve,N],clock:At,fn:([e,t],n)=>Zt(t.stage,e,n).players,target:ve});Ee({source:[ve,N],clock:At,fn:([e,t],n)=>({stage:Zt(t.stage,e,n).stage,dices:Qt()}),target:N});Ee({source:[ve,N],clock:kt,fn:([e,t])=>({...t,stage:rr(t.stage,e)}),target:N});N.on(wn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.pos===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(_n,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.pos===t?{...r,state:"table"}:r);return{...e,dices:n}});Ke();Ke();Ye({n:0,name:"aaa"});Ye({n:1,name:"bbb"});kt();const Br=F('<div><div><button type="button">add new player</button><br><button type="button">START</button></div><div><p> Scores:</p></div><div></div><p>---</p><div>'),zr=F('<div><input type="text"><button type="button">delete'),Ur=F("<p>"),Sn=F("<div><p>"),xn=F('<button type="button" disabled>'),Gr=F('<button type="button">'),Vr=F('<button type="button"> '),Wr=e=>{function t(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const n=Br(),r=n.firstChild,i=r.firstChild,l=i.nextSibling,s=l.nextSibling,o=r.nextSibling;o.firstChild;const p=o.nextSibling,h=p.nextSibling,d=h.nextSibling;return y(r,()=>e.players.map((f,m)=>(()=>{const u=zr(),c=u.firstChild,a=c.nextSibling;return c.addEventListener("change",g=>{Ye({n:m,name:g.target.value})}),a.$$click=()=>vn(m),C(()=>c.value=f.name),u})()),i),i.$$click=()=>Ke(),s.$$click=()=>kt(),y(o,()=>e.players.map((f,m)=>(()=>{const u=Ur();return y(u,m+1),C(()=>qn(u,"title",f.name)),u})()),null),y(p,()=>Vn.map(f=>O(qt,{get dices(){return e.dices},get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:f}))),y(n,O(Kr,{get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:Jt}),h),y(d,()=>Wn.map(f=>O(qt,{get dices(){return e.dices},get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:f}))),C(f=>{const m=R.root,u=R.root,c={[R.scoreRow]:!0},a=t();return m!==f._v$&&X(n,f._v$=m),u!==f._v$2&&X(r,f._v$2=u),f._v$3=ue(o,c,f._v$3),a!==f._v$4&&((f._v$4=a)!=null?o.style.setProperty("grid-template-columns",a):o.style.removeProperty("grid-template-columns")),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},qt=e=>{const{isMatch:t,name:n}=e.category;function r(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const i=Sn(),l=i.firstChild;return y(l,n),y(i,()=>e.players.map((s,o)=>{if(s.scores[n]!==null)return(()=>{const d=xn();return y(d,()=>s.scores[n]),C(()=>X(d,R.scoreCell)),d})();if(e.currentPlayer===o&&e.dices){const d=t(Xn(e.dices),s.scores)||0;return(()=>{const f=Gr();return f.$$click=()=>At({score:d,name:n}),y(f,d),C(m=>ue(f,{[R.scoreCell]:!0,[R.matched]:!0},m)),f})()}return(()=>{const d=Vr();return C(f=>ue(d,{[R.scoreCell]:!0,[R.done]:!0},f)),d})()}),null),C(s=>{const o={[R.scoreRow]:!0},p=r();return s._v$5=ue(i,o,s._v$5),p!==s._v$6&&((s._v$6=p)!=null?i.style.setProperty("grid-template-columns",p):i.style.removeProperty("grid-template-columns")),s},{_v$5:void 0,_v$6:void 0}),i})()},Kr=e=>{const{name:t}=e.category;function n(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const r=Sn(),i=r.firstChild;return y(i,t),y(r,()=>e.players.map((l,s)=>(()=>{const o=xn();return y(o,()=>l.scores[t]),C(p=>ue(o,{[R.scoreCell]:!0,[R.done]:!0},p)),o})()),null),C(l=>{const s={[R.scoreRow]:!0},o=n();return l._v$7=ue(r,s,l._v$7),o!==l._v$8&&((l._v$8=o)!=null?r.style.setProperty("grid-template-columns",o):r.style.removeProperty("grid-template-columns")),l},{_v$7:void 0,_v$8:void 0}),r})()};yt(["click"]);function Yr(e,t){var n;return((r,i)=>{let l=!Qe.unit(r)&&typeof r=="object",s={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?s=r["@@unitShape"]():lt("expect @@unitShape to be a function"):s=l?r:{unit:r};let o=Array.isArray(s),p=Object.entries(s),h=o?[]:{},d=[],f={},m={};for(let[c,a]of p)if(Qe.store(a))if(f[a.graphite.id]){let g=f[a.graphite.id];h[c]=h[g],m[c]=h[g]}else{d.push(a),f[a.graphite.id]=c;let[g,$]=Pn(Bt(a,i));h[c]=g,m[c]=$}else Qe.unit(a)||lt("expected useUnit argument to be a unit"),h[c]=i?wr(a,{scope:i}):a;let u=[et.compute({priority:"effect"}),et.compute({priority:"sampler",batch:1}),et.run({fn:()=>{Mn(()=>{for(let c of d)m[f[c.graphite.id]](()=>Bt(c,i))})}})];if(i){let c=J({node:u}),a=i.additionalLinks,g=[];d.forEach($=>{let M=$.graphite.id,j=a[M]||[];a[M]=j,j.push(c),g.push(j)}),Pt(()=>{g.forEach($=>{let M=$.indexOf(c);M!==-1&&$.splice(M,1)}),ht(c)})}else{let c=J({node:u,parent:d,family:{owners:d}});Pt(()=>{ht(c)})}return l?h:h.unit})(e,((r=1)=>{let i=Nn(Hr);return r&&!i&&lt("No scope found, consider adding <Provider> to app root"),i})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let lt=e=>{throw Error(e)};const Bt=(e,t)=>t?t.getState(e):e.getState();let Hr=En(null);const Xr="_root_34bju_1",Jr="_dice_34bju_7",Qr="_spinner_34bju_25",Zr="_spin_34bju_25",gt={root:Xr,dice:Jr,spinner:Qr,spin:Zr},ei=F("<div><h3>kept dices</h3><h3>table dices</h3><h3>box dices"),ti=F("<button>"),ni=F("<div>"),ri=e=>(()=>{const t=ei();return t.firstChild.nextSibling.nextSibling,y(t,O(_e,{get dice(){return e.dices[0]}}),null),y(t,O(_e,{get dice(){return e.dices[1]}}),null),y(t,O(_e,{get dice(){return e.dices[2]}}),null),y(t,O(_e,{get dice(){return e.dices[3]}}),null),y(t,O(_e,{get dice(){return e.dices[4]}}),null),C(()=>X(t,gt.root)),t})(),_e=e=>{function t(){let r={kept:0,table:58,cup:116,spinning:116}[e.dice.state];return`translateX(${e.dice.pos*50+(e.dice.pos-1)*8}px) translateY(${r}px)`}function n(){e.dice.state==="table"?wn({diceNumber:e.dice.pos}):e.dice.state==="kept"&&_n({diceNumber:e.dice.pos})}return(()=>{const r=ti();return r.$$click=n,y(r,(()=>{const i=ke(()=>e.dice.state==="spinning");return()=>i()?(()=>{const l=ni();return C(()=>X(l,gt.spinner)),l})():e.dice.val})()),C(i=>{const l=gt.dice,s=t();return l!==i._v$&&X(r,i._v$=l),s!==i._v$2&&((i._v$2=s)!=null?r.style.setProperty("transform",s):r.style.removeProperty("transform")),i},{_v$:void 0,_v$2:void 0}),r})()};yt(["click"]);const ii=F('<button type="button">spin dices'),li=F('<button type="button">throw dices'),si=F("<div><div><h1>Yacht</h1><div><div></div><div><div></div><p>stage: "),oi=()=>{let[e,t,n,r,i,l,s]=Yr([Ir,mn,ve,qr,gn,yn,N]);return(()=>{const o=si(),p=o.firstChild,h=p.firstChild,d=h.nextSibling,f=d.firstChild,m=f.nextSibling,u=m.firstChild,c=u.nextSibling;return c.firstChild,d.style.setProperty("display","grid"),d.style.setProperty("gap","8px"),d.style.setProperty("grid-template-columns","auto 1fr"),y(f,O(Wr,{get dices(){return e()},get currentPlayer(){return r()},get players(){return n()}})),y(m,O(ri,{get dices(){return t()}}),u),y(u,O(Mt,{get when(){return i()},get children(){const a=ii();return a.$$click=()=>bn(),a}}),null),y(u,O(Mt,{get when(){return l()},get children(){const a=li();return a.$$click=()=>$n(),C(()=>a.disabled=!l()),a}}),null),y(c,()=>JSON.stringify(s().stage),null),C(a=>{const g=Ot.root,$=Ot.content;return g!==a._v$&&X(o,a._v$=g),$!==a._v$2&&X(p,a._v$2=$),a},{_v$:void 0,_v$2:void 0}),o})()};yt(["click"]);const ai=document.getElementById("root");In(()=>O(oi,{}),ai);
