(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const Mn=(e,t)=>e===t,Nn=Symbol("solid-track"),je={equals:Mn};let On=en;const oe=1,Be=2,Vt={owned:null,cleanups:null,context:null,owner:null};var P=null;let nt=null,x=null,T=null,re=null,Ve=0;function qe(e,t){const n=x,r=P,l=e.length===0,i=l?Vt:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},s=l?e:()=>e(()=>Z(()=>He(i)));P=i,x=null;try{return Se(s,!0)}finally{x=n,P=r}}function Xt(e,t){t=t?Object.assign({},je,t):je;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=l=>(typeof l=="function"&&(l=l(n.value)),Jt(n,l));return[Ht.bind(n),r]}function k(e,t,n){const r=Qt(e,t,!1,oe);Xe(r)}function pe(e,t,n){n=n?Object.assign({},je,n):je;const r=Qt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Xe(r),Ht.bind(r)}function Tn(e){return Se(e,!1)}function Z(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function pt(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function Fn(e,t){const n=Symbol("context");return{id:n,Provider:jn(n),defaultValue:e}}function Dn(e){let t;return(t=rn(P,e.id))!==void 0?t:e.defaultValue}function Rn(e){const t=pe(e),n=pe(()=>ht(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ht(){if(this.sources&&this.state)if(this.state===oe)Xe(this);else{const e=T;T=null,Se(()=>ze(this),!1),T=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Jt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Se(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],s=nt&&nt.running;s&&nt.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?T.push(i):re.push(i),i.observers&&tn(i)),s||(i.state=oe)}if(T.length>1e6)throw T=[],new Error},!1)),t}function Xe(e){if(!e.fn)return;He(e);const t=P,n=x,r=Ve;x=P=e,In(e,e.value,r),x=n,P=t}function In(e,t,n){let r;try{r=e.fn(t)}catch(l){return e.pure&&(e.state=oe,e.owned&&e.owned.forEach(He),e.owned=null),e.updatedAt=n+1,nn(l)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Jt(e,r):e.value=r,e.updatedAt=n)}function Qt(e,t,n,r=oe,l){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:null,pure:n};return P===null||P!==Vt&&(P.owned?P.owned.push(i):P.owned=[i]),i}function Zt(e){if(e.state===0)return;if(e.state===Be)return ze(e);if(e.suspense&&Z(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ve);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===oe)Xe(e);else if(e.state===Be){const r=T;T=null,Se(()=>ze(e,t[0]),!1),T=r}}function Se(e,t){if(T)return e();let n=!1;t||(T=[]),re?n=!0:re=[],Ve++;try{const r=e();return qn(n),r}catch(r){n||(re=null),T=null,nn(r)}}function qn(e){if(T&&(en(T),T=null),e)return;const t=re;re=null,t.length&&Se(()=>On(t),!1)}function en(e){for(let t=0;t<e.length;t++)Zt(e[t])}function ze(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const l=r.state;l===oe?r!==t&&(!r.updatedAt||r.updatedAt<Ve)&&Zt(r):l===Be&&ze(r,t)}}}function tn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Be,n.pure?T.push(n):re.push(n),n.observers&&tn(n))}}function He(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const i=l.pop(),s=n.observerSlots.pop();r<l.length&&(i.sourceSlots[s]=r,l[r]=i,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)He(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ln(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function nn(e,t=P){throw Ln(e)}function rn(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:rn(e.owner,t):void 0}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ht(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function jn(e,t){return function(r){let l;return k(()=>l=Z(()=>(P.context={[e]:r.value},Rn(()=>r.children))),void 0),l}}const Bn=Symbol("fallback");function Ft(e){for(let t=0;t<e.length;t++)e[t]()}function zn(e,t,n={}){let r=[],l=[],i=[],s=0,o=t.length>1?[]:null;return pt(()=>Ft(i)),()=>{let d=e()||[],u,a;return d[Nn],Z(()=>{let m=d.length,p,c,f,g,y,v,$,_,w;if(m===0)s!==0&&(Ft(i),i=[],r=[],l=[],s=0,o&&(o=[])),n.fallback&&(r=[Bn],l[0]=qe(C=>(i[0]=C,n.fallback())),s=1);else if(s===0){for(l=new Array(m),a=0;a<m;a++)r[a]=d[a],l[a]=qe(h);s=m}else{for(f=new Array(m),g=new Array(m),o&&(y=new Array(m)),v=0,$=Math.min(s,m);v<$&&r[v]===d[v];v++);for($=s-1,_=m-1;$>=v&&_>=v&&r[$]===d[_];$--,_--)f[_]=l[$],g[_]=i[$],o&&(y[_]=o[$]);for(p=new Map,c=new Array(_+1),a=_;a>=v;a--)w=d[a],u=p.get(w),c[a]=u===void 0?-1:u,p.set(w,a);for(u=v;u<=$;u++)w=r[u],a=p.get(w),a!==void 0&&a!==-1?(f[a]=l[u],g[a]=i[u],o&&(y[a]=o[u]),a=c[a],p.set(w,a)):i[u]();for(a=v;a<m;a++)a in f?(l[a]=f[a],i[a]=g[a],o&&(o[a]=y[a],o[a](a))):l[a]=qe(h);l=l.slice(0,s=m),r=d.slice(0)}return l});function h(m){if(i[a]=m,o){const[p,c]=Xt(a);return o[a]=c,t(d[a],p)}return t(d[a])}}}function N(e,t){return Z(()=>e(t||{}))}const Un=e=>`Stale read from <${e}>.`;function Ue(e){const t="fallback"in e&&{fallback:()=>e.fallback};return pe(zn(()=>e.each,e.children,t||void 0))}function Dt(e){const t=e.keyed,n=pe(()=>e.when,void 0,{equals:(r,l)=>t?r===l:!r==!l});return pe(()=>{const r=n();if(r){const l=e.children;return typeof l=="function"&&l.length>0?Z(()=>l(t?r:()=>{if(!Z(n))throw Un("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Gn(e,t,n){let r=n.length,l=t.length,i=r,s=0,o=0,d=t[l-1].nextSibling,u=null;for(;s<l||o<i;){if(t[s]===n[o]){s++,o++;continue}for(;t[l-1]===n[i-1];)l--,i--;if(l===s){const a=i<r?o?n[o-1].nextSibling:n[i-o]:d;for(;o<i;)e.insertBefore(n[o++],a)}else if(i===o)for(;s<l;)(!u||!u.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[i-1]&&n[o]===t[l-1]){const a=t[--l].nextSibling;e.insertBefore(n[o++],t[s++].nextSibling),e.insertBefore(n[--i],a),t[l]=n[i]}else{if(!u){u=new Map;let h=o;for(;h<i;)u.set(n[h],h++)}const a=u.get(t[s]);if(a!=null)if(o<a&&a<i){let h=s,m=1,p;for(;++h<l&&h<i&&!((p=u.get(t[h]))==null||p!==a+m);)m++;if(m>a-o){const c=t[s];for(;o<a;)e.insertBefore(n[o++],c)}else e.replaceChild(n[o++],t[s++])}else s++;else t[s++].remove()}}}const Rt="_$DX_DELEGATE";function Yn(e,t,n,r={}){let l;return qe(i=>{l=i,t===document?e():b(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{l(),t.textContent=""}}function F(e,t,n){let r;const l=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},i=t?()=>Z(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return i.cloneNode=i,i}function Je(e,t=window.document){const n=t[Rt]||(t[Rt]=new Set);for(let r=0,l=e.length;r<l;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Wn))}}function ln(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function D(e,t){t==null?e.removeAttribute("class"):e.className=t}function le(e,t,n={}){const r=Object.keys(t||{}),l=Object.keys(n);let i,s;for(i=0,s=l.length;i<s;i++){const o=l[i];!o||o==="undefined"||t[o]||(It(e,o,!1),delete n[o])}for(i=0,s=r.length;i<s;i++){const o=r[i],d=!!t[o];!o||o==="undefined"||n[o]===d||!d||(It(e,o,!0),n[o]=d)}return n}function b(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ge(e,t,r,n);k(l=>Ge(e,t(),l,n),r)}function It(e,t,n){const r=t.trim().split(/\s+/);for(let l=0,i=r.length;l<i;l++)e.classList.toggle(r[l],n)}function Wn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?r.call(n,l,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ge(e,t,n,r,l){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),s){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=ae(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=ae(e,n,r);else{if(i==="function")return k(()=>{let o=t();for(;typeof o=="function";)o=o();n=Ge(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],d=n&&Array.isArray(n);if(mt(o,t,n,l))return k(()=>n=Ge(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=ae(e,n,r),s)return n}else d?n.length===0?qt(e,o,r):Gn(e,n,o):(n&&ae(e),qt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ae(e,n,r,t);ae(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function mt(e,t,n,r){let l=!1;for(let i=0,s=t.length;i<s;i++){let o=t[i],d=n&&n[i],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))l=mt(e,o,d)||l;else if(u==="function")if(r){for(;typeof o=="function";)o=o();l=mt(e,Array.isArray(o)?o:[o],Array.isArray(d)?d:[d])||l}else e.push(o),l=!0;else{const a=String(o);d&&d.nodeType===3&&d.data===a?e.push(d):e.push(document.createTextNode(a))}}return l}function qt(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function ae(e,t,n,r){if(n===void 0)return e.textContent="";const l=r||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(l!==o){const d=o.parentNode===e;!i&&!s?d?e.replaceChild(l,o):e.insertBefore(l,n):d&&o.remove()}else i=!0}}else e.insertBefore(l,n);return[l]}const Kn="_root_7vb0q_1",Vn="_content_7vb0q_5",Lt={root:Kn,content:Vn},L={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Xn=6,Hn=[{name:"Aces",icon:"",isMatch:e=>ue(e,1)},{name:"Deuces",icon:"",isMatch:e=>ue(e,2)},{name:"Threes",icon:"",isMatch:e=>ue(e,3)},{name:"Fours",icon:"",isMatch:e=>ue(e,4)},{name:"Fives",icon:"",isMatch:e=>ue(e,5)},{name:"Sixes",icon:"",isMatch:e=>ue(e,6)}];let sn={name:"Extra",icon:"",isMatch:(e,t)=>nr(t)>=63?35:!1};const Jn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?rt(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?rt(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>rt(e)}];function Qn(e,t){return{name:e,icon:t,scores:Zn()}}function Zn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function ue(e,t){let n=er(e,t);return n?n*t:!1}function er(e,t){return e[t-1]}function tr(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function rt(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function nr(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function rr(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function lr(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function gt(){return[{val:1,id:0,pos:0,state:"cup",coords:""},{val:1,id:1,pos:1,state:"cup",coords:""},{val:1,id:2,pos:2,state:"cup",coords:""},{val:1,id:3,pos:3,state:"cup",coords:""},{val:1,id:4,pos:4,state:"cup",coords:""}]}function on(){let e={status:L.Init},t=[],n=gt();return{stage:e,players:t,dices:n}}function ir(e){let t=fr(e.stage);if(!t)return null;let n=e.dices.map(r=>r.state!=="kept"?{...r,state:"spinning"}:r);return{stage:t,dices:n}}function sr(e){let t=dr(e.stage);if(!t)return null;let n=e.dices.filter(l=>l.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((l,i)=>i-l);return{dices:e.dices.map(l=>l.state==="spinning"?{...l,val:n.pop(),state:"table"}:l),stage:t}}function or(e){let t=on();return t.players=e.map(n=>Qn(n.name,n.icon)),t.stage={status:L.PlayerMove,player:0,step:0,spinning:!1},t}function ar(e){return e.status===L.PlayerMove&&e.spinning}function ur(e){return e.status===L.PlayerMove&&!e.spinning&&e.step<3}function cr(e){return e.status===L.PlayerMove&&e.step===3}function fr(e){return e.status===L.PlayerMove&&e.step<3?{...e,spinning:!0}:!1}function dr(e){return e.status===L.PlayerMove&&e.spinning?{...e,spinning:!1,step:e.step+1}:!1}function pr(e){return e.status===L.PlayerMove&&e.spinning}function hr(e){return e.players.length>1&&e.players.every(t=>t.name.trim()!=="")}function mr(e,t){if(e.stage.status===L.PlayerMove&&t.name!=="Extra"){let n=[...e.players];if(n[e.stage.player].scores={...n[e.stage.player].scores,[t.name]:t.score},lr(t.name)&&rr(n[e.stage.player].scores)){let l=sn.isMatch([],n[e.stage.player].scores)||0;n[e.stage.player].scores={...n[e.stage.player].scores,Extra:l}}let r=(e.stage.player+1)%e.players.length;return gr(n[r])?{players:n,dices:gt(),stage:{status:L.Finish,winners:vr(n)}}:{players:n,dices:gt(),stage:{...e.stage,player:r,step:0}}}return null}function gr(e){return Object.values(e.scores).every(t=>t!==null)}function yr(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function vr(e){let t=e.map(l=>yr(l)),n=Math.max(...t),r=[];for(let l=0;l<t.length;l++)t[l]===n&&r.push(l);return r}const br="_root_1eweb_1",$r="_scoreRow_1eweb_8",_r="_scoreCell_1eweb_12",wr="_matched_1eweb_21",Sr="_done_1eweb_30",B={root:br,scoreRow:$r,scoreCell:_r,matched:wr,done:Sr};function xt(e,t){for(let n in e)t(e[n],n)}function I(e,t){e.forEach(t)}function j(e,t){if(!e)throw Error(t)}function ee({node:e=[],from:t,source:n,parent:r=t||n,to:l,target:i,child:s=l||i,scope:o={},meta:d={},family:u={type:"regular"},regional:a}={}){let h=Ee(r),m=Ee(u.links),p=Ee(u.owners),c=[];I(e,g=>g&&Q(c,g));let f={id:Fr(),seq:c,next:Ee(s),meta:d,scope:o,family:{type:u.type||"crosslink",links:m,owners:p}};return I(m,g=>Q(Qe(g),f)),I(p,g=>Q(Ze(g),f)),I(h,g=>Q(g.next,f)),a&&de&&Pt(Me(de),[f]),f}function Ye(e,t,n){let r,l=G,i=null,s=S;if(e.target&&(t=e.params,n=e.defer,r=e.meta,l="page"in e?e.page:l,e.stack&&(i=e.stack),s=De(e)||s,e=e.target),s&&S&&s!==S&&(S=null),Array.isArray(e))for(let c=0;c<e.length;c++)ne("pure",l,W(e[c]),i,t[c],s,r);else ne("pure",l,W(e),i,t,s,r);if(n&&!Re)return;let o,d,u,a,h,m,p={isRoot:Re,currentPage:G,scope:S,isWatch:at,isPure:Le};Re=0;e:for(;a=Lr();){let{idx:c,stack:f,type:g}=a;u=f.node,G=h=f.page,S=De(f),h?m=h.reg:S&&(m=S.reg);let y=!!h,v=!!S,$={fail:0,scope:u.scope};o=d=0;for(let _=c;_<u.seq.length&&!o;_++){let w=u.seq[_];if(w.order){let{priority:C,barrierID:A}=w.order,E=A?h?`${h.fullID}_${A}`:A:0;if(_!==c||g!==C){A?ot.has(E)||(ot.add(E),$t(_,f,C,A)):$t(_,f,C);continue e}A&&ot.delete(E)}switch(w.type){case"mov":{let A,E=w.data;switch(E.from){case ie:A=Me(f);break;case"a":case"b":A=f[E.from];break;case"value":A=E.store;break;case"store":if(m&&!m[E.store.id])if(y){let tt=gn(h,E.store.id);f.page=h=tt,tt?m=tt.reg:v?(we(S,E.store,0,1,E.softRead),m=S.reg):m=void 0}else v&&we(S,E.store,0,1,E.softRead);A=Ne(m&&m[E.store.id]||E.store)}switch(E.to){case ie:f.value=A;break;case"a":case"b":f[E.to]=A;break;case"store":jr(h,S,u,E.target).current=A}break}case"compute":let C=w.data;if(C.fn){at=R(u,"op")==="watch",Le=C.pure;let A=C.safe?(0,C.fn)(Me(f),$.scope,f):zr($,C.fn,f);C.filter?d=!A:f.value=A,at=p.isWatch,Le=p.isPure}}o=$.fail||d}if(!o){let _=Me(f),w=De(f);if(I(u.next,C=>{ne("child",h,C,f,_,w)}),w){R(u,"needFxCounter")&&ne("child",h,w.fxCount,f,_,w),R(u,"storeChange")&&ne("child",h,w.storeChange,f,_,w),R(u,"warnSerialize")&&ne("child",h,w.warnSerializeNode,f,_,w);let C=w.additionalLinks[u.id];C&&I(C,A=>{ne("child",h,A,f,_,w)})}}}Re=p.isRoot,G=p.currentPage,S=De(p)}function an(e,t="combine"){let n=t+"(",r="",l=0;return xt(e,i=>{l<25&&(i!=null&&(n+=r,n+=se(i)?un(i).fullName:i.toString()),l+=1,r=", ")}),n+")"}function kr(e,t){let n,r,l=e;if(t){let i=un(t);e.length===0?(n=i.path,r=i.fullName):(n=i.path.concat([e]),r=i.fullName.length===0?e:i.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:l,fullName:r,path:n}}function Ct(e,t){let n=t?e:e[0];hn(n);let r=n.or,l=n.and;if(l){let i=t?l:l[0];if(X(i)&&"and"in i){let s=Ct(l,t);e=s[0],r={...r,...s[1]}}else e=l}return[e,r]}function U(e,...t){let n=pn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function M(e,t){let n=Te({or:t,and:typeof e=="string"?{name:e}:e}),r=(s,...o)=>(ve(!R(r,"derived"),"call of derived event","createEvent"),ve(!Le,"unit call from pure function","operators like sample"),G?((d,u,a,h)=>{let m=G,p=null;if(u)for(p=G;p&&p.template!==u;)p=ye(p);Ut(p);let c=d.create(a,h);return Ut(m),c})(r,l,s,o):r.create(s,o)),l=pn(),i=Object.assign(r,{graphite:ee({meta:bn(n.actualOp||"event",r,n),regional:1}),create:s=>(Ye({target:r,params:s,scope:S}),s),watch:s=>vn(r,s),map:s=>ut(r,ge,s,[V()]),filter:s=>ut(r,"filter",s.fn?s:s.fn,[V(Et,1)]),filterMap:s=>ut(r,"filterMap",s,[V(),be(o=>!q(o),1)]),prepend(s){let o=M("* → "+r.shortName,{parent:ye(r)});return U("eventPrepend",W(o)),ke(o,r,[V()],"prepend",s),Ur(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(i),ce(i,"id",i.graphite.id),dn(i.graphite),i}function jt(e,t,n,r){return Ke(n,t,"first argument"),j(H(r),"second argument should be a function"),ve(!R(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),I(Array.isArray(n)?n:[n],l=>{e.off(l),We(e).set(l,yn($n(l,e,"on",Ir,r)))}),e}function he(e,t){let n=Te(t),r=_e(e),l=M({named:"updates",derived:1});U("storeBase",r);let i=r.id,s={subscribers:new Map,updates:l,defaultState:e,stateRef:r,getState(){let p,c=r;if(G){let f=G;for(;f&&!f.reg[i];)f=ye(f);f&&(p=f)}return!p&&S&&(we(S,r,1),p=S),p&&(c=p.reg[i]),Ne(c)},setState:p=>Ye({target:s,params:p,defer:1,scope:S}),reset:(...p)=>(I(p,c=>jt(s,".reset",c,()=>s.defaultState)),s),on:(p,c)=>jt(s,".on",p,c),off(p){let c=We(s).get(p);return c&&(c(),We(s).delete(p)),s},map(p,c){let f,g;X(p)&&(f=p,p=p.fn),ve(q(c),"second argument of store.map","updateFilter");let y=s.getState();q(y)||(g=p(y,c));let v=he(g,{name:`${s.shortName} → *`,derived:1,and:f}),$=$n(s,v,ge,vt,p);return bt(Y(v),{type:ge,fn:p,from:r}),Y(v).noInit=1,U("storeMap",r,$),v},watch(p,c){if(!c||!se(p)){let f=vn(s,p);return U("storeWatch",r,p)||p(s.getState()),f}return j(H(c),"second argument should be a function"),p.watch(f=>c(s.getState(),f))}},o=bn("store",s,n),d=s.defaultConfig.updateFilter;s.graphite=ee({scope:{state:r,fn:d},node:[be((p,c,f)=>(f.scope&&!f.scope.reg[r.id]&&(f.b=1),p)),$e(r),be((p,c,{a:f,b:g})=>!q(p)&&(p!==f||g),1),d&&V(vt,1),z({from:ie,target:r})],child:l,meta:{...o,defaultState:e},regional:1}),ce(s,"id",s.graphite.id),ce(s,"rootStateRefId",i);let u=R(s,"serialize"),a=R(s,"derived"),h=u==="ignore",m=R(s,"sid");return m&&(ce(s,"storeChange",1),r.sid=m),m||h||a||ce(s,"warnSerialize",1),j(a||!q(e),"current state can't be undefined, use null instead"),Pt(s,[l]),n!=null&&n.domain&&n.domain.hooks.store(s),a||(s.reinit=M({named:"reinit"}),s.reset(s.reinit)),r.meta=s.graphite.meta,dn(s.graphite),s}function xr(...e){let t,n,r;[e,r]=Ct(e);let l,i,s,o=e[e.length-1];if(H(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let d=n[0];te(d)||(l=d,i=1)}if(!i&&(l=n,t)){s=1;let d=t;t=u=>d(...u)}return j(X(l),"shape should be an object"),Gr(Array.isArray(l),!s,l,r,t)}function Cr(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function Ar(e,t){Ke(e,"merge","first argument");let n=M({name:an(e,"merge"),derived:1,and:t});return ke(e,n,[],"merge"),n}function Pr(e,t){let n=0;return I(Yr,r=>{r in e&&(j(e[r]!=null,_n(t,r)),n=1)}),n}function me(...e){let t,n,r,l,[[i,s,o],d]=Ct(e),u=1;return q(s)&&X(i)&&Pr(i,"sample")&&(s=i.clock,o=i.fn,u=!i.greedy,l=i.filter,t=i.target,n=i.name,r=i.sid,i=i.source),Wr("sample",s,i,l,t,o,n,d,u,1,0,r)}function Er(e,{scope:t,safe:n}={}){j(t||S||n,"scopeBind cannot be called outside of forked .watch");let r=t||S;return yt(e)?l=>{let i=Cr();return Ye({target:e,params:{params:l,req:i},scope:r}),i.req}:l=>(Ye({target:e,params:l,scope:r}),l)}let Mr=typeof Symbol<"u"&&Symbol.observable||"@@observable",ge="map",ie="stack",W=e=>e.graphite||e,Qe=e=>e.family.owners,Ze=e=>e.family.links,Y=e=>e.stateRef,Me=e=>e.value,We=e=>e.subscribers,ye=e=>e.parent,De=e=>e.scope,R=(e,t)=>W(e).meta[t],ce=(e,t,n)=>W(e).meta[t]=n,un=e=>e.compositeName,se=e=>(H(e)||X(e))&&"kind"in e;const Fe=e=>t=>se(t)&&t.kind===e;let te=Fe("store"),Nr=Fe("event"),yt=Fe("effect"),cn=Fe("domain"),Or=Fe("scope");var lt={__proto__:null,unit:se,store:te,event:Nr,effect:yt,domain:cn,scope:Or,attached:e=>yt(e)&&R(e,"attached")==1};let it=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},Q=(e,t)=>e.push(t),ve=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const At=()=>{let e=0;return()=>""+ ++e};let Tr=At(),fn=At(),Fr=At(),de=null,dn=e=>{},pn=()=>de,Dr=e=>(e&&de&&de.sidRoot&&(e=`${de.sidRoot}|${e}`),e),Pt=(e,t)=>{let n=W(e);I(t,r=>{let l=W(r);n.family.type!=="domain"&&(l.family.type="crosslink"),Q(Qe(l),n),Q(Ze(n),l)})},Ee=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(W),X=e=>typeof e=="object"&&e!==null,H=e=>typeof e=="function",q=e=>e===void 0,hn=e=>j(X(e)||H(e),"expect first argument be an object");const Bt=(e,t,n,r)=>j(!(!X(e)&&!H(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let Ke=(e,t,n)=>{Array.isArray(e)?I(e,(r,l)=>Bt(r,t,`${l} item of ${n}`,"")):Bt(e,t,n," or array of units")},Rr=(e,t,n="target")=>I(Ee(t),r=>ve(!R(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),vt=(e,{fn:t},{a:n})=>t(e,n),Ir=(e,{fn:t},{a:n})=>t(n,e),Et=(e,{fn:t})=>t(e);const mn=(e,t,n,r)=>{let l={id:fn(),type:e,data:t};return n&&(l.order={priority:n},r&&(l.order.barrierID=++qr)),l};let qr=0,z=({from:e="store",store:t,target:n,to:r=n?"store":ie,batch:l,priority:i})=>mn("mov",{from:e,store:t,to:r,target:n},i,l),Oe=({fn:e,batch:t,priority:n,safe:r=0,filter:l=0,pure:i=0})=>mn("compute",{fn:e,safe:r,filter:l,pure:i},n,t),Mt=({fn:e})=>Oe({fn:e,priority:"effect"}),be=(e,t,n)=>Oe({fn:e,safe:1,filter:t,priority:n&&"effect"}),$e=(e,t,n)=>z({store:e,to:t?ie:"a",priority:n&&"sampler",batch:1}),V=(e=Et,t)=>Oe({fn:e,pure:1,filter:t}),st={mov:z,compute:Oe,filter:({fn:e,pure:t})=>Oe({fn:e,filter:1,pure:t}),run:Mt},_e=e=>({id:fn(),current:e}),Ne=({current:e})=>e,bt=(e,t)=>{e.before||(e.before=[]),Q(e.before,t)},fe=null;const Nt=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||_t(e.v.type)>_t(t.v.type))&&(n=e,e=t,t=n),n=Nt(e.r,t),e.r=e.l,e.l=n,e},Ot=[];let zt=0;for(;zt<6;)Q(Ot,{first:null,last:null,size:0}),zt+=1;const Lr=()=>{for(let e=0;e<6;e++){let t=Ot[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=fe.v;return fe=Nt(fe.l,fe.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},ne=(e,t,n,r,l,i,s)=>$t(0,{a:null,b:null,node:n,parent:r,value:l,page:t,scope:i,meta:s},e),$t=(e,t,n,r=0)=>{let l=_t(n),i=Ot[l],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};l===3||l===4?fe=Nt(fe,s):(i.size===0?i.first=s:i.last.r=s,i.last=s),i.size+=1},_t=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},ot=new Set;let S,Re=1,at=0,Le=0,G=null,Ut=e=>{G=e};const gn=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=ye(e);if(e)return e}return null};let jr=(e,t,n,r,l)=>{let i=gn(e,r.id);return i?i.reg[r.id]:t?(we(t,r,l),t.reg[r.id]):r};const Br=e=>e;let we=(e,t,n,r,l)=>{var i;let s=e.reg,o=t.sid,d=t==null||(i=t.meta)===null||i===void 0?void 0:i.serialize,u=e.fromSerialize&&d!=="ignore"&&d?.read||Br;if(s[t.id])return;let a={id:t.id,current:t.current,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))a.current=u(e.values.sidMap[o]);else if(t.before&&!l){let h=0,m=n||!t.noInit||r;I(t.before,p=>{switch(p.type){case ge:{let c=p.from;if(c||p.fn){c&&we(e,c,n,r);let f=c&&s[c.id].current;m&&(a.current=p.fn?p.fn(f):f)}break}case"field":h||(h=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),we(e,p.from,n,r),m&&(a.current[p.field]=s[s[p.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=a};const zr=(e,t,n)=>{try{return t(Me(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Te=(e,t={})=>(X(e)&&(Te(e.or,t),xt(e,(n,r)=>{q(n)||r==="or"||r==="and"||(t[r]=n)}),Te(e.and,t)),t);const Gt=(e,t)=>{it(e.next,t),it(Qe(e),t),it(Ze(e),t)},wt=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let l=Ze(e);for(;r=l.pop();)Gt(r,e),(t||n&&R(e,"op")!=="sample"||r.family.type==="crosslink")&&wt(r,t,R(r,"op")!=="on"&&n);for(l=Qe(e);r=l.pop();)Gt(r,e),n&&r.family.type==="crosslink"&&wt(r,t,R(r,"op")!=="on"&&n)},Ce=e=>e.clear();let St=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),te(e))Ce(We(e));else if(cn(e)){n=1;let r=e.history;Ce(r.events),Ce(r.effects),Ce(r.stores),Ce(r.domains)}wt(W(e),!!t,n)},yn=e=>{let t=()=>St(e);return t.unsubscribe=t,t},ke=(e,t,n,r,l)=>ee({node:n,parent:e,child:t,scope:{fn:l},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),vn=(e,t)=>(j(H(t),".watch argument should be a function"),yn(ee({scope:{fn:t},node:[Mt({fn:Et})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Ur=(e,t,n="event")=>{ye(e)&&ye(e).hooks[n](t)},bn=(e,t,n)=>{let r=Te(n),l=e==="domain",i=Tr(),{sid:s=null,named:o=null,domain:d=null,parent:u=d}=r,a=o||r.name||(l?"":i),h=kr(a,u),m={op:t.kind=e,name:t.shortName=a,sid:t.sid=Dr(s),named:o,unitId:t.id=i,serialize:r.serialize,derived:r.derived,config:r};return t.parent=u,t.compositeName=h,t.defaultConfig=r,t.thru=p=>(ve(0,"thru","js pipe"),p(t)),t.getType=()=>h.fullName,!l&&(t.subscribe=p=>(hn(p),t.watch(H(p)?p:c=>p.next&&p.next(c))),t[Mr]=()=>t),m};const ut=(e,t,n,r)=>{let l;X(n)&&(l=n,n=n.fn);let i=M({name:`${e.shortName} → *`,derived:1,and:l});return ke(e,i,r,t,n),i},$n=(e,t,n,r,l)=>{let i=Y(t),s=z({store:i,to:"a",priority:"read"});n===ge&&(s.data.softRead=1);let o=[s,V(r)];return U("storeOnMap",i,o,te(e)&&Y(e)),ke(e,t,o,n,l)},Gr=(e,t,n,r,l)=>{let i=e?c=>[...c]:c=>({...c}),s=e?[]:{},o=i(s),d=_e(o),u=_e(1);d.type=e?"list":"shape",d.noInit=1,U("combineBase",d,u);let a=he(o,{name:an(n),derived:1,and:r}),h=Y(a);h.noInit=1,ce(a,"isCombine",1);let m=$e(d);m.order={priority:"barrier"};let p=[be((c,f,g)=>(g.scope&&!g.scope.reg[d.id]&&(g.c=1),c)),m,z({store:u,to:"b"}),be((c,{key:f},g)=>{if(g.c||c!==g.a[f])return t&&g.b&&(g.a=i(g.a)),g.a[f]=c,1},1),z({from:"a",target:d}),z({from:"value",store:0,target:u}),z({from:"value",store:1,target:u,priority:"barrier",batch:1}),$e(d,1),l&&V()];return xt(n,(c,f)=>{if(!te(c))return j(!se(c)&&!q(c),`combine expects a store in a field ${f}`),void(o[f]=s[f]=c);s[f]=c.defaultState,o[f]=c.getState();let g=ke(c,a,p,"combine",l);g.scope.key=f;let y=Y(c);bt(d,{type:"field",field:f,from:y}),U("combineField",y,g)}),a.defaultShape=n,bt(h,{type:ge,from:d,fn:l}),a.defaultState=l?h.current=l(o):s,a};ee({node:[Mt({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const Yr=["source","clock","target"],_n=(e,t)=>e+`: ${t} should be defined`;let Wr=(e,t,n,r,l,i,s,o,d,u,a,h)=>{let m=!!l;j(!q(n)||!q(t),_n(e,"either source or clock"));let p=0;q(n)?p=1:se(n)||(n=xr(n)),q(t)?t=n:(Ke(t,e,"clock"),Array.isArray(t)&&(t=Ar(t))),p&&(n=t),o||s||(s=n.shortName);let c="none";(a||r)&&(se(r)?c="unit":(j(H(r),"`filter` should be function or unit"),c="fn")),l?(Ke(l,e,"target"),Rr(e,l)):c==="none"&&u&&te(n)&&te(t)?l=he(i?i(Ne(Y(n)),Ne(Y(t))):Ne(Y(n)),{name:s,sid:h,or:o}):(l=M({name:s,derived:1,or:o}),U("sampleTarget",W(l)));let f=_e(),g=[];if(c==="unit"){let[_,w]=Yt(r,l,t,f,e);g=[...ct(w),...ct(_)]}let[y,v]=Yt(n,l,t,f,e),$=ke(t,l,[U("sampleSourceLoader"),z({from:ie,target:f}),...ct(v),$e(y,1,d),...g,$e(f),c==="fn"&&V((_,w,{a:C})=>r(_,C),1),i&&V(vt),U("sampleSourceUpward",m)],e,i);return Pt(n,[$]),Object.assign($.meta,o,{joint:1}),l};const ct=e=>[$e(e),be((t,n,{a:r})=>r,1)],Yt=(e,t,n,r,l)=>{let i=te(e),s=i?Y(e):_e(),o=_e(i);return i||ee({parent:e,node:[z({from:ie,target:s}),z({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:l},regional:1}),U("sampleSource",o,s,r),[s,o]},Kr=["car","truck","doll","ball","bear","puzzle","train","sandbox","bike","pen","balloon"],Vr=["red","green","blue","yellow","black","white","dark","light","brown","gray","pink","purple","orange","violet"];function kt(e){return e[Math.floor(Math.random()*e.length)]}function ft(){return`${kt(Vr)} ${kt(Kr)}`}function Xr(){const e=["❤️","🎄","🤗","🤞","🙏","👍","😜"];let t=he([{name:ft(),icon:"👍",error:""}]),n=he(""),r=M(),l=M(),i=M(),s=M(),o=M(),d=M();return t.on(r,u=>{if(u.length>=Xn)return u;let a=e.filter(p=>!u.some(c=>c.icon===p)),h=kt(a)||"🚫",m=ft();for(;u.some(p=>p.name===m);)m=ft();return[...u,{name:m,icon:h,error:""}]}).on(l,(u,a)=>{if(u.length===0)return u;let h=u.slice();return h.splice(a,1),h}).on(i,(u,{n:a,name:h})=>{let m=u.slice();return m[a].name=h,m}).on(s,(u,{n:a,icon:h})=>{let m=u.slice();return m[a].icon=h,m}).on(o,u=>u.map(a=>a.icon?a.name?u.filter(h=>h.icon===a.icon).length>1?{...a,error:"Please, choose an unique icon"}:{...a,error:""}:{...a,error:"You need name for a comfortable game"}:{...a,error:"You need an icon for a comfortable game"})),me({source:t,clock:o,fn:u=>u.length<2?"should be at least 2 players:(":"",target:n}),me({source:[t,n],clock:o,filter:([u,a])=>u.length>=2&&a===""&&u.every(h=>h.error===""),fn:([u])=>u,target:d}),{ICONS:e,$players:t,$formError:n,formSubmitted:o,playersApplied:d,nameChanged:i,iconChanged:s,addPlayerClicked:r,removePlayerClicked:l}}let Hr=on(),O=he(Hr),K=Xr(),Tt=O.map(e=>e.dices),et=O.map(e=>e.players),Jr=O.map(e=>e.stage.status===L.Init),Qr=Tt.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?tr(t):null});Tt.map(e=>il(e));let wn=O.map(e=>"player"in e.stage?e.stage.player:0),Zr=O.map(e=>ur(e.stage)),el=O.map(e=>pr(e.stage)),tl=O.map(e=>ar(e.stage)),nl=O.map(e=>cr(e.stage)),rl=O.map(e=>hr(e)),ll=M(),Sn=M(),kn=M(),xn=M(),Cn=M(),An=M();me({source:O,clock:Sn,filter:Zr,fn:e=>{let t=ir(e);return t?{...e,...t}:e},target:O});me({source:O,clock:kn,filter:el,fn:e=>{let t=sr(e);return t?{...e,...t}:e},target:O});me({source:O,clock:An,fn:(e,t)=>{let n=mr(e,t);return n?{...e,...n}:e},target:O});me({clock:K.playersApplied,fn:e=>or(e),target:O});O.on(xn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(Cn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"table"}:r);return{...e,dices:n}});function il(e){const t={left:8,top:6};let n=50,r=8,l=n*5+r*4;function i(c){return l-(c*n+(c-1)*r)/2}function s(c){return e.filter(f=>f.state===c.state&&f.val<c.val).length}let o=[0,0,0,0,0,0,0],d=e.map(c=>{let f={...c,pos:s(c)+o[c.val]};return o[c.val]++,f}),u=0,a=0;e.forEach(c=>{c.state==="kept"?u++:c.state==="table"&&a++});let h=i(u),m=i(a);return d.map(c=>c.state==="kept"?{...c,coords:`translateX(${h+c.pos*(n+r)}px) translateY(${t.top}px)`}:c.state==="table"?{...c,coords:`translateX(${m+c.pos*(n+r)}px) translateY(${t.top+n+r}px)`}:c)}function xe(e,t){var n;return((r,l)=>{let i=!lt.unit(r)&&typeof r=="object",s={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?s=r["@@unitShape"]():dt("expect @@unitShape to be a function"):s=i?r:{unit:r};let o=Array.isArray(s),d=Object.entries(s),u=o?[]:{},a=[],h={},m={};for(let[c,f]of d)if(lt.store(f))if(h[f.graphite.id]){let g=h[f.graphite.id];u[c]=u[g],m[c]=u[g]}else{a.push(f),h[f.graphite.id]=c;let[g,y]=Xt(Wt(f,l));u[c]=g,m[c]=y}else lt.unit(f)||dt("expected useUnit argument to be a unit"),u[c]=l?Er(f,{scope:l}):f;let p=[st.compute({priority:"effect"}),st.compute({priority:"sampler",batch:1}),st.run({fn:()=>{Tn(()=>{for(let c of a)m[h[c.graphite.id]](()=>Wt(c,l))})}})];if(l){let c=ee({node:p}),f=l.additionalLinks,g=[];a.forEach(y=>{let v=y.graphite.id,$=f[v]||[];f[v]=$,$.push(c),g.push($)}),pt(()=>{g.forEach(y=>{let v=y.indexOf(c);v!==-1&&y.splice(v,1)}),St(c)})}else{let c=ee({node:p,parent:a,family:{owners:a}});pt(()=>{St(c)})}return i?u:u.unit})(e,((r=1)=>{let l=Dn(sl);return r&&!l&&dt("No scope found, consider adding <Provider> to app root"),l})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let dt=e=>{throw Error(e)};const Wt=(e,t)=>t?t.getState(e):e.getState();let sl=Fn(null);const ol=F("<div><div><p>Scores:</p></div><div></div><p>---</p><div>"),al=F("<p>"),Pn=F("<div><p>"),En=F('<button type="button" disabled>'),ul=F('<button type="button">'),cl=F('<button type="button"> '),fl=()=>{let[e]=xe([et]);function t(){return`150px${" 50px".repeat(e().length)}`}return(()=>{const n=ol(),r=n.firstChild;r.firstChild;const l=r.nextSibling,i=l.nextSibling,s=i.nextSibling;return b(r,N(Ue,{get each(){return e()},children:o=>(()=>{const d=al();return b(d,()=>o.icon),k(()=>ln(d,"title",o.name)),d})()}),null),b(l,()=>Hn.map(o=>N(Kt,{category:o}))),b(n,N(dl,{category:sn}),i),b(s,N(Ue,{each:Jn,children:o=>N(Kt,{category:o})})),k(o=>{const d=B.root,u={[B.scoreRow]:!0},a=t();return d!==o._v$&&D(n,o._v$=d),o._v$2=le(r,u,o._v$2),a!==o._v$3&&((o._v$3=a)!=null?r.style.setProperty("grid-template-columns",a):r.style.removeProperty("grid-template-columns")),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()},Kt=e=>{let[t,n,r]=xe([et,wn,Qr]);const{isMatch:l,name:i}=e.category;function s(){return`150px${" 50px".repeat(t().length)}`}return(()=>{const o=Pn(),d=o.firstChild;return b(d,i),b(o,()=>t().map((u,a)=>{if(u.scores[i]!==null)return(()=>{const c=En();return b(c,()=>u.scores[i]),k(()=>D(c,B.scoreCell)),c})();let m=n()===a,p=r();if(m&&p){const c=l(p,u.scores)||0;return(()=>{const f=ul();return f.$$click=()=>An({score:c,name:i}),b(f,c),k(g=>le(f,{[B.scoreCell]:!0,[B.matched]:!0},g)),f})()}return(()=>{const c=cl();return k(f=>le(c,{[B.scoreCell]:!0,[B.done]:!0},f)),c})()}),null),k(u=>{const a={[B.scoreRow]:!0},h=s();return u._v$4=le(o,a,u._v$4),h!==u._v$5&&((u._v$5=h)!=null?o.style.setProperty("grid-template-columns",h):o.style.removeProperty("grid-template-columns")),u},{_v$4:void 0,_v$5:void 0}),o})()},dl=e=>{const{name:t}=e.category;let[n]=xe([et]);function r(){return`150px${" 50px".repeat(n().length)}`}return(()=>{const l=Pn(),i=l.firstChild;return b(i,t),b(l,N(Ue,{get each(){return n()},children:(s,o)=>(()=>{const d=En();return b(d,()=>s.scores[t]),k(u=>le(d,{[B.scoreCell]:!0,[B.done]:!0},u)),d})()}),null),k(s=>{const o={[B.scoreRow]:!0},d=r();return s._v$6=le(l,o,s._v$6),d!==s._v$7&&((s._v$7=d)!=null?l.style.setProperty("grid-template-columns",d):l.style.removeProperty("grid-template-columns")),s},{_v$6:void 0,_v$7:void 0}),l})()};Je(["click"]);const pl="_root_4ym1q_1",hl="_keep_4ym1q_8",ml="_dice_4ym1q_17",gl="_spinner_4ym1q_35",yl="_spin_4ym1q_35",vl="_cupBtn_4ym1q_44",bl="_shaking_4ym1q_53",$l="_shake_4ym1q_1",_l="_noShake_4ym1q_56",wl="_cup_4ym1q_44",J={root:pl,keep:hl,dice:ml,spinner:gl,spin:yl,cupBtn:vl,shaking:bl,shake:$l,noShake:_l,cup:wl},Sl=""+new URL("cup-5a929258.webp",import.meta.url).href,kl=F('<div><div></div><button><img alt="cup">'),xl=F("<button>"),Cl=F("<div>"),Al=()=>{let[e,t,n]=xe([Tt,tl,nl]);return(()=>{const r=kl(),l=r.firstChild,i=l.nextSibling,s=i.firstChild;return b(r,N(Ae,{get dice(){return e()[0]}}),i),b(r,N(Ae,{get dice(){return e()[1]}}),i),b(r,N(Ae,{get dice(){return e()[2]}}),i),b(r,N(Ae,{get dice(){return e()[3]}}),i),b(r,N(Ae,{get dice(){return e()[4]}}),i),i.$$click=()=>{t()?kn():Sn()},ln(s,"src",Sl),k(o=>{const d=J.root,u=J.keep,a={[J.cupBtn]:!0,[J.shaking]:t(),[J.noShake]:n()},h=J.cup;return d!==o._v$&&D(r,o._v$=d),u!==o._v$2&&D(l,o._v$2=u),o._v$3=le(i,a,o._v$3),h!==o._v$4&&D(s,o._v$4=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},Ie={left:8,top:6},Ae=e=>{function t(){if(e.dice.state==="cup"||e.dice.state==="spinning")return`translateX(${Ie.left+110}px) translateY(${Ie.top+130}px)`;let r={kept:0,table:50+12}[e.dice.state],l=e.dice.pos*50+e.dice.pos*8;return`translateX(${Ie.left+l}px) translateY(${Ie.top+r}px)`}function n(){e.dice.state==="table"?xn({diceNumber:e.dice.id}):e.dice.state==="kept"&&Cn({diceNumber:e.dice.id})}return(()=>{const r=xl();return r.$$click=n,b(r,(()=>{const l=pe(()=>e.dice.state==="spinning");return()=>l()?(()=>{const i=Cl();return k(()=>D(i,J.spinner)),i})():e.dice.val})()),k(l=>{const i=J.dice,s=t();return i!==l._v$5&&D(r,l._v$5=i),s!==l._v$6&&((l._v$6=s)!=null?r.style.setProperty("transform",s):r.style.removeProperty("transform")),l},{_v$5:void 0,_v$6:void 0}),r})()};Je(["click"]);const Pl="_root_w8k78_1",El="_list_w8k78_5",Ml="_player_w8k78_10",Nl="_error_w8k78_16",Ol="_footer_w8k78_24",Pe={root:Pl,list:El,player:Ml,error:Nl,footer:Ol},Tl=F('<div><div></div><div><button type="button">add new player</button></div><div><button type="button">START</button></div><p>'),Fl=F('<div><div><select name=""><option value="">-</option></select><input type="text"><button type="button">delete</button></div><p>'),Dl=F("<option>"),Rl=()=>{let[e,t]=xe([K.$players,K.$formError]);return(()=>{const n=Tl(),r=n.firstChild,l=r.nextSibling,i=l.firstChild,s=l.nextSibling,o=s.firstChild,d=s.nextSibling;return b(r,N(Ue,{get each(){return e()},children:(u,a)=>(()=>{const h=Fl(),m=h.firstChild,p=m.firstChild;p.firstChild;const c=p.nextSibling,f=c.nextSibling,g=m.nextSibling;return p.addEventListener("change",y=>{K.iconChanged({n:a(),icon:y.target.value})}),b(p,()=>K.ICONS.map(y=>(()=>{const v=Dl();return v.value=y,b(v,y),v})()),null),c.$$input=y=>{K.nameChanged({n:a(),name:y.target.value})},f.$$click=()=>K.removePlayerClicked(a()),b(g,()=>u.error||""),k(y=>{const v=Pe.player,$=Pe.error;return v!==y._v$4&&D(m,y._v$4=v),$!==y._v$5&&D(g,y._v$5=$),y},{_v$4:void 0,_v$5:void 0}),k(()=>p.value=u.icon),k(()=>c.value=u.name),h})()})),l.style.setProperty("text-align","center"),i.$$click=()=>K.addPlayerClicked(),s.style.setProperty("text-align","right"),o.$$click=()=>K.formSubmitted(),b(d,t),k(u=>{const a=Pe.root,h=Pe.list,m=Pe.error;return a!==u._v$&&D(n,u._v$=a),h!==u._v$2&&D(r,u._v$2=h),m!==u._v$3&&D(d,u._v$3=m),u},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};Je(["click","input"]);const Il=F('<div><button type="button">RESTART'),ql=F("<div><ul></ul><p>stage: "),Ll=F("<div><div><h1>Yacht</h1><div>"),jl=F("<li> "),Bl=()=>{let[e,t,n,r,l]=xe([O,Jr,rl,et,wn]);return(()=>{const i=Ll(),s=i.firstChild,o=s.firstChild,d=o.nextSibling;return d.style.setProperty("display","grid"),d.style.setProperty("gap","8px"),d.style.setProperty("grid-template-columns","auto 1fr"),b(d,N(Dt,{get when(){return t()},get children(){return N(Rl,{})}}),null),b(d,N(Dt,{get when(){return e().stage.status!==L.Init},get children(){return[(()=>{const u=Il(),a=u.firstChild;return b(u,N(fl,{}),a),a.$$click=()=>ll(),k(()=>a.disabled=!n()),u})(),(()=>{const u=ql(),a=u.firstChild,h=a.nextSibling;return h.firstChild,b(u,N(Al,{}),a),a.style.setProperty("list-style","none"),a.style.setProperty("padding","0"),b(a,()=>r().map((m,p)=>{let c=l()===p;return(()=>{const f=jl(),g=f.firstChild;return(c?"bold":"initial")!=null?f.style.setProperty("font-weight",c?"bold":"initial"):f.style.removeProperty("font-weight"),b(f,()=>m.icon,g),b(f,()=>m.name,null),f})()})),b(h,()=>JSON.stringify(e().stage),null),u})()]}}),null),k(u=>{const a=Lt.root,h=Lt.content;return a!==u._v$&&D(i,u._v$=a),h!==u._v$2&&D(s,u._v$2=h),u},{_v$:void 0,_v$2:void 0}),i})()};Je(["click"]);const zl=document.getElementById("root");Yn(()=>N(Bl,{}),zl);
