(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Cn=(e,t)=>e===t,Fe={equals:Cn};let kn=Kt;const ie=1,je=2,zt={owned:null,cleanups:null,context:null,owner:null};var S=null;let Je=null,b=null,P=null,ee=null,Ue=0;function An(e,t){const n=b,r=S,i=e.length===0,l=i?zt:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},s=i?e:()=>e(()=>te(()=>Ve(l)));S=l,b=null;try{return be(s,!0)}finally{b=n,S=r}}function Pn(e,t){t=t?Object.assign({},Fe,t):Fe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Gt(n,i));return[Ut.bind(n),r]}function C(e,t,n){const r=Vt(e,t,!1,ie);Ge(r)}function ke(e,t,n){n=n?Object.assign({},Fe,n):Fe;const r=Vt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ge(r),Ut.bind(r)}function Mn(e){return be(e,!1)}function te(e){if(b===null)return e();const t=b;b=null;try{return e()}finally{b=t}}function Mt(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function En(e,t){const n=Symbol("context");return{id:n,Provider:jn(n),defaultValue:e}}function Nn(e){let t;return(t=Xt(S,e.id))!==void 0?t:e.defaultValue}function Tn(e){const t=ke(e),n=ke(()=>ot(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ut(){if(this.sources&&this.state)if(this.state===ie)Ge(this);else{const e=P;P=null,be(()=>Re(this),!1),P=e}if(b){const e=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(e)):(b.sources=[this],b.sourceSlots=[e]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function Gt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&be(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],s=Je&&Je.running;s&&Je.disposed.has(l),(s?!l.tState:!l.state)&&(l.pure?P.push(l):ee.push(l),l.observers&&Yt(l)),s||(l.state=ie)}if(P.length>1e6)throw P=[],new Error},!1)),t}function Ge(e){if(!e.fn)return;Ve(e);const t=S,n=b,r=Ue;b=S=e,On(e,e.value,r),b=n,S=t}function On(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=ie,e.owned&&e.owned.forEach(Ve),e.owned=null),e.updatedAt=n+1,Ht(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Gt(e,r):e.value=r,e.updatedAt=n)}function Vt(e,t,n,r=ie,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:null,pure:n};return S===null||S!==zt&&(S.owned?S.owned.push(l):S.owned=[l]),l}function Wt(e){if(e.state===0)return;if(e.state===je)return Re(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ue);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ie)Ge(e);else if(e.state===je){const r=P;P=null,be(()=>Re(e,t[0]),!1),P=r}}function be(e,t){if(P)return e();let n=!1;t||(P=[]),ee?n=!0:ee=[],Ue++;try{const r=e();return Dn(n),r}catch(r){n||(ee=null),P=null,Ht(r)}}function Dn(e){if(P&&(Kt(P),P=null),e)return;const t=ee;ee=null,t.length&&be(()=>kn(t),!1)}function Kt(e){for(let t=0;t<e.length;t++)Wt(e[t])}function Re(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===ie?r!==t&&(!r.updatedAt||r.updatedAt<Ue)&&Wt(r):i===je&&Re(r,t)}}}function Yt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=je,n.pure?P.push(n):ee.push(n),n.observers&&Yt(n))}}function Ve(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),s=n.observerSlots.pop();r<i.length&&(l.sourceSlots[s]=r,i[r]=l,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ve(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Fn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ht(e,t=S){throw Fn(e)}function Xt(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Xt(e.owner,t):void 0}function ot(e){if(typeof e=="function"&&!e.length)return ot(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ot(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function jn(e,t){return function(r){let i;return C(()=>i=te(()=>(S.context={[e]:r.value},Tn(()=>r.children))),void 0),i}}function N(e,t){return te(()=>e(t||{}))}const Rn=e=>`Stale read from <${e}>.`;function Le(e){const t=e.keyed,n=ke(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return ke(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?te(()=>i(t?r:()=>{if(!te(n))throw Rn("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Ln(e,t,n){let r=n.length,i=t.length,l=r,s=0,o=0,d=t[i-1].nextSibling,h=null;for(;s<i||o<l;){if(t[s]===n[o]){s++,o++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===s){const c=l<r?o?n[o-1].nextSibling:n[l-o]:d;for(;o<l;)e.insertBefore(n[o++],c)}else if(l===o)for(;s<i;)(!h||!h.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[o]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[o++],t[s++].nextSibling),e.insertBefore(n[--l],c),t[i]=n[l]}else{if(!h){h=new Map;let p=o;for(;p<l;)h.set(n[p],p++)}const c=h.get(t[s]);if(c!=null)if(o<c&&c<l){let p=s,m=1,f;for(;++p<i&&p<l&&!((f=h.get(t[p]))==null||f!==c+m);)m++;if(m>c-o){const a=t[s];for(;o<c;)e.insertBefore(n[o++],a)}else e.replaceChild(n[o++],t[s++])}else s++;else t[s++].remove()}}}const Et="_$DX_DELEGATE";function In(e,t,n,r={}){let i;return An(l=>{i=l,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function O(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},l=t?()=>te(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return l.cloneNode=l,l}function vt(e,t=window.document){const n=t[Et]||(t[Et]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,Bn))}}function qn(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function X(e,t){t==null?e.removeAttribute("class"):e.className=t}function ue(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let l,s;for(l=0,s=i.length;l<s;l++){const o=i[l];!o||o==="undefined"||t[o]||(Nt(e,o,!1),delete n[o])}for(l=0,s=r.length;l<s;l++){const o=r[l],d=!!t[o];!o||o==="undefined"||n[o]===d||!d||(Nt(e,o,!0),n[o]=d)}return n}function y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ie(e,t,r,n);C(i=>Ie(e,t(),i,n),r)}function Nt(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,l=r.length;i<l;i++)e.classList.toggle(r[i],n)}function Bn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ie(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),s){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=le(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=le(e,n,r);else{if(l==="function")return C(()=>{let o=t();for(;typeof o=="function";)o=o();n=Ie(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],d=n&&Array.isArray(n);if(at(o,t,n,i))return C(()=>n=Ie(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=le(e,n,r),s)return n}else d?n.length===0?Tt(e,o,r):Ln(e,n,o):(n&&le(e),Tt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=le(e,n,r,t);le(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function at(e,t,n,r){let i=!1;for(let l=0,s=t.length;l<s;l++){let o=t[l],d=n&&n[l],h;if(!(o==null||o===!0||o===!1))if((h=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=at(e,o,d)||i;else if(h==="function")if(r){for(;typeof o=="function";)o=o();i=at(e,Array.isArray(o)?o:[o],Array.isArray(d)?d:[d])||i}else e.push(o),i=!0;else{const c=String(o);d&&d.nodeType===3&&d.data===c?e.push(d):e.push(document.createTextNode(c))}}return i}function Tt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function le(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const d=o.parentNode===e;!l&&!s?d?e.replaceChild(i,o):e.insertBefore(i,n):d&&o.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const zn="_root_7vb0q_1",Un="_content_7vb0q_5",Ot={root:zn,content:Un},G={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Gn=6,Vn=[{name:"Aces",icon:"",isMatch:e=>se(e,1)},{name:"Deuces",icon:"",isMatch:e=>se(e,2)},{name:"Threes",icon:"",isMatch:e=>se(e,3)},{name:"Fours",icon:"",isMatch:e=>se(e,4)},{name:"Fives",icon:"",isMatch:e=>se(e,5)},{name:"Sixes",icon:"",isMatch:e=>se(e,6)}];let Jt={name:"Extra",icon:"",isMatch:(e,t)=>Jn(t)>=63?35:!1};const Wn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?Qe(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?Qe(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>Qe(e)}];function Kn(){return{name:"",scores:Yn()}}function Yn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function se(e,t){let n=Hn(e,t);return n?n*t:!1}function Hn(e,t){return e[t-1]}function Xn(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function Qe(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function Jn(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function Qn(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function Zn(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function Qt(){return[{val:1,pos:0,state:"cup"},{val:1,pos:1,state:"cup"},{val:1,pos:2,state:"cup"},{val:1,pos:3,state:"cup"},{val:1,pos:4,state:"cup"}]}function er(){let e={status:G.Init},t=[],n=Qt();return{stage:e,players:t,dices:n}}function tr(e,t){let n=lr(e);if(!n)return{stage:e,dices:t};let r=t.map(i=>i.state!=="kept"?{...i,state:"spinning"}:i);return{stage:n,dices:r}}function nr(e,t){let n=sr(e);if(!n)return{stage:e,dices:t};let r=t.filter(l=>l.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((l,s)=>s-l);return{dices:t.map(l=>l.state==="spinning"?{pos:l.pos,val:r.pop(),state:"table"}:l),stage:n}}function rr(e,t){return e.status===G.Init&&t.every(n=>n.name.trim()!=="")?{status:G.PlayerMove,player:0,step:0,spinning:!1}:e}function ir(e){return e.status===G.PlayerMove&&!e.spinning&&e.step<3}function lr(e){return e.status===G.PlayerMove&&e.step<3?{...e,spinning:!0,step:e.step+1}:!1}function sr(e){return e.status===G.PlayerMove&&e.spinning?{...e,spinning:!1}:!1}function or(e){return e.status===G.PlayerMove&&e.spinning}function Zt(e,t,n){if(e.status===G.PlayerMove&&n.name!=="Extra"){let r=[...t];if(r[e.player].scores={...r[e.player].scores,[n.name]:n.score},Zn(n.name)&&Qn(r[e.player].scores)){let l=Jt.isMatch([],r[e.player].scores)||0;r[e.player].scores={...r[e.player].scores,Extra:l}}let i=(e.player+1)%t.length;return ar(r[i])?{players:r,stage:{status:G.Finish,winners:cr(r)}}:{players:r,stage:{...e,player:i,step:0}}}return{players:t,stage:e}}function ar(e){return Object.values(e.scores).every(t=>t!==null)}function ur(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function cr(e){let t=e.map(i=>ur(i)),n=Math.max(...t),r=[];for(let i=0;i<t.length;i++)t[i]===n&&r.push(i);return r}const fr="_root_1eweb_1",dr="_scoreRow_1eweb_8",pr="_scoreCell_1eweb_12",hr="_matched_1eweb_21",mr="_done_1eweb_30",R={root:fr,scoreRow:dr,scoreCell:pr,matched:hr,done:mr};function bt(e,t){for(let n in e)t(e[n],n)}function F(e,t){e.forEach(t)}function I(e,t){if(!e)throw Error(t)}function J({node:e=[],from:t,source:n,parent:r=t||n,to:i,target:l,child:s=i||l,scope:o={},meta:d={},family:h={type:"regular"},regional:c}={}){let p=Se(r),m=Se(h.links),f=Se(h.owners),a=[];F(e,g=>g&&H(a,g));let u={id:kr(),seq:a,next:Se(s),meta:d,scope:o,family:{type:h.type||"crosslink",links:m,owners:f}};return F(m,g=>H(We(g),u)),F(f,g=>H(Ke(g),u)),F(p,g=>H(g.next,u)),c&&ce&&_t(xe(ce),[u]),u}function qe(e,t,n){let r,i=z,l=null,s=v;if(e.target&&(t=e.params,n=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(l=e.stack),s=Te(e)||s,e=e.target),s&&v&&s!==v&&(v=null),Array.isArray(e))for(let a=0;a<e.length;a++)Z("pure",i,V(e[a]),l,t[a],s,r);else Z("pure",i,V(e),l,t,s,r);if(n&&!Oe)return;let o,d,h,c,p,m,f={isRoot:Oe,currentPage:z,scope:v,isWatch:rt,isPure:De};Oe=0;e:for(;c=Nr();){let{idx:a,stack:u,type:g}=c;h=u.node,z=p=u.page,v=Te(u),p?m=p.reg:v&&(m=v.reg);let $=!!p,E=!!v,j={fail:0,scope:h.scope};o=d=0;for(let A=a;A<h.seq.length&&!o;A++){let w=h.seq[A];if(w.order){let{priority:k,barrierID:_}=w.order,x=_?p?`${p.fullID}_${_}`:_:0;if(A!==a||g!==k){_?nt.has(x)||(nt.add(x),dt(A,u,k,_)):dt(A,u,k);continue e}_&&nt.delete(x)}switch(w.type){case"mov":{let _,x=w.data;switch(x.from){case ne:_=xe(u);break;case"a":case"b":_=u[x.from];break;case"value":_=x.store;break;case"store":if(m&&!m[x.store.id])if($){let Xe=un(p,x.store.id);u.page=p=Xe,Xe?m=Xe.reg:E?(ye(v,x.store,0,1,x.softRead),m=v.reg):m=void 0}else E&&ye(v,x.store,0,1,x.softRead);_=Ce(m&&m[x.store.id]||x.store)}switch(x.to){case ne:u.value=_;break;case"a":case"b":u[x.to]=_;break;case"store":Tr(p,v,h,x.target).current=_}break}case"compute":let k=w.data;if(k.fn){rt=D(h,"op")==="watch",De=k.pure;let _=k.safe?(0,k.fn)(xe(u),j.scope,u):Dr(j,k.fn,u);k.filter?d=!_:u.value=_,rt=f.isWatch,De=f.isPure}}o=j.fail||d}if(!o){let A=xe(u),w=Te(u);if(F(h.next,k=>{Z("child",p,k,u,A,w)}),w){D(h,"needFxCounter")&&Z("child",p,w.fxCount,u,A,w),D(h,"storeChange")&&Z("child",p,w.storeChange,u,A,w),D(h,"warnSerialize")&&Z("child",p,w.warnSerializeNode,u,A,w);let k=w.additionalLinks[h.id];k&&F(k,_=>{Z("child",p,_,u,A,w)})}}}Oe=f.isRoot,z=f.currentPage,v=Te(f)}function en(e,t="combine"){let n=t+"(",r="",i=0;return bt(e,l=>{i<25&&(l!=null&&(n+=r,n+=re(l)?tn(l).fullName:l.toString()),i+=1,r=", ")}),n+")"}function gr(e,t){let n,r,i=e;if(t){let l=tn(t);e.length===0?(n=l.path,r=l.fullName):(n=l.path.concat([e]),r=l.fullName.length===0?e:l.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:n}}function $t(e,t){let n=t?e:e[0];on(n);let r=n.or,i=n.and;if(i){let l=t?i:i[0];if(K(l)&&"and"in l){let s=$t(i,t);e=s[0],r={...r,...s[1]}}else e=i}return[e,r]}function B(e,...t){let n=sn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function T(e,t){let n=Pe({or:t,and:typeof e=="string"?{name:e}:e}),r=(s,...o)=>(pe(!D(r,"derived"),"call of derived event","createEvent"),pe(!De,"unit call from pure function","operators like sample"),z?((d,h,c,p)=>{let m=z,f=null;if(h)for(f=z;f&&f.template!==h;)f=de(f);Rt(f);let a=d.create(c,p);return Rt(m),a})(r,i,s,o):r.create(s,o)),i=sn(),l=Object.assign(r,{graphite:J({meta:dn(n.actualOp||"event",r,n),regional:1}),create:s=>(qe({target:r,params:s,scope:v}),s),watch:s=>fn(r,s),map:s=>it(r,fe,s,[W()]),filter:s=>it(r,"filter",s.fn?s:s.fn,[W(St,1)]),filterMap:s=>it(r,"filterMap",s,[W(),he(o=>!L(o),1)]),prepend(s){let o=T("* → "+r.shortName,{parent:de(r)});return B("eventPrepend",V(o)),$e(o,r,[W()],"prepend",s),Fr(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(l),oe(l,"id",l.graphite.id),ln(l.graphite),l}function Dt(e,t,n,r){return ze(n,t,"first argument"),I(Y(r),"second argument should be a function"),pe(!D(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),F(Array.isArray(n)?n:[n],i=>{e.off(i),Be(e).set(i,cn(pn(i,e,"on",Mr,r)))}),e}function Me(e,t){let n=Pe(t),r=ge(e),i=T({named:"updates",derived:1});B("storeBase",r);let l=r.id,s={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let f,a=r;if(z){let u=z;for(;u&&!u.reg[l];)u=de(u);u&&(f=u)}return!f&&v&&(ye(v,r,1),f=v),f&&(a=f.reg[l]),Ce(a)},setState:f=>qe({target:s,params:f,defer:1,scope:v}),reset:(...f)=>(F(f,a=>Dt(s,".reset",a,()=>s.defaultState)),s),on:(f,a)=>Dt(s,".on",f,a),off(f){let a=Be(s).get(f);return a&&(a(),Be(s).delete(f)),s},map(f,a){let u,g;K(f)&&(u=f,f=f.fn),pe(L(a),"second argument of store.map","updateFilter");let $=s.getState();L($)||(g=f($,a));let E=Me(g,{name:`${s.shortName} → *`,derived:1,and:u}),j=pn(s,E,fe,ct,f);return ft(U(E),{type:fe,fn:f,from:r}),U(E).noInit=1,B("storeMap",r,j),E},watch(f,a){if(!a||!re(f)){let u=fn(s,f);return B("storeWatch",r,f)||f(s.getState()),u}return I(Y(a),"second argument should be a function"),f.watch(u=>a(s.getState(),u))}},o=dn("store",s,n),d=s.defaultConfig.updateFilter;s.graphite=J({scope:{state:r,fn:d},node:[he((f,a,u)=>(u.scope&&!u.scope.reg[r.id]&&(u.b=1),f)),me(r),he((f,a,{a:u,b:g})=>!L(f)&&(f!==u||g),1),d&&W(ct,1),q({from:ne,target:r})],child:i,meta:{...o,defaultState:e},regional:1}),oe(s,"id",s.graphite.id),oe(s,"rootStateRefId",l);let h=D(s,"serialize"),c=D(s,"derived"),p=h==="ignore",m=D(s,"sid");return m&&(oe(s,"storeChange",1),r.sid=m),m||p||c||oe(s,"warnSerialize",1),I(c||!L(e),"current state can't be undefined, use null instead"),_t(s,[i]),n!=null&&n.domain&&n.domain.hooks.store(s),c||(s.reinit=T({named:"reinit"}),s.reset(s.reinit)),r.meta=s.graphite.meta,ln(s.graphite),s}function yr(...e){let t,n,r;[e,r]=$t(e);let i,l,s,o=e[e.length-1];if(Y(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let d=n[0];Q(d)||(i=d,l=1)}if(!l&&(i=n,t)){s=1;let d=t;t=h=>d(...h)}return I(K(i),"shape should be an object"),jr(Array.isArray(i),!s,i,r,t)}function vr(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function br(e,t){ze(e,"merge","first argument");let n=T({name:en(e,"merge"),derived:1,and:t});return $e(e,n,[],"merge"),n}function $r(e,t){let n=0;return F(Rr,r=>{r in e&&(I(e[r]!=null,hn(t,r)),n=1)}),n}function Ee(...e){let t,n,r,i,[[l,s,o],d]=$t(e),h=1;return L(s)&&K(l)&&$r(l,"sample")&&(s=l.clock,o=l.fn,h=!l.greedy,i=l.filter,t=l.target,n=l.name,r=l.sid,l=l.source),Lr("sample",s,l,i,t,o,n,d,h,1,0,r)}function wr(e,{scope:t,safe:n}={}){I(t||v||n,"scopeBind cannot be called outside of forked .watch");let r=t||v;return ut(e)?i=>{let l=vr();return qe({target:e,params:{params:i,req:l},scope:r}),l.req}:i=>(qe({target:e,params:i,scope:r}),i)}let _r=typeof Symbol<"u"&&Symbol.observable||"@@observable",fe="map",ne="stack",V=e=>e.graphite||e,We=e=>e.family.owners,Ke=e=>e.family.links,U=e=>e.stateRef,xe=e=>e.value,Be=e=>e.subscribers,de=e=>e.parent,Te=e=>e.scope,D=(e,t)=>V(e).meta[t],oe=(e,t,n)=>V(e).meta[t]=n,tn=e=>e.compositeName,re=e=>(Y(e)||K(e))&&"kind"in e;const Ne=e=>t=>re(t)&&t.kind===e;let Q=Ne("store"),Sr=Ne("event"),ut=Ne("effect"),nn=Ne("domain"),xr=Ne("scope");var Ze={__proto__:null,unit:re,store:Q,event:Sr,effect:ut,domain:nn,scope:xr,attached:e=>ut(e)&&D(e,"attached")==1};let et=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},H=(e,t)=>e.push(t),pe=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const wt=()=>{let e=0;return()=>""+ ++e};let Cr=wt(),rn=wt(),kr=wt(),ce=null,ln=e=>{},sn=()=>ce,Ar=e=>(e&&ce&&ce.sidRoot&&(e=`${ce.sidRoot}|${e}`),e),_t=(e,t)=>{let n=V(e);F(t,r=>{let i=V(r);n.family.type!=="domain"&&(i.family.type="crosslink"),H(We(i),n),H(Ke(n),i)})},Se=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(V),K=e=>typeof e=="object"&&e!==null,Y=e=>typeof e=="function",L=e=>e===void 0,on=e=>I(K(e)||Y(e),"expect first argument be an object");const Ft=(e,t,n,r)=>I(!(!K(e)&&!Y(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let ze=(e,t,n)=>{Array.isArray(e)?F(e,(r,i)=>Ft(r,t,`${i} item of ${n}`,"")):Ft(e,t,n," or array of units")},Pr=(e,t,n="target")=>F(Se(t),r=>pe(!D(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),ct=(e,{fn:t},{a:n})=>t(e,n),Mr=(e,{fn:t},{a:n})=>t(n,e),St=(e,{fn:t})=>t(e);const an=(e,t,n,r)=>{let i={id:rn(),type:e,data:t};return n&&(i.order={priority:n},r&&(i.order.barrierID=++Er)),i};let Er=0,q=({from:e="store",store:t,target:n,to:r=n?"store":ne,batch:i,priority:l})=>an("mov",{from:e,store:t,to:r,target:n},l,i),Ae=({fn:e,batch:t,priority:n,safe:r=0,filter:i=0,pure:l=0})=>an("compute",{fn:e,safe:r,filter:i,pure:l},n,t),xt=({fn:e})=>Ae({fn:e,priority:"effect"}),he=(e,t,n)=>Ae({fn:e,safe:1,filter:t,priority:n&&"effect"}),me=(e,t,n)=>q({store:e,to:t?ne:"a",priority:n&&"sampler",batch:1}),W=(e=St,t)=>Ae({fn:e,pure:1,filter:t}),tt={mov:q,compute:Ae,filter:({fn:e,pure:t})=>Ae({fn:e,filter:1,pure:t}),run:xt},ge=e=>({id:rn(),current:e}),Ce=({current:e})=>e,ft=(e,t)=>{e.before||(e.before=[]),H(e.before,t)},ae=null;const Ct=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||pt(e.v.type)>pt(t.v.type))&&(n=e,e=t,t=n),n=Ct(e.r,t),e.r=e.l,e.l=n,e},kt=[];let jt=0;for(;jt<6;)H(kt,{first:null,last:null,size:0}),jt+=1;const Nr=()=>{for(let e=0;e<6;e++){let t=kt[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=ae.v;return ae=Ct(ae.l,ae.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},Z=(e,t,n,r,i,l,s)=>dt(0,{a:null,b:null,node:n,parent:r,value:i,page:t,scope:l,meta:s},e),dt=(e,t,n,r=0)=>{let i=pt(n),l=kt[i],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};i===3||i===4?ae=Ct(ae,s):(l.size===0?l.first=s:l.last.r=s,l.last=s),l.size+=1},pt=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},nt=new Set;let v,Oe=1,rt=0,De=0,z=null,Rt=e=>{z=e};const un=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=de(e);if(e)return e}return null};let Tr=(e,t,n,r,i)=>{let l=un(e,r.id);return l?l.reg[r.id]:t?(ye(t,r,i),t.reg[r.id]):r};const Or=e=>e;let ye=(e,t,n,r,i)=>{var l;let s=e.reg,o=t.sid,d=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize,h=e.fromSerialize&&d!=="ignore"&&d?.read||Or;if(s[t.id])return;let c={id:t.id,current:t.current,meta:t.meta};if(c.id in e.values.idMap)c.current=e.values.idMap[c.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))c.current=h(e.values.sidMap[o]);else if(t.before&&!i){let p=0,m=n||!t.noInit||r;F(t.before,f=>{switch(f.type){case fe:{let a=f.from;if(a||f.fn){a&&ye(e,a,n,r);let u=a&&s[a.id].current;m&&(c.current=f.fn?f.fn(u):u)}break}case"field":p||(p=1,c.current=Array.isArray(c.current)?[...c.current]:{...c.current}),ye(e,f.from,n,r),m&&(c.current[f.field]=s[s[f.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=c};const Dr=(e,t,n)=>{try{return t(xe(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Pe=(e,t={})=>(K(e)&&(Pe(e.or,t),bt(e,(n,r)=>{L(n)||r==="or"||r==="and"||(t[r]=n)}),Pe(e.and,t)),t);const Lt=(e,t)=>{et(e.next,t),et(We(e),t),et(Ke(e),t)},ht=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=Ke(e);for(;r=i.pop();)Lt(r,e),(t||n&&D(e,"op")!=="sample"||r.family.type==="crosslink")&&ht(r,t,D(r,"op")!=="on"&&n);for(i=We(e);r=i.pop();)Lt(r,e),n&&r.family.type==="crosslink"&&ht(r,t,D(r,"op")!=="on"&&n)},we=e=>e.clear();let mt=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),Q(e))we(Be(e));else if(nn(e)){n=1;let r=e.history;we(r.events),we(r.effects),we(r.stores),we(r.domains)}ht(V(e),!!t,n)},cn=e=>{let t=()=>mt(e);return t.unsubscribe=t,t},$e=(e,t,n,r,i)=>J({node:n,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),fn=(e,t)=>(I(Y(t),".watch argument should be a function"),cn(J({scope:{fn:t},node:[xt({fn:St})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Fr=(e,t,n="event")=>{de(e)&&de(e).hooks[n](t)},dn=(e,t,n)=>{let r=Pe(n),i=e==="domain",l=Cr(),{sid:s=null,named:o=null,domain:d=null,parent:h=d}=r,c=o||r.name||(i?"":l),p=gr(c,h),m={op:t.kind=e,name:t.shortName=c,sid:t.sid=Ar(s),named:o,unitId:t.id=l,serialize:r.serialize,derived:r.derived,config:r};return t.parent=h,t.compositeName=p,t.defaultConfig=r,t.thru=f=>(pe(0,"thru","js pipe"),f(t)),t.getType=()=>p.fullName,!i&&(t.subscribe=f=>(on(f),t.watch(Y(f)?f:a=>f.next&&f.next(a))),t[_r]=()=>t),m};const it=(e,t,n,r)=>{let i;K(n)&&(i=n,n=n.fn);let l=T({name:`${e.shortName} → *`,derived:1,and:i});return $e(e,l,r,t,n),l},pn=(e,t,n,r,i)=>{let l=U(t),s=q({store:l,to:"a",priority:"read"});n===fe&&(s.data.softRead=1);let o=[s,W(r)];return B("storeOnMap",l,o,Q(e)&&U(e)),$e(e,t,o,n,i)},jr=(e,t,n,r,i)=>{let l=e?a=>[...a]:a=>({...a}),s=e?[]:{},o=l(s),d=ge(o),h=ge(1);d.type=e?"list":"shape",d.noInit=1,B("combineBase",d,h);let c=Me(o,{name:en(n),derived:1,and:r}),p=U(c);p.noInit=1,oe(c,"isCombine",1);let m=me(d);m.order={priority:"barrier"};let f=[he((a,u,g)=>(g.scope&&!g.scope.reg[d.id]&&(g.c=1),a)),m,q({store:h,to:"b"}),he((a,{key:u},g)=>{if(g.c||a!==g.a[u])return t&&g.b&&(g.a=l(g.a)),g.a[u]=a,1},1),q({from:"a",target:d}),q({from:"value",store:0,target:h}),q({from:"value",store:1,target:h,priority:"barrier",batch:1}),me(d,1),i&&W()];return bt(n,(a,u)=>{if(!Q(a))return I(!re(a)&&!L(a),`combine expects a store in a field ${u}`),void(o[u]=s[u]=a);s[u]=a.defaultState,o[u]=a.getState();let g=$e(a,c,f,"combine",i);g.scope.key=u;let $=U(a);ft(d,{type:"field",field:u,from:$}),B("combineField",$,g)}),c.defaultShape=n,ft(p,{type:fe,from:d,fn:i}),c.defaultState=i?p.current=i(o):s,c};J({node:[xt({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const Rr=["source","clock","target"],hn=(e,t)=>e+`: ${t} should be defined`;let Lr=(e,t,n,r,i,l,s,o,d,h,c,p)=>{let m=!!i;I(!L(n)||!L(t),hn(e,"either source or clock"));let f=0;L(n)?f=1:re(n)||(n=yr(n)),L(t)?t=n:(ze(t,e,"clock"),Array.isArray(t)&&(t=br(t))),f&&(n=t),o||s||(s=n.shortName);let a="none";(c||r)&&(re(r)?a="unit":(I(Y(r),"`filter` should be function or unit"),a="fn")),i?(ze(i,e,"target"),Pr(e,i)):a==="none"&&h&&Q(n)&&Q(t)?i=Me(l?l(Ce(U(n)),Ce(U(t))):Ce(U(n)),{name:s,sid:p,or:o}):(i=T({name:s,derived:1,or:o}),B("sampleTarget",V(i)));let u=ge(),g=[];if(a==="unit"){let[A,w]=It(r,i,t,u,e);g=[...lt(w),...lt(A)]}let[$,E]=It(n,i,t,u,e),j=$e(t,i,[B("sampleSourceLoader"),q({from:ne,target:u}),...lt(E),me($,1,d),...g,me(u),a==="fn"&&W((A,w,{a:k})=>r(A,k),1),l&&W(ct),B("sampleSourceUpward",m)],e,l);return _t(n,[j]),Object.assign(j.meta,o,{joint:1}),i};const lt=e=>[me(e),he((t,n,{a:r})=>r,1)],It=(e,t,n,r,i)=>{let l=Q(e),s=l?U(e):ge(),o=ge(l);return l||J({parent:e,node:[q({from:ne,target:s}),q({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:i},regional:1}),B("sampleSource",o,s,r),[s,o]};let gt=er(),M=Me({stage:gt.stage,dices:gt.dices}),ve=Me(gt.players),mn=M.map(e=>e.dices),Ir=mn.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?t:null}),qr=M.map(e=>"player"in e.stage?e.stage.player:0),gn=M.map(e=>ir(e.stage)),yn=M.map(e=>or(e.stage)),Ye=T(),vn=T(),He=T(),At=T(),bn=T(),$n=T(),wn=T(),_n=T(),Pt=T();Ee({source:M,clock:bn,filter:gn,fn:e=>tr(e.stage,e.dices),target:M});Ee({source:M,clock:$n,filter:yn,fn:e=>nr(e.stage,e.dices),target:M});ve.on(Ye,e=>e.length<Gn?[...e,Kn()]:e).on(vn,(e,t)=>{if(e.length<2)return e;let n=[...e];return n.splice(t,1),n}).on(He,(e,{n:t,name:n})=>{let r=[...e];return r[t].name=n,r});Ee({source:[ve,M],clock:Pt,fn:([e,t],n)=>Zt(t.stage,e,n).players,target:ve});Ee({source:[ve,M],clock:Pt,fn:([e,t],n)=>({stage:Zt(t.stage,e,n).stage,dices:Qt()}),target:M});Ee({source:[ve,M],clock:At,fn:([e,t])=>({...t,stage:rr(t.stage,e)}),target:M});M.on(wn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.pos===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(_n,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.pos===t?{...r,state:"table"}:r);return{...e,dices:n}});M.reset(At);Ye();Ye();He({n:0,name:"aaa"});He({n:1,name:"bbb"});const Br=O('<button type="button">add new player'),zr=O('<div><div><br><button type="button">START</button></div><div><p> Scores:</p></div><div></div><p>---</p><div>'),Ur=O('<button type="button">delete'),Gr=O('<div><input type="text">'),Vr=O("<p>"),Sn=O("<div><p>"),xn=O('<button type="button" disabled>'),Wr=O('<button type="button">'),Kr=O('<button type="button"> '),Yr=e=>{function t(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const n=zr(),r=n.firstChild,i=r.firstChild,l=i.nextSibling,s=r.nextSibling;s.firstChild;const o=s.nextSibling,d=o.nextSibling,h=d.nextSibling;return y(r,()=>e.players.map((c,p)=>(()=>{const m=Gr(),f=m.firstChild;return f.addEventListener("change",a=>{He({n:p,name:a.target.value})}),y(m,N(Le,{get when(){return e.editable},get children(){const a=Ur();return a.$$click=()=>vn(p),a}}),null),C(()=>f.value=c.name),m})()),i),y(r,N(Le,{get when(){return e.editable},get children(){const c=Br();return c.$$click=()=>Ye(),c}}),i),l.$$click=()=>At(),y(s,()=>e.players.map((c,p)=>(()=>{const m=Vr();return y(m,p+1),C(()=>qn(m,"title",c.name)),m})()),null),y(o,()=>Vn.map(c=>N(qt,{get dices(){return e.dices},get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:c}))),y(n,N(Hr,{get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:Jt}),d),y(h,()=>Wn.map(c=>N(qt,{get dices(){return e.dices},get players(){return e.players},get currentPlayer(){return e.currentPlayer},category:c}))),C(c=>{const p=R.root,m=R.root,f={[R.scoreRow]:!0},a=t();return p!==c._v$&&X(n,c._v$=p),m!==c._v$2&&X(r,c._v$2=m),c._v$3=ue(s,f,c._v$3),a!==c._v$4&&((c._v$4=a)!=null?s.style.setProperty("grid-template-columns",a):s.style.removeProperty("grid-template-columns")),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},qt=e=>{const{isMatch:t,name:n}=e.category;function r(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const i=Sn(),l=i.firstChild;return y(l,n),y(i,()=>e.players.map((s,o)=>{if(s.scores[n]!==null)return(()=>{const c=xn();return y(c,()=>s.scores[n]),C(()=>X(c,R.scoreCell)),c})();if(e.currentPlayer===o&&e.dices){const c=t(Xn(e.dices),s.scores)||0;return(()=>{const p=Wr();return p.$$click=()=>Pt({score:c,name:n}),y(p,c),C(m=>ue(p,{[R.scoreCell]:!0,[R.matched]:!0},m)),p})()}return(()=>{const c=Kr();return C(p=>ue(c,{[R.scoreCell]:!0,[R.done]:!0},p)),c})()}),null),C(s=>{const o={[R.scoreRow]:!0},d=r();return s._v$5=ue(i,o,s._v$5),d!==s._v$6&&((s._v$6=d)!=null?i.style.setProperty("grid-template-columns",d):i.style.removeProperty("grid-template-columns")),s},{_v$5:void 0,_v$6:void 0}),i})()},Hr=e=>{const{name:t}=e.category;function n(){return`150px${" 50px".repeat(e.players.length)}`}return(()=>{const r=Sn(),i=r.firstChild;return y(i,t),y(r,()=>e.players.map((l,s)=>(()=>{const o=xn();return y(o,()=>l.scores[t]),C(d=>ue(o,{[R.scoreCell]:!0,[R.done]:!0},d)),o})()),null),C(l=>{const s={[R.scoreRow]:!0},o=n();return l._v$7=ue(r,s,l._v$7),o!==l._v$8&&((l._v$8=o)!=null?r.style.setProperty("grid-template-columns",o):r.style.removeProperty("grid-template-columns")),l},{_v$7:void 0,_v$8:void 0}),r})()};vt(["click"]);function Xr(e,t){var n;return((r,i)=>{let l=!Ze.unit(r)&&typeof r=="object",s={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?s=r["@@unitShape"]():st("expect @@unitShape to be a function"):s=l?r:{unit:r};let o=Array.isArray(s),d=Object.entries(s),h=o?[]:{},c=[],p={},m={};for(let[a,u]of d)if(Ze.store(u))if(p[u.graphite.id]){let g=p[u.graphite.id];h[a]=h[g],m[a]=h[g]}else{c.push(u),p[u.graphite.id]=a;let[g,$]=Pn(Bt(u,i));h[a]=g,m[a]=$}else Ze.unit(u)||st("expected useUnit argument to be a unit"),h[a]=i?wr(u,{scope:i}):u;let f=[tt.compute({priority:"effect"}),tt.compute({priority:"sampler",batch:1}),tt.run({fn:()=>{Mn(()=>{for(let a of c)m[p[a.graphite.id]](()=>Bt(a,i))})}})];if(i){let a=J({node:f}),u=i.additionalLinks,g=[];c.forEach($=>{let E=$.graphite.id,j=u[E]||[];u[E]=j,j.push(a),g.push(j)}),Mt(()=>{g.forEach($=>{let E=$.indexOf(a);E!==-1&&$.splice(E,1)}),mt(a)})}else{let a=J({node:f,parent:c,family:{owners:c}});Mt(()=>{mt(a)})}return l?h:h.unit})(e,((r=1)=>{let i=Nn(Jr);return r&&!i&&st("No scope found, consider adding <Provider> to app root"),i})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let st=e=>{throw Error(e)};const Bt=(e,t)=>t?t.getState(e):e.getState();let Jr=En(null);const Qr="_root_34bju_1",Zr="_dice_34bju_7",ei="_spinner_34bju_25",ti="_spin_34bju_25",yt={root:Qr,dice:Zr,spinner:ei,spin:ti},ni=O("<div><h3>kept dices</h3><h3>table dices</h3><h3>box dices"),ri=O("<button>"),ii=O("<div>"),li=e=>(()=>{const t=ni();return t.firstChild.nextSibling.nextSibling,y(t,N(_e,{get dice(){return e.dices[0]}}),null),y(t,N(_e,{get dice(){return e.dices[1]}}),null),y(t,N(_e,{get dice(){return e.dices[2]}}),null),y(t,N(_e,{get dice(){return e.dices[3]}}),null),y(t,N(_e,{get dice(){return e.dices[4]}}),null),C(()=>X(t,yt.root)),t})(),_e=e=>{function t(){let r={kept:0,table:58,cup:116,spinning:116}[e.dice.state];return`translateX(${e.dice.pos*50+(e.dice.pos-1)*8}px) translateY(${r}px)`}function n(){e.dice.state==="table"?wn({diceNumber:e.dice.pos}):e.dice.state==="kept"&&_n({diceNumber:e.dice.pos})}return(()=>{const r=ri();return r.$$click=n,y(r,(()=>{const i=ke(()=>e.dice.state==="spinning");return()=>i()?(()=>{const l=ii();return C(()=>X(l,yt.spinner)),l})():e.dice.val})()),C(i=>{const l=yt.dice,s=t();return l!==i._v$&&X(r,i._v$=l),s!==i._v$2&&((i._v$2=s)!=null?r.style.setProperty("transform",s):r.style.removeProperty("transform")),i},{_v$:void 0,_v$2:void 0}),r})()};vt(["click"]);const si=O('<button type="button">spin dices'),oi=O('<button type="button">throw dices'),ai=O("<div><div><h1>Yacht</h1><div><div></div><div><div></div><p>stage: "),ui=()=>{let[e,t,n,r,i,l,s]=Xr([Ir,mn,ve,qr,gn,yn,M]);return(()=>{const o=ai(),d=o.firstChild,h=d.firstChild,c=h.nextSibling,p=c.firstChild,m=p.nextSibling,f=m.firstChild,a=f.nextSibling;return a.firstChild,c.style.setProperty("display","grid"),c.style.setProperty("gap","8px"),c.style.setProperty("grid-template-columns","auto 1fr"),y(p,N(Yr,{get dices(){return e()},get currentPlayer(){return r()},get players(){return n()},get editable(){return s().stage.status===G.Init}})),y(m,N(li,{get dices(){return t()}}),f),y(f,N(Le,{get when(){return i()},get children(){const u=si();return u.$$click=()=>bn(),u}}),null),y(f,N(Le,{get when(){return l()},get children(){const u=oi();return u.$$click=()=>$n(),C(()=>u.disabled=!l()),u}}),null),y(a,()=>JSON.stringify(s().stage),null),C(u=>{const g=Ot.root,$=Ot.content;return g!==u._v$&&X(o,u._v$=g),$!==u._v$2&&X(d,u._v$2=$),u},{_v$:void 0,_v$2:void 0}),o})()};vt(["click"]);const ci=document.getElementById("root");In(()=>N(ui,{}),ci);
