(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const En=(e,t)=>e===t,Nn=Symbol("solid-track"),De={equals:En};let Tn=Qt;const le=1,qe=2,Vt={owned:null,cleanups:null,context:null,owner:null};var P=null;let rt=null,k=null,T=null,ne=null,Ke=0;function Fe(e,t){const n=k,r=P,s=e.length===0,i=s?Vt:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},l=s?e:()=>e(()=>Q(()=>We(i)));P=i,k=null;try{return $e(l,!0)}finally{k=n,P=r}}function Wt(e,t){t=t?Object.assign({},De,t):De;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Xt(n,s));return[Yt.bind(n),r]}function M(e,t,n){const r=Ht(e,t,!1,le);Ve(r)}function de(e,t,n){n=n?Object.assign({},De,n):De;const r=Ht(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ve(r),Yt.bind(r)}function On(e){return $e(e,!1)}function Q(e){if(k===null)return e();const t=k;k=null;try{return e()}finally{k=t}}function pt(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function Fn(e,t){const n=Symbol("context");return{id:n,Provider:jn(n),defaultValue:e}}function Rn(e){let t;return(t=tn(P,e.id))!==void 0?t:e.defaultValue}function Dn(e){const t=de(e),n=de(()=>ht(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Yt(){if(this.sources&&this.state)if(this.state===le)Ve(this);else{const e=T;T=null,$e(()=>Le(this),!1),T=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function Xt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&$e(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],l=rt&&rt.running;l&&rt.disposed.has(i),(l?!i.tState:!i.state)&&(i.pure?T.push(i):ne.push(i),i.observers&&Zt(i)),l||(i.state=le)}if(T.length>1e6)throw T=[],new Error},!1)),t}function Ve(e){if(!e.fn)return;We(e);const t=P,n=k,r=Ke;k=P=e,qn(e,e.value,r),k=n,P=t}function qn(e,t,n){let r;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=le,e.owned&&e.owned.forEach(We),e.owned=null),e.updatedAt=n+1,en(s)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Xt(e,r):e.value=r,e.updatedAt=n)}function Ht(e,t,n,r=le,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:null,pure:n};return P===null||P!==Vt&&(P.owned?P.owned.push(i):P.owned=[i]),i}function Jt(e){if(e.state===0)return;if(e.state===qe)return Le(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ke);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===le)Ve(e);else if(e.state===qe){const r=T;T=null,$e(()=>Le(e,t[0]),!1),T=r}}function $e(e,t){if(T)return e();let n=!1;t||(T=[]),ne?n=!0:ne=[],Ke++;try{const r=e();return Ln(n),r}catch(r){n||(ne=null),T=null,en(r)}}function Ln(e){if(T&&(Qt(T),T=null),e)return;const t=ne;ne=null,t.length&&$e(()=>Tn(t),!1)}function Qt(e){for(let t=0;t<e.length;t++)Jt(e[t])}function Le(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===le?r!==t&&(!r.updatedAt||r.updatedAt<Ke)&&Jt(r):s===qe&&Le(r,t)}}}function Zt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=qe,n.pure?T.push(n):ne.push(n),n.observers&&Zt(n))}}function We(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),l=n.observerSlots.pop();r<s.length&&(i.sourceSlots[l]=r,s[r]=i,n.observerSlots[r]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)We(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function In(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function en(e,t=P){throw In(e)}function tn(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:tn(e.owner,t):void 0}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ht(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function jn(e,t){return function(r){let s;return M(()=>s=Q(()=>(P.context={[e]:r.value},Dn(()=>r.children))),void 0),s}}const Bn=Symbol("fallback");function Tt(e){for(let t=0;t<e.length;t++)e[t]()}function zn(e,t,n={}){let r=[],s=[],i=[],l=0,o=t.length>1?[]:null;return pt(()=>Tt(i)),()=>{let u=e()||[],f,a;return u[Nn],Q(()=>{let m=u.length,p,c,d,y,w,g,_,v,b;if(m===0)l!==0&&(Tt(i),i=[],r=[],s=[],l=0,o&&(o=[])),n.fallback&&(r=[Bn],s[0]=Fe(C=>(i[0]=C,n.fallback())),l=1);else if(l===0){for(s=new Array(m),a=0;a<m;a++)r[a]=u[a],s[a]=Fe(h);l=m}else{for(d=new Array(m),y=new Array(m),o&&(w=new Array(m)),g=0,_=Math.min(l,m);g<_&&r[g]===u[g];g++);for(_=l-1,v=m-1;_>=g&&v>=g&&r[_]===u[v];_--,v--)d[v]=s[_],y[v]=i[_],o&&(w[v]=o[_]);for(p=new Map,c=new Array(v+1),a=v;a>=g;a--)b=u[a],f=p.get(b),c[a]=f===void 0?-1:f,p.set(b,a);for(f=g;f<=_;f++)b=r[f],a=p.get(b),a!==void 0&&a!==-1?(d[a]=s[f],y[a]=i[f],o&&(w[a]=o[f]),a=c[a],p.set(b,a)):i[f]();for(a=g;a<m;a++)a in d?(s[a]=d[a],i[a]=y[a],o&&(o[a]=w[a],o[a](a))):s[a]=Fe(h);s=s.slice(0,l=m),r=u.slice(0)}return s});function h(m){if(i[a]=m,o){const[p,c]=Wt(a);return o[a]=c,t(u[a],p)}return t(u[a])}}}function N(e,t){return Q(()=>e(t||{}))}const Gn=e=>`Stale read from <${e}>.`;function Ie(e){const t="fallback"in e&&{fallback:()=>e.fallback};return de(zn(()=>e.each,e.children,t||void 0))}function Ot(e){const t=e.keyed,n=de(()=>e.when,void 0,{equals:(r,s)=>t?r===s:!r==!s});return de(()=>{const r=n();if(r){const s=e.children;return typeof s=="function"&&s.length>0?Q(()=>s(t?r:()=>{if(!Q(n))throw Gn("Show");return e.when})):s}return e.fallback},void 0,void 0)}function Un(e,t,n){let r=n.length,s=t.length,i=r,l=0,o=0,u=t[s-1].nextSibling,f=null;for(;l<s||o<i;){if(t[l]===n[o]){l++,o++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===l){const a=i<r?o?n[o-1].nextSibling:n[i-o]:u;for(;o<i;)e.insertBefore(n[o++],a)}else if(i===o)for(;l<s;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[i-1]&&n[o]===t[s-1]){const a=t[--s].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--i],a),t[s]=n[i]}else{if(!f){f=new Map;let h=o;for(;h<i;)f.set(n[h],h++)}const a=f.get(t[l]);if(a!=null)if(o<a&&a<i){let h=l,m=1,p;for(;++h<s&&h<i&&!((p=f.get(t[h]))==null||p!==a+m);)m++;if(m>a-o){const c=t[l];for(;o<a;)e.insertBefore(n[o++],c)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}const Ft="_$DX_DELEGATE";function Kn(e,t,n,r={}){let s;return Fe(i=>{s=i,t===document?e():$(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function R(e,t,n){let r;const s=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},i=t?()=>Q(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Ye(e,t=window.document){const n=t[Ft]||(t[Ft]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Vn))}}function nn(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function W(e,t){t==null?e.removeAttribute("class"):e.className=t}function re(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,l;for(i=0,l=s.length;i<l;i++){const o=s[i];!o||o==="undefined"||t[o]||(Rt(e,o,!1),delete n[o])}for(i=0,l=r.length;i<l;i++){const o=r[i],u=!!t[o];!o||o==="undefined"||n[o]===u||!u||(Rt(e,o,!0),n[o]=u)}return n}function $(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return je(e,t,r,n);M(s=>je(e,t(),s,n),r)}function Rt(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function Vn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const s=n[`${t}Data`];if(s!==void 0?r.call(n,s,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function je(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),l){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=oe(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=oe(e,n,r);else{if(i==="function")return M(()=>{let o=t();for(;typeof o=="function";)o=o();n=je(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if(mt(o,t,n,s))return M(()=>n=je(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=oe(e,n,r),l)return n}else u?n.length===0?Dt(e,o,r):Un(e,n,o):(n&&oe(e),Dt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=oe(e,n,r,t);oe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function mt(e,t,n,r){let s=!1;for(let i=0,l=t.length;i<l;i++){let o=t[i],u=n&&n[i],f;if(!(o==null||o===!0||o===!1))if((f=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))s=mt(e,o,u)||s;else if(f==="function")if(r){for(;typeof o=="function";)o=o();s=mt(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||s}else e.push(o),s=!0;else{const a=String(o);u&&u.nodeType===3&&u.data===a?e.push(u):e.push(document.createTextNode(a))}}return s}function Dt(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function oe(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(s!==o){const u=o.parentNode===e;!i&&!l?u?e.replaceChild(s,o):e.insertBefore(s,n):u&&o.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const Wn="_root_7vb0q_1",Yn="_content_7vb0q_5",qt={root:Wn,content:Yn},L={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Xn=6,Hn=[{name:"Aces",icon:"",isMatch:e=>ae(e,1)},{name:"Deuces",icon:"",isMatch:e=>ae(e,2)},{name:"Threes",icon:"",isMatch:e=>ae(e,3)},{name:"Fours",icon:"",isMatch:e=>ae(e,4)},{name:"Fives",icon:"",isMatch:e=>ae(e,5)},{name:"Sixes",icon:"",isMatch:e=>ae(e,6)}];let rn={name:"Extra",icon:"",isMatch:(e,t)=>tr(t)>=63?35:!1};const Jn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?st(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?st(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>st(e)}];function Qn(e){return{name:e,scores:sn()}}function sn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function ae(e,t){let n=Zn(e,t);return n?n*t:!1}function Zn(e,t){return e[t-1]}function er(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function st(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function tr(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function nr(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function rr(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function Be(){return[{val:1,id:0,pos:0,state:"cup"},{val:1,id:1,pos:1,state:"cup"},{val:1,id:2,pos:2,state:"cup"},{val:1,id:3,pos:3,state:"cup"},{val:1,id:4,pos:4,state:"cup"}]}function sr(){let e={status:L.Init},t=[],n=Be();return{stage:e,players:t,dices:n}}function ir(e){let t=fr(e.stage);if(!t)return null;let n=e.dices.map(r=>r.state!=="kept"?{...r,state:"spinning"}:r);return{stage:t,dices:n}}function lr(e){let t=dr(e.stage);if(!t)return null;let n=e.dices.filter(s=>s.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((s,i)=>i-s);return{dices:e.dices.map(s=>s.state==="spinning"?{...s,val:n.pop(),state:"table"}:s),stage:t}}function or(e){return e.players.every(t=>t.name.trim()!=="")?{stage:{status:L.PlayerMove,player:0,step:0,spinning:!1},players:e.players.map(t=>({name:t.name,scores:sn()})),dices:Be()}:null}function ar(e){return e.status===L.PlayerMove&&e.spinning}function ur(e){return e.status===L.PlayerMove&&!e.spinning&&e.step<3}function cr(e){return e.status===L.PlayerMove&&e.step===3}function fr(e){return e.status===L.PlayerMove&&e.step<3?{...e,spinning:!0}:!1}function dr(e){return e.status===L.PlayerMove&&e.spinning?{...e,spinning:!1,step:e.step+1}:!1}function pr(e){return e.status===L.PlayerMove&&e.spinning}function hr(e){return e.players.length>1&&e.players.every(t=>t.name.trim()!=="")}function mr(e,t){if(e.stage.status===L.PlayerMove&&t.name!=="Extra"){let n=[...e.players];if(n[e.stage.player].scores={...n[e.stage.player].scores,[t.name]:t.score},rr(t.name)&&nr(n[e.stage.player].scores)){let s=rn.isMatch([],n[e.stage.player].scores)||0;n[e.stage.player].scores={...n[e.stage.player].scores,Extra:s}}let r=(e.stage.player+1)%e.players.length;return yr(n[r])?{players:n,dices:Be(),stage:{status:L.Finish,winners:vr(n)}}:{players:n,dices:Be(),stage:{...e.stage,player:r,step:0}}}return null}function yr(e){return Object.values(e.scores).every(t=>t!==null)}function gr(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function vr(e){let t=e.map(s=>gr(s)),n=Math.max(...t),r=[];for(let s=0;s<t.length;s++)t[s]===n&&r.push(s);return r}const br="_root_1eweb_1",$r="_scoreRow_1eweb_8",_r="_scoreCell_1eweb_12",wr="_matched_1eweb_21",Sr="_done_1eweb_30",j={root:br,scoreRow:$r,scoreCell:_r,matched:wr,done:Sr};function St(e,t){for(let n in e)t(e[n],n)}function D(e,t){e.forEach(t)}function I(e,t){if(!e)throw Error(t)}function Z({node:e=[],from:t,source:n,parent:r=t||n,to:s,target:i,child:l=s||i,scope:o={},meta:u={},family:f={type:"regular"},regional:a}={}){let h=xe(r),m=xe(f.links),p=xe(f.owners),c=[];D(e,y=>y&&J(c,y));let d={id:Fr(),seq:c,next:xe(l),meta:u,scope:o,family:{type:f.type||"crosslink",links:m,owners:p}};return D(m,y=>J(Je(y),d)),D(p,y=>J(Qe(y),d)),D(h,y=>J(y.next,d)),a&&fe&&Ct(Ce(fe),[d]),d}function ze(e,t,n){let r,s=G,i=null,l=S;if(e.target&&(t=e.params,n=e.defer,r=e.meta,s="page"in e?e.page:s,e.stack&&(i=e.stack),l=Ne(e)||l,e=e.target),l&&S&&l!==S&&(S=null),Array.isArray(e))for(let c=0;c<e.length;c++)te("pure",s,K(e[c]),i,t[c],l,r);else te("pure",s,K(e),i,t,l,r);if(n&&!Te)return;let o,u,f,a,h,m,p={isRoot:Te,currentPage:G,scope:S,isWatch:ut,isPure:Re};Te=0;e:for(;a=Ir();){let{idx:c,stack:d,type:y}=a;f=d.node,G=h=d.page,S=Ne(d),h?m=h.reg:S&&(m=S.reg);let w=!!h,g=!!S,_={fail:0,scope:f.scope};o=u=0;for(let v=c;v<f.seq.length&&!o;v++){let b=f.seq[v];if(b.order){let{priority:C,barrierID:A}=b.order,E=A?h?`${h.fullID}_${A}`:A:0;if(v!==c||y!==C){A?at.has(E)||(at.add(E),bt(v,d,C,A)):bt(v,d,C);continue e}A&&at.delete(E)}switch(b.type){case"mov":{let A,E=b.data;switch(E.from){case se:A=Ce(d);break;case"a":case"b":A=d[E.from];break;case"value":A=E.store;break;case"store":if(m&&!m[E.store.id])if(w){let nt=hn(h,E.store.id);d.page=h=nt,nt?m=nt.reg:g?(be(S,E.store,0,1,E.softRead),m=S.reg):m=void 0}else g&&be(S,E.store,0,1,E.softRead);A=Ae(m&&m[E.store.id]||E.store)}switch(E.to){case se:d.value=A;break;case"a":case"b":d[E.to]=A;break;case"store":jr(h,S,f,E.target).current=A}break}case"compute":let C=b.data;if(C.fn){ut=F(f,"op")==="watch",Re=C.pure;let A=C.safe?(0,C.fn)(Ce(d),_.scope,d):zr(_,C.fn,d);C.filter?u=!A:d.value=A,ut=p.isWatch,Re=p.isPure}}o=_.fail||u}if(!o){let v=Ce(d),b=Ne(d);if(D(f.next,C=>{te("child",h,C,d,v,b)}),b){F(f,"needFxCounter")&&te("child",h,b.fxCount,d,v,b),F(f,"storeChange")&&te("child",h,b.storeChange,d,v,b),F(f,"warnSerialize")&&te("child",h,b.warnSerializeNode,d,v,b);let C=b.additionalLinks[f.id];C&&D(C,A=>{te("child",h,A,d,v,b)})}}}Te=p.isRoot,G=p.currentPage,S=Ne(p)}function ln(e,t="combine"){let n=t+"(",r="",s=0;return St(e,i=>{s<25&&(i!=null&&(n+=r,n+=ie(i)?on(i).fullName:i.toString()),s+=1,r=", ")}),n+")"}function kr(e,t){let n,r,s=e;if(t){let i=on(t);e.length===0?(n=i.path,r=i.fullName):(n=i.path.concat([e]),r=i.fullName.length===0?e:i.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:s,fullName:r,path:n}}function kt(e,t){let n=t?e:e[0];dn(n);let r=n.or,s=n.and;if(s){let i=t?s:s[0];if(Y(i)&&"and"in i){let l=kt(s,t);e=l[0],r={...r,...l[1]}}else e=s}return[e,r]}function z(e,...t){let n=fn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function O(e,t){let n=Me({or:t,and:typeof e=="string"?{name:e}:e}),r=(l,...o)=>(me(!F(r,"derived"),"call of derived event","createEvent"),me(!Re,"unit call from pure function","operators like sample"),G?((u,f,a,h)=>{let m=G,p=null;if(f)for(p=G;p&&p.template!==f;)p=he(p);Bt(p);let c=u.create(a,h);return Bt(m),c})(r,s,l,o):r.create(l,o)),s=fn(),i=Object.assign(r,{graphite:Z({meta:gn(n.actualOp||"event",r,n),regional:1}),create:l=>(ze({target:r,params:l,scope:S}),l),watch:l=>yn(r,l),map:l=>ct(r,pe,l,[V()]),filter:l=>ct(r,"filter",l.fn?l:l.fn,[V(At,1)]),filterMap:l=>ct(r,"filterMap",l,[V(),ye(o=>!q(o),1)]),prepend(l){let o=O("* → "+r.shortName,{parent:he(r)});return z("eventPrepend",K(o)),_e(o,r,[V()],"prepend",l),Gr(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(i),ue(i,"id",i.graphite.id),cn(i.graphite),i}function Lt(e,t,n,r){return Ue(n,t,"first argument"),I(X(r),"second argument should be a function"),me(!F(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),D(Array.isArray(n)?n:[n],s=>{e.off(s),Ge(e).set(s,mn(vn(s,e,"on",qr,r)))}),e}function Xe(e,t){let n=Me(t),r=ve(e),s=O({named:"updates",derived:1});z("storeBase",r);let i=r.id,l={subscribers:new Map,updates:s,defaultState:e,stateRef:r,getState(){let p,c=r;if(G){let d=G;for(;d&&!d.reg[i];)d=he(d);d&&(p=d)}return!p&&S&&(be(S,r,1),p=S),p&&(c=p.reg[i]),Ae(c)},setState:p=>ze({target:l,params:p,defer:1,scope:S}),reset:(...p)=>(D(p,c=>Lt(l,".reset",c,()=>l.defaultState)),l),on:(p,c)=>Lt(l,".on",p,c),off(p){let c=Ge(l).get(p);return c&&(c(),Ge(l).delete(p)),l},map(p,c){let d,y;Y(p)&&(d=p,p=p.fn),me(q(c),"second argument of store.map","updateFilter");let w=l.getState();q(w)||(y=p(w,c));let g=Xe(y,{name:`${l.shortName} → *`,derived:1,and:d}),_=vn(l,g,pe,gt,p);return vt(U(g),{type:pe,fn:p,from:r}),U(g).noInit=1,z("storeMap",r,_),g},watch(p,c){if(!c||!ie(p)){let d=yn(l,p);return z("storeWatch",r,p)||p(l.getState()),d}return I(X(c),"second argument should be a function"),p.watch(d=>c(l.getState(),d))}},o=gn("store",l,n),u=l.defaultConfig.updateFilter;l.graphite=Z({scope:{state:r,fn:u},node:[ye((p,c,d)=>(d.scope&&!d.scope.reg[r.id]&&(d.b=1),p)),ge(r),ye((p,c,{a:d,b:y})=>!q(p)&&(p!==d||y),1),u&&V(gt,1),B({from:se,target:r})],child:s,meta:{...o,defaultState:e},regional:1}),ue(l,"id",l.graphite.id),ue(l,"rootStateRefId",i);let f=F(l,"serialize"),a=F(l,"derived"),h=f==="ignore",m=F(l,"sid");return m&&(ue(l,"storeChange",1),r.sid=m),m||h||a||ue(l,"warnSerialize",1),I(a||!q(e),"current state can't be undefined, use null instead"),Ct(l,[s]),n!=null&&n.domain&&n.domain.hooks.store(l),a||(l.reinit=O({named:"reinit"}),l.reset(l.reinit)),r.meta=l.graphite.meta,cn(l.graphite),l}function xr(...e){let t,n,r;[e,r]=kt(e);let s,i,l,o=e[e.length-1];if(X(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let u=n[0];ee(u)||(s=u,i=1)}if(!i&&(s=n,t)){l=1;let u=t;t=f=>u(...f)}return I(Y(s),"shape should be an object"),Ur(Array.isArray(s),!l,s,r,t)}function Cr(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function Ar(e,t){Ue(e,"merge","first argument");let n=O({name:ln(e,"merge"),derived:1,and:t});return _e(e,n,[],"merge"),n}function Pr(e,t){let n=0;return D(Kr,r=>{r in e&&(I(e[r]!=null,bn(t,r)),n=1)}),n}function He(...e){let t,n,r,s,[[i,l,o],u]=kt(e),f=1;return q(l)&&Y(i)&&Pr(i,"sample")&&(l=i.clock,o=i.fn,f=!i.greedy,s=i.filter,t=i.target,n=i.name,r=i.sid,i=i.source),Vr("sample",l,i,s,t,o,n,u,f,1,0,r)}function Mr(e,{scope:t,safe:n}={}){I(t||S||n,"scopeBind cannot be called outside of forked .watch");let r=t||S;return yt(e)?s=>{let i=Cr();return ze({target:e,params:{params:s,req:i},scope:r}),i.req}:s=>(ze({target:e,params:s,scope:r}),s)}let Er=typeof Symbol<"u"&&Symbol.observable||"@@observable",pe="map",se="stack",K=e=>e.graphite||e,Je=e=>e.family.owners,Qe=e=>e.family.links,U=e=>e.stateRef,Ce=e=>e.value,Ge=e=>e.subscribers,he=e=>e.parent,Ne=e=>e.scope,F=(e,t)=>K(e).meta[t],ue=(e,t,n)=>K(e).meta[t]=n,on=e=>e.compositeName,ie=e=>(X(e)||Y(e))&&"kind"in e;const Ee=e=>t=>ie(t)&&t.kind===e;let ee=Ee("store"),Nr=Ee("event"),yt=Ee("effect"),an=Ee("domain"),Tr=Ee("scope");var it={__proto__:null,unit:ie,store:ee,event:Nr,effect:yt,domain:an,scope:Tr,attached:e=>yt(e)&&F(e,"attached")==1};let lt=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},J=(e,t)=>e.push(t),me=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const xt=()=>{let e=0;return()=>""+ ++e};let Or=xt(),un=xt(),Fr=xt(),fe=null,cn=e=>{},fn=()=>fe,Rr=e=>(e&&fe&&fe.sidRoot&&(e=`${fe.sidRoot}|${e}`),e),Ct=(e,t)=>{let n=K(e);D(t,r=>{let s=K(r);n.family.type!=="domain"&&(s.family.type="crosslink"),J(Je(s),n),J(Qe(n),s)})},xe=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(K),Y=e=>typeof e=="object"&&e!==null,X=e=>typeof e=="function",q=e=>e===void 0,dn=e=>I(Y(e)||X(e),"expect first argument be an object");const It=(e,t,n,r)=>I(!(!Y(e)&&!X(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let Ue=(e,t,n)=>{Array.isArray(e)?D(e,(r,s)=>It(r,t,`${s} item of ${n}`,"")):It(e,t,n," or array of units")},Dr=(e,t,n="target")=>D(xe(t),r=>me(!F(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),gt=(e,{fn:t},{a:n})=>t(e,n),qr=(e,{fn:t},{a:n})=>t(n,e),At=(e,{fn:t})=>t(e);const pn=(e,t,n,r)=>{let s={id:un(),type:e,data:t};return n&&(s.order={priority:n},r&&(s.order.barrierID=++Lr)),s};let Lr=0,B=({from:e="store",store:t,target:n,to:r=n?"store":se,batch:s,priority:i})=>pn("mov",{from:e,store:t,to:r,target:n},i,s),Pe=({fn:e,batch:t,priority:n,safe:r=0,filter:s=0,pure:i=0})=>pn("compute",{fn:e,safe:r,filter:s,pure:i},n,t),Pt=({fn:e})=>Pe({fn:e,priority:"effect"}),ye=(e,t,n)=>Pe({fn:e,safe:1,filter:t,priority:n&&"effect"}),ge=(e,t,n)=>B({store:e,to:t?se:"a",priority:n&&"sampler",batch:1}),V=(e=At,t)=>Pe({fn:e,pure:1,filter:t}),ot={mov:B,compute:Pe,filter:({fn:e,pure:t})=>Pe({fn:e,filter:1,pure:t}),run:Pt},ve=e=>({id:un(),current:e}),Ae=({current:e})=>e,vt=(e,t)=>{e.before||(e.before=[]),J(e.before,t)},ce=null;const Mt=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||$t(e.v.type)>$t(t.v.type))&&(n=e,e=t,t=n),n=Mt(e.r,t),e.r=e.l,e.l=n,e},Et=[];let jt=0;for(;jt<6;)J(Et,{first:null,last:null,size:0}),jt+=1;const Ir=()=>{for(let e=0;e<6;e++){let t=Et[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=ce.v;return ce=Mt(ce.l,ce.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},te=(e,t,n,r,s,i,l)=>bt(0,{a:null,b:null,node:n,parent:r,value:s,page:t,scope:i,meta:l},e),bt=(e,t,n,r=0)=>{let s=$t(n),i=Et[s],l={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};s===3||s===4?ce=Mt(ce,l):(i.size===0?i.first=l:i.last.r=l,i.last=l),i.size+=1},$t=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},at=new Set;let S,Te=1,ut=0,Re=0,G=null,Bt=e=>{G=e};const hn=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=he(e);if(e)return e}return null};let jr=(e,t,n,r,s)=>{let i=hn(e,r.id);return i?i.reg[r.id]:t?(be(t,r,s),t.reg[r.id]):r};const Br=e=>e;let be=(e,t,n,r,s)=>{var i;let l=e.reg,o=t.sid,u=t==null||(i=t.meta)===null||i===void 0?void 0:i.serialize,f=e.fromSerialize&&u!=="ignore"&&u?.read||Br;if(l[t.id])return;let a={id:t.id,current:t.current,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))a.current=f(e.values.sidMap[o]);else if(t.before&&!s){let h=0,m=n||!t.noInit||r;D(t.before,p=>{switch(p.type){case pe:{let c=p.from;if(c||p.fn){c&&be(e,c,n,r);let d=c&&l[c.id].current;m&&(a.current=p.fn?p.fn(d):d)}break}case"field":h||(h=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),be(e,p.from,n,r),m&&(a.current[p.field]=l[l[p.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),l[t.id]=a};const zr=(e,t,n)=>{try{return t(Ce(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Me=(e,t={})=>(Y(e)&&(Me(e.or,t),St(e,(n,r)=>{q(n)||r==="or"||r==="and"||(t[r]=n)}),Me(e.and,t)),t);const zt=(e,t)=>{lt(e.next,t),lt(Je(e),t),lt(Qe(e),t)},_t=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let s=Qe(e);for(;r=s.pop();)zt(r,e),(t||n&&F(e,"op")!=="sample"||r.family.type==="crosslink")&&_t(r,t,F(r,"op")!=="on"&&n);for(s=Je(e);r=s.pop();)zt(r,e),n&&r.family.type==="crosslink"&&_t(r,t,F(r,"op")!=="on"&&n)},Se=e=>e.clear();let wt=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),ee(e))Se(Ge(e));else if(an(e)){n=1;let r=e.history;Se(r.events),Se(r.effects),Se(r.stores),Se(r.domains)}_t(K(e),!!t,n)},mn=e=>{let t=()=>wt(e);return t.unsubscribe=t,t},_e=(e,t,n,r,s)=>Z({node:n,parent:e,child:t,scope:{fn:s},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),yn=(e,t)=>(I(X(t),".watch argument should be a function"),mn(Z({scope:{fn:t},node:[Pt({fn:At})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Gr=(e,t,n="event")=>{he(e)&&he(e).hooks[n](t)},gn=(e,t,n)=>{let r=Me(n),s=e==="domain",i=Or(),{sid:l=null,named:o=null,domain:u=null,parent:f=u}=r,a=o||r.name||(s?"":i),h=kr(a,f),m={op:t.kind=e,name:t.shortName=a,sid:t.sid=Rr(l),named:o,unitId:t.id=i,serialize:r.serialize,derived:r.derived,config:r};return t.parent=f,t.compositeName=h,t.defaultConfig=r,t.thru=p=>(me(0,"thru","js pipe"),p(t)),t.getType=()=>h.fullName,!s&&(t.subscribe=p=>(dn(p),t.watch(X(p)?p:c=>p.next&&p.next(c))),t[Er]=()=>t),m};const ct=(e,t,n,r)=>{let s;Y(n)&&(s=n,n=n.fn);let i=O({name:`${e.shortName} → *`,derived:1,and:s});return _e(e,i,r,t,n),i},vn=(e,t,n,r,s)=>{let i=U(t),l=B({store:i,to:"a",priority:"read"});n===pe&&(l.data.softRead=1);let o=[l,V(r)];return z("storeOnMap",i,o,ee(e)&&U(e)),_e(e,t,o,n,s)},Ur=(e,t,n,r,s)=>{let i=e?c=>[...c]:c=>({...c}),l=e?[]:{},o=i(l),u=ve(o),f=ve(1);u.type=e?"list":"shape",u.noInit=1,z("combineBase",u,f);let a=Xe(o,{name:ln(n),derived:1,and:r}),h=U(a);h.noInit=1,ue(a,"isCombine",1);let m=ge(u);m.order={priority:"barrier"};let p=[ye((c,d,y)=>(y.scope&&!y.scope.reg[u.id]&&(y.c=1),c)),m,B({store:f,to:"b"}),ye((c,{key:d},y)=>{if(y.c||c!==y.a[d])return t&&y.b&&(y.a=i(y.a)),y.a[d]=c,1},1),B({from:"a",target:u}),B({from:"value",store:0,target:f}),B({from:"value",store:1,target:f,priority:"barrier",batch:1}),ge(u,1),s&&V()];return St(n,(c,d)=>{if(!ee(c))return I(!ie(c)&&!q(c),`combine expects a store in a field ${d}`),void(o[d]=l[d]=c);l[d]=c.defaultState,o[d]=c.getState();let y=_e(c,a,p,"combine",s);y.scope.key=d;let w=U(c);vt(u,{type:"field",field:d,from:w}),z("combineField",w,y)}),a.defaultShape=n,vt(h,{type:pe,from:u,fn:s}),a.defaultState=s?h.current=s(o):l,a};Z({node:[Pt({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const Kr=["source","clock","target"],bn=(e,t)=>e+`: ${t} should be defined`;let Vr=(e,t,n,r,s,i,l,o,u,f,a,h)=>{let m=!!s;I(!q(n)||!q(t),bn(e,"either source or clock"));let p=0;q(n)?p=1:ie(n)||(n=xr(n)),q(t)?t=n:(Ue(t,e,"clock"),Array.isArray(t)&&(t=Ar(t))),p&&(n=t),o||l||(l=n.shortName);let c="none";(a||r)&&(ie(r)?c="unit":(I(X(r),"`filter` should be function or unit"),c="fn")),s?(Ue(s,e,"target"),Dr(e,s)):c==="none"&&f&&ee(n)&&ee(t)?s=Xe(i?i(Ae(U(n)),Ae(U(t))):Ae(U(n)),{name:l,sid:h,or:o}):(s=O({name:l,derived:1,or:o}),z("sampleTarget",K(s)));let d=ve(),y=[];if(c==="unit"){let[v,b]=Gt(r,s,t,d,e);y=[...ft(b),...ft(v)]}let[w,g]=Gt(n,s,t,d,e),_=_e(t,s,[z("sampleSourceLoader"),B({from:se,target:d}),...ft(g),ge(w,1,u),...y,ge(d),c==="fn"&&V((v,b,{a:C})=>r(v,C),1),i&&V(gt),z("sampleSourceUpward",m)],e,i);return Ct(n,[_]),Object.assign(_.meta,o,{joint:1}),s};const ft=e=>[ge(e),ye((t,n,{a:r})=>r,1)],Gt=(e,t,n,r,s)=>{let i=ee(e),l=i?U(e):ve(),o=ve(i);return i||Z({parent:e,node:[B({from:se,target:l}),B({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:s},regional:1}),z("sampleSource",o,l,r),[l,o]};let Wr=sr(),x=Xe(Wr),$n=x.map(e=>e.dices),Ze=x.map(e=>e.players),Yr=x.map(e=>e.stage.status===L.Init),Xr=$n.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?er(t):null}),Hr=x.map(e=>"player"in e.stage?e.stage.player:0),Jr=x.map(e=>ur(e.stage)),Qr=x.map(e=>pr(e.stage)),Zr=x.map(e=>ar(e.stage)),es=x.map(e=>cr(e.stage)),_n=x.map(e=>hr(e)),et=O(),wn=O(),tt=O(),Nt=O(),Sn=O(),kn=O(),xn=O(),Cn=O(),An=O();He({source:x,clock:Sn,filter:Jr,fn:e=>{let t=ir(e);return t?{...e,...t}:e},target:x});He({source:x,clock:kn,filter:Qr,fn:e=>{let t=lr(e);return t?{...e,...t}:e},target:x});x.on(et,e=>e.players.length<Xn?{...e,players:[...e.players,Qn("")]}:e).on(wn,(e,t)=>{if(e.players.length<2)return e;let n=[...e.players];return n.splice(t,1),{...e,players:n}}).on(tt,(e,{n:t,name:n})=>{let r=[...e.players];return r[t].name=n,{...e,players:r}});He({source:x,clock:An,fn:(e,t)=>{let n=mr(e,t);return n?{...e,...n}:e},target:x});He({source:x,clock:Nt,fn:e=>{let t=or(e);return t?{...e,...t}:e},target:x});x.on(xn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(Cn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"table"}:r);return{...e,dices:n}});et();et();tt({n:0,name:"Kolya"});tt({n:1,name:"Olya"});function we(e,t){var n;return((r,s)=>{let i=!it.unit(r)&&typeof r=="object",l={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?l=r["@@unitShape"]():dt("expect @@unitShape to be a function"):l=i?r:{unit:r};let o=Array.isArray(l),u=Object.entries(l),f=o?[]:{},a=[],h={},m={};for(let[c,d]of u)if(it.store(d))if(h[d.graphite.id]){let y=h[d.graphite.id];f[c]=f[y],m[c]=f[y]}else{a.push(d),h[d.graphite.id]=c;let[y,w]=Wt(Ut(d,s));f[c]=y,m[c]=w}else it.unit(d)||dt("expected useUnit argument to be a unit"),f[c]=s?Mr(d,{scope:s}):d;let p=[ot.compute({priority:"effect"}),ot.compute({priority:"sampler",batch:1}),ot.run({fn:()=>{On(()=>{for(let c of a)m[h[c.graphite.id]](()=>Ut(c,s))})}})];if(s){let c=Z({node:p}),d=s.additionalLinks,y=[];a.forEach(w=>{let g=w.graphite.id,_=d[g]||[];d[g]=_,_.push(c),y.push(_)}),pt(()=>{y.forEach(w=>{let g=w.indexOf(c);g!==-1&&w.splice(g,1)}),wt(c)})}else{let c=Z({node:p,parent:a,family:{owners:a}});pt(()=>{wt(c)})}return i?f:f.unit})(e,((r=1)=>{let s=Rn(ts);return r&&!s&&dt("No scope found, consider adding <Provider> to app root"),s})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let dt=e=>{throw Error(e)};const Ut=(e,t)=>t?t.getState(e):e.getState();let ts=Fn(null);const ns=R("<div><div><p>Scores:</p></div><div></div><p>---</p><div>"),rs=R("<p>"),Pn=R("<div><p>"),Mn=R('<button type="button" disabled>'),ss=R('<button type="button">'),is=R('<button type="button"> '),ls=()=>{let[e]=we([Ze]);function t(){return`150px${" 50px".repeat(e().length)}`}return(()=>{const n=ns(),r=n.firstChild;r.firstChild;const s=r.nextSibling,i=s.nextSibling,l=i.nextSibling;return $(r,N(Ie,{get each(){return e()},children:(o,u)=>(()=>{const f=rs();return $(f,()=>u()+1),M(()=>nn(f,"title",o.name)),f})()}),null),$(s,()=>Hn.map(o=>N(Kt,{category:o}))),$(n,N(os,{category:rn}),i),$(l,N(Ie,{each:Jn,children:o=>N(Kt,{category:o})})),M(o=>{const u=j.root,f={[j.scoreRow]:!0},a=t();return u!==o._v$&&W(n,o._v$=u),o._v$2=re(r,f,o._v$2),a!==o._v$3&&((o._v$3=a)!=null?r.style.setProperty("grid-template-columns",a):r.style.removeProperty("grid-template-columns")),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()},Kt=e=>{let[t,n,r]=we([Ze,Hr,Xr]);const{isMatch:s,name:i}=e.category;function l(){return`150px${" 50px".repeat(t().length)}`}return(()=>{const o=Pn(),u=o.firstChild;return $(u,i),$(o,()=>t().map((f,a)=>{if(f.scores[i]!==null)return(()=>{const c=Mn();return $(c,()=>f.scores[i]),M(()=>W(c,j.scoreCell)),c})();let m=n()===a,p=r();if(m&&p){const c=s(p,f.scores)||0;return(()=>{const d=ss();return d.$$click=()=>An({score:c,name:i}),$(d,c),M(y=>re(d,{[j.scoreCell]:!0,[j.matched]:!0},y)),d})()}return(()=>{const c=is();return M(d=>re(c,{[j.scoreCell]:!0,[j.done]:!0},d)),c})()}),null),M(f=>{const a={[j.scoreRow]:!0},h=l();return f._v$4=re(o,a,f._v$4),h!==f._v$5&&((f._v$5=h)!=null?o.style.setProperty("grid-template-columns",h):o.style.removeProperty("grid-template-columns")),f},{_v$4:void 0,_v$5:void 0}),o})()},os=e=>{const{name:t}=e.category;let[n]=we([Ze]);function r(){return`150px${" 50px".repeat(n().length)}`}return(()=>{const s=Pn(),i=s.firstChild;return $(i,t),$(s,N(Ie,{get each(){return n()},children:(l,o)=>(()=>{const u=Mn();return $(u,()=>l.scores[t]),M(f=>re(u,{[j.scoreCell]:!0,[j.done]:!0},f)),u})()}),null),M(l=>{const o={[j.scoreRow]:!0},u=r();return l._v$6=re(s,o,l._v$6),u!==l._v$7&&((l._v$7=u)!=null?s.style.setProperty("grid-template-columns",u):s.style.removeProperty("grid-template-columns")),l},{_v$6:void 0,_v$7:void 0}),s})()};Ye(["click"]);const as="_root_4ym1q_1",us="_keep_4ym1q_8",cs="_dice_4ym1q_17",fs="_spinner_4ym1q_35",ds="_spin_4ym1q_35",ps="_cupBtn_4ym1q_44",hs="_shaking_4ym1q_53",ms="_shake_4ym1q_1",ys="_noShake_4ym1q_56",gs="_cup_4ym1q_44",H={root:as,keep:us,dice:cs,spinner:fs,spin:ds,cupBtn:ps,shaking:hs,shake:ms,noShake:ys,cup:gs},vs=""+new URL("cup-cb5481c7.png",import.meta.url).href,bs=R('<div><div></div><button><img alt="cup">'),$s=R("<button>"),_s=R("<div>"),ws=()=>{let[e,t,n]=we([$n,Zr,es]);return(()=>{const r=bs(),s=r.firstChild,i=s.nextSibling,l=i.firstChild;return $(r,N(ke,{get dice(){return e()[0]}}),i),$(r,N(ke,{get dice(){return e()[1]}}),i),$(r,N(ke,{get dice(){return e()[2]}}),i),$(r,N(ke,{get dice(){return e()[3]}}),i),$(r,N(ke,{get dice(){return e()[4]}}),i),i.$$click=()=>{t()?kn():Sn()},nn(l,"src",vs),M(o=>{const u=H.root,f=H.keep,a={[H.cupBtn]:!0,[H.shaking]:t(),[H.noShake]:n()},h=H.cup;return u!==o._v$&&W(r,o._v$=u),f!==o._v$2&&W(s,o._v$2=f),o._v$3=re(i,a,o._v$3),h!==o._v$4&&W(l,o._v$4=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},Oe={left:8,top:6},ke=e=>{function t(){if(e.dice.state==="cup"||e.dice.state==="spinning")return`translateX(${Oe.left+110}px) translateY(${Oe.left+130}px)`;let r={kept:0,table:50+12}[e.dice.state],s=e.dice.pos*50+e.dice.pos*8;return`translateX(${Oe.left+s}px) translateY(${Oe.top+r}px)`}function n(){e.dice.state==="table"?xn({diceNumber:e.dice.pos}):e.dice.state==="kept"&&Cn({diceNumber:e.dice.pos})}return(()=>{const r=$s();return r.$$click=n,$(r,(()=>{const s=de(()=>e.dice.state==="spinning");return()=>s()?(()=>{const i=_s();return M(()=>W(i,H.spinner)),i})():e.dice.val})()),M(s=>{const i=H.dice,l=t();return i!==s._v$5&&W(r,s._v$5=i),l!==s._v$6&&((s._v$6=l)!=null?r.style.setProperty("transform",l):r.style.removeProperty("transform")),s},{_v$5:void 0,_v$6:void 0}),r})()};Ye(["click"]);const Ss=R('<div><button type="button">add new player</button><br><button type="button">START'),ks=R('<div><input type="text"><button type="button">delete'),xs=()=>{let[e,t]=we([Ze,_n]);return(()=>{const n=Ss(),r=n.firstChild,s=r.nextSibling,i=s.nextSibling;return $(n,N(Ie,{get each(){return e()},children:(l,o)=>(()=>{const u=ks(),f=u.firstChild,a=f.nextSibling;return f.$$input=h=>{tt({n:o(),name:h.target.value})},a.$$click=()=>wn(o()),M(()=>f.value=l.name),u})()}),r),r.$$click=()=>et(),i.$$click=()=>Nt(),M(()=>i.disabled=!t()),n})()};Ye(["click","input"]);const Cs=R('<div><button type="button">RESTART'),As=R("<div><p>stage: "),Ps=R("<div><div><h1>Yacht</h1><div>"),Ms=()=>{let[e,t,n]=we([x,Yr,_n]);return(()=>{const r=Ps(),s=r.firstChild,i=s.firstChild,l=i.nextSibling;return l.style.setProperty("display","grid"),l.style.setProperty("gap","8px"),l.style.setProperty("grid-template-columns","auto 1fr"),$(l,N(Ot,{get when(){return t()},get children(){return N(xs,{})}}),null),$(l,N(Ot,{get when(){return e().stage.status!==L.Init},get children(){return[(()=>{const o=Cs(),u=o.firstChild;return $(o,N(ls,{}),u),u.$$click=()=>Nt(),M(()=>u.disabled=!n()),o})(),(()=>{const o=As(),u=o.firstChild;return u.firstChild,$(o,N(ws,{}),u),$(u,()=>JSON.stringify(e().stage),null),o})()]}}),null),M(o=>{const u=qt.root,f=qt.content;return u!==o._v$&&W(r,o._v$=u),f!==o._v$2&&W(s,o._v$2=f),o},{_v$:void 0,_v$2:void 0}),r})()};Ye(["click"]);const Es=document.getElementById("root");Kn(()=>N(Ms,{}),Es);
