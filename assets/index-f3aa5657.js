(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const En=(e,t)=>e===t,Mn=Symbol("solid-track"),je={equals:En};let Nn=Zt;const oe=1,Be=2,Vt={owned:null,cleanups:null,context:null,owner:null};var P=null;let tt=null,x=null,O=null,re=null,We=0;function qe(e,t){const n=x,r=P,i=e.length===0,l=i?Vt:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},s=i?e:()=>e(()=>Z(()=>He(l)));P=l,x=null;try{return Se(s,!0)}finally{x=n,P=r}}function Wt(e,t){t=t?Object.assign({},je,t):je;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Ht(n,i));return[Xt.bind(n),r]}function k(e,t,n){const r=Jt(e,t,!1,oe);Xe(r)}function pe(e,t,n){n=n?Object.assign({},je,n):je;const r=Jt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Xe(r),Xt.bind(r)}function Tn(e){return Se(e,!1)}function Z(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function dt(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function On(e,t){const n=Symbol("context");return{id:n,Provider:Ln(n),defaultValue:e}}function Fn(e){let t;return(t=nn(P,e.id))!==void 0?t:e.defaultValue}function In(e){const t=pe(e),n=pe(()=>pt(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Xt(){if(this.sources&&this.state)if(this.state===oe)Xe(this);else{const e=O;O=null,Se(()=>ze(this),!1),O=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Ht(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Se(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],s=tt&&tt.running;s&&tt.disposed.has(l),(s?!l.tState:!l.state)&&(l.pure?O.push(l):re.push(l),l.observers&&en(l)),s||(l.state=oe)}if(O.length>1e6)throw O=[],new Error},!1)),t}function Xe(e){if(!e.fn)return;He(e);const t=P,n=x,r=We;x=P=e,Rn(e,e.value,r),x=n,P=t}function Rn(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=oe,e.owned&&e.owned.forEach(He),e.owned=null),e.updatedAt=n+1,tn(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ht(e,r):e.value=r,e.updatedAt=n)}function Jt(e,t,n,r=oe,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:null,pure:n};return P===null||P!==Vt&&(P.owned?P.owned.push(l):P.owned=[l]),l}function Qt(e){if(e.state===0)return;if(e.state===Be)return ze(e);if(e.suspense&&Z(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<We);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===oe)Xe(e);else if(e.state===Be){const r=O;O=null,Se(()=>ze(e,t[0]),!1),O=r}}function Se(e,t){if(O)return e();let n=!1;t||(O=[]),re?n=!0:re=[],We++;try{const r=e();return Dn(n),r}catch(r){n||(re=null),O=null,tn(r)}}function Dn(e){if(O&&(Zt(O),O=null),e)return;const t=re;re=null,t.length&&Se(()=>Nn(t),!1)}function Zt(e){for(let t=0;t<e.length;t++)Qt(e[t])}function ze(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===oe?r!==t&&(!r.updatedAt||r.updatedAt<We)&&Qt(r):i===Be&&ze(r,t)}}}function en(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Be,n.pure?O.push(n):re.push(n),n.observers&&en(n))}}function He(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),s=n.observerSlots.pop();r<i.length&&(l.sourceSlots[s]=r,i[r]=l,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)He(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function qn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function tn(e,t=P){throw qn(e)}function nn(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:nn(e.owner,t):void 0}function pt(e){if(typeof e=="function"&&!e.length)return pt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=pt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Ln(e,t){return function(r){let i;return k(()=>i=Z(()=>(P.context={[e]:r.value},In(()=>r.children))),void 0),i}}const jn=Symbol("fallback");function Ot(e){for(let t=0;t<e.length;t++)e[t]()}function Bn(e,t,n={}){let r=[],i=[],l=[],s=0,o=t.length>1?[]:null;return dt(()=>Ot(l)),()=>{let u=e()||[],c,a;return u[Mn],Z(()=>{let m=u.length,d,f,p,g,y,v,$,_,w;if(m===0)s!==0&&(Ot(l),l=[],r=[],i=[],s=0,o&&(o=[])),n.fallback&&(r=[jn],i[0]=qe(C=>(l[0]=C,n.fallback())),s=1);else if(s===0){for(i=new Array(m),a=0;a<m;a++)r[a]=u[a],i[a]=qe(h);s=m}else{for(p=new Array(m),g=new Array(m),o&&(y=new Array(m)),v=0,$=Math.min(s,m);v<$&&r[v]===u[v];v++);for($=s-1,_=m-1;$>=v&&_>=v&&r[$]===u[_];$--,_--)p[_]=i[$],g[_]=l[$],o&&(y[_]=o[$]);for(d=new Map,f=new Array(_+1),a=_;a>=v;a--)w=u[a],c=d.get(w),f[a]=c===void 0?-1:c,d.set(w,a);for(c=v;c<=$;c++)w=r[c],a=d.get(w),a!==void 0&&a!==-1?(p[a]=i[c],g[a]=l[c],o&&(y[a]=o[c]),a=f[a],d.set(w,a)):l[c]();for(a=v;a<m;a++)a in p?(i[a]=p[a],l[a]=g[a],o&&(o[a]=y[a],o[a](a))):i[a]=qe(h);i=i.slice(0,s=m),r=u.slice(0)}return i});function h(m){if(l[a]=m,o){const[d,f]=Wt(a);return o[a]=f,t(u[a],d)}return t(u[a])}}}function N(e,t){return Z(()=>e(t||{}))}const zn=e=>`Stale read from <${e}>.`;function Ue(e){const t="fallback"in e&&{fallback:()=>e.fallback};return pe(Bn(()=>e.each,e.children,t||void 0))}function Ft(e){const t=e.keyed,n=pe(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return pe(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Z(()=>i(t?r:()=>{if(!Z(n))throw zn("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Un(e,t,n){let r=n.length,i=t.length,l=r,s=0,o=0,u=t[i-1].nextSibling,c=null;for(;s<i||o<l;){if(t[s]===n[o]){s++,o++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===s){const a=l<r?o?n[o-1].nextSibling:n[l-o]:u;for(;o<l;)e.insertBefore(n[o++],a)}else if(l===o)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[l-1]&&n[o]===t[i-1]){const a=t[--i].nextSibling;e.insertBefore(n[o++],t[s++].nextSibling),e.insertBefore(n[--l],a),t[i]=n[l]}else{if(!c){c=new Map;let h=o;for(;h<l;)c.set(n[h],h++)}const a=c.get(t[s]);if(a!=null)if(o<a&&a<l){let h=s,m=1,d;for(;++h<i&&h<l&&!((d=c.get(t[h]))==null||d!==a+m);)m++;if(m>a-o){const f=t[s];for(;o<a;)e.insertBefore(n[o++],f)}else e.replaceChild(n[o++],t[s++])}else s++;else t[s++].remove()}}}const It="_$DX_DELEGATE";function Gn(e,t,n,r={}){let i;return qe(l=>{i=l,t===document?e():b(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function F(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},l=t?()=>Z(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return l.cloneNode=l,l}function Je(e,t=window.document){const n=t[It]||(t[It]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,Yn))}}function rn(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function I(e,t){t==null?e.removeAttribute("class"):e.className=t}function ie(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let l,s;for(l=0,s=i.length;l<s;l++){const o=i[l];!o||o==="undefined"||t[o]||(Rt(e,o,!1),delete n[o])}for(l=0,s=r.length;l<s;l++){const o=r[l],u=!!t[o];!o||o==="undefined"||n[o]===u||!u||(Rt(e,o,!0),n[o]=u)}return n}function b(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ge(e,t,r,n);k(i=>Ge(e,t(),i,n),r)}function Rt(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,l=r.length;i<l;i++)e.classList.toggle(r[i],n)}function Yn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Ge(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),s){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=ae(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=ae(e,n,r);else{if(l==="function")return k(()=>{let o=t();for(;typeof o=="function";)o=o();n=Ge(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if(ht(o,t,n,i))return k(()=>n=Ge(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=ae(e,n,r),s)return n}else u?n.length===0?Dt(e,o,r):Un(e,n,o):(n&&ae(e),Dt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ae(e,n,r,t);ae(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ht(e,t,n,r){let i=!1;for(let l=0,s=t.length;l<s;l++){let o=t[l],u=n&&n[l],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=ht(e,o,u)||i;else if(c==="function")if(r){for(;typeof o=="function";)o=o();i=ht(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else e.push(o),i=!0;else{const a=String(o);u&&u.nodeType===3&&u.data===a?e.push(u):e.push(document.createTextNode(a))}}return i}function Dt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ae(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const u=o.parentNode===e;!l&&!s?u?e.replaceChild(i,o):e.insertBefore(i,n):u&&o.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const Kn="_root_7vb0q_1",Vn="_content_7vb0q_5",qt={root:Kn,content:Vn},L={Init:"Init",PlayerMove:"PlayerMove",Finish:"Finish"},Wn=6,Xn=[{name:"Aces",icon:"",isMatch:e=>ce(e,1)},{name:"Deuces",icon:"",isMatch:e=>ce(e,2)},{name:"Threes",icon:"",isMatch:e=>ce(e,3)},{name:"Fours",icon:"",isMatch:e=>ce(e,4)},{name:"Fives",icon:"",isMatch:e=>ce(e,5)},{name:"Sixes",icon:"",isMatch:e=>ce(e,6)}];let ln={name:"Extra",icon:"",isMatch:(e,t)=>tr(t)>=63?35:!1};const Hn=[{name:"Three of a kind",icon:"",isMatch:e=>e.find(n=>n>=3)?nt(e):!1},{name:"Four of a kind",icon:"",isMatch:e=>e.find(n=>n>=4)?nt(e):!1},{name:"Full house",icon:"",isMatch:e=>{let t=e;return t.includes(2)&&t.includes(3)?25:!1}},{name:"Small straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]||t[1]&&t[2]&&t[3]&&t[4]||t[2]&&t[3]&&t[4]&&t[5]?30:!1}},{name:"Large straight",icon:"",isMatch:e=>{let t=e;return t[0]&&t[1]&&t[2]&&t[3]&&t[4]||t[1]&&t[2]&&t[3]&&t[4]&&t[5]?40:!1}},{name:"Yacht",icon:"",isMatch:e=>e.includes(5)?50:!1},{name:"Chance",icon:"",isMatch:e=>nt(e)}];function Jn(e,t){return{name:e,icon:t,scores:Qn()}}function Qn(){return{Aces:null,Deuces:null,Threes:null,Fours:null,Fives:null,Sixes:null,Extra:null,"Three of a kind":null,"Four of a kind":null,"Full house":null,"Small straight":null,"Large straight":null,Yacht:null,Chance:null}}function ce(e,t){let n=Zn(e,t);return n?n*t:!1}function Zn(e,t){return e[t-1]}function er(e){let t=[0,0,0,0,0,0];return e.forEach(n=>t[n.val-1]++),t}function nt(e){return e.reduce((t,n,r)=>t+n*(r+1),0)}function tr(e){return(e.Aces||0)+(e.Deuces||0)+(e.Threes||0)+(e.Fours||0)+(e.Fives||0)+(e.Sixes||0)}function nr(e){return e.Aces!==null&&e.Deuces!==null&&e.Threes!==null&&e.Fours!==null&&e.Fives!==null&&e.Sixes!==null}function rr(e){return e==="Aces"||e==="Deuces"||e==="Threes"||e==="Fours"||e==="Fives"||e==="Sixes"}function mt(){return[{val:1,id:0,pos:0,state:"cup"},{val:1,id:1,pos:1,state:"cup"},{val:1,id:2,pos:2,state:"cup"},{val:1,id:3,pos:3,state:"cup"},{val:1,id:4,pos:4,state:"cup"}]}function sn(){let e={status:L.Init},t=[],n=mt();return{stage:e,players:t,dices:n}}function ir(e){let t=ur(e.stage);if(!t)return null;let n=e.dices.map(r=>r.state!=="kept"?{...r,state:"spinning"}:r);return{stage:t,dices:n}}function lr(e){let t=fr(e.stage);if(!t)return null;let n=e.dices.filter(i=>i.state==="spinning").map(()=>Math.floor(Math.random()*6)+1).sort((i,l)=>l-i);return{dices:e.dices.map(i=>i.state==="spinning"?{...i,val:n.pop(),state:"table"}:i),stage:t}}function sr(e){let t=sn();return t.players=e.map(n=>Jn(n.name,n.icon)),t.stage={status:L.PlayerMove,player:0,step:0,spinning:!1},t}function or(e){return e.status===L.PlayerMove&&e.spinning}function ar(e){return e.status===L.PlayerMove&&!e.spinning&&e.step<3}function cr(e){return e.status===L.PlayerMove&&e.step===3}function ur(e){return e.status===L.PlayerMove&&e.step<3?{...e,spinning:!0}:!1}function fr(e){return e.status===L.PlayerMove&&e.spinning?{...e,spinning:!1,step:e.step+1}:!1}function dr(e){return e.status===L.PlayerMove&&e.spinning}function pr(e){return e.players.length>1&&e.players.every(t=>t.name.trim()!=="")}function hr(e,t){if(e.stage.status===L.PlayerMove&&t.name!=="Extra"){let n=[...e.players];if(n[e.stage.player].scores={...n[e.stage.player].scores,[t.name]:t.score},rr(t.name)&&nr(n[e.stage.player].scores)){let i=ln.isMatch([],n[e.stage.player].scores)||0;n[e.stage.player].scores={...n[e.stage.player].scores,Extra:i}}let r=(e.stage.player+1)%e.players.length;return mr(n[r])?{players:n,dices:mt(),stage:{status:L.Finish,winners:yr(n)}}:{players:n,dices:mt(),stage:{...e.stage,player:r,step:0}}}return null}function mr(e){return Object.values(e.scores).every(t=>t!==null)}function gr(e){let t=Object.values(e.scores),n=0;for(let r=0;r<t.length;r++)n+=t[r]||0;return n}function yr(e){let t=e.map(i=>gr(i)),n=Math.max(...t),r=[];for(let i=0;i<t.length;i++)t[i]===n&&r.push(i);return r}const vr="_root_1eweb_1",br="_scoreRow_1eweb_8",$r="_scoreCell_1eweb_12",_r="_matched_1eweb_21",wr="_done_1eweb_30",B={root:vr,scoreRow:br,scoreCell:$r,matched:_r,done:wr};function kt(e,t){for(let n in e)t(e[n],n)}function D(e,t){e.forEach(t)}function j(e,t){if(!e)throw Error(t)}function ee({node:e=[],from:t,source:n,parent:r=t||n,to:i,target:l,child:s=i||l,scope:o={},meta:u={},family:c={type:"regular"},regional:a}={}){let h=Ee(r),m=Ee(c.links),d=Ee(c.owners),f=[];D(e,g=>g&&Q(f,g));let p={id:Or(),seq:f,next:Ee(s),meta:u,scope:o,family:{type:c.type||"crosslink",links:m,owners:d}};return D(m,g=>Q(Qe(g),p)),D(d,g=>Q(Ze(g),p)),D(h,g=>Q(g.next,p)),a&&de&&At(Me(de),[p]),p}function Ye(e,t,n){let r,i=G,l=null,s=S;if(e.target&&(t=e.params,n=e.defer,r=e.meta,i="page"in e?e.page:i,e.stack&&(l=e.stack),s=Ie(e)||s,e=e.target),s&&S&&s!==S&&(S=null),Array.isArray(e))for(let f=0;f<e.length;f++)ne("pure",i,K(e[f]),l,t[f],s,r);else ne("pure",i,K(e),l,t,s,r);if(n&&!Re)return;let o,u,c,a,h,m,d={isRoot:Re,currentPage:G,scope:S,isWatch:ot,isPure:Le};Re=0;e:for(;a=qr();){let{idx:f,stack:p,type:g}=a;c=p.node,G=h=p.page,S=Ie(p),h?m=h.reg:S&&(m=S.reg);let y=!!h,v=!!S,$={fail:0,scope:c.scope};o=u=0;for(let _=f;_<c.seq.length&&!o;_++){let w=c.seq[_];if(w.order){let{priority:C,barrierID:A}=w.order,E=A?h?`${h.fullID}_${A}`:A:0;if(_!==f||g!==C){A?st.has(E)||(st.add(E),bt(_,p,C,A)):bt(_,p,C);continue e}A&&st.delete(E)}switch(w.type){case"mov":{let A,E=w.data;switch(E.from){case le:A=Me(p);break;case"a":case"b":A=p[E.from];break;case"value":A=E.store;break;case"store":if(m&&!m[E.store.id])if(y){let et=mn(h,E.store.id);p.page=h=et,et?m=et.reg:v?(we(S,E.store,0,1,E.softRead),m=S.reg):m=void 0}else v&&we(S,E.store,0,1,E.softRead);A=Ne(m&&m[E.store.id]||E.store)}switch(E.to){case le:p.value=A;break;case"a":case"b":p[E.to]=A;break;case"store":Lr(h,S,c,E.target).current=A}break}case"compute":let C=w.data;if(C.fn){ot=R(c,"op")==="watch",Le=C.pure;let A=C.safe?(0,C.fn)(Me(p),$.scope,p):Br($,C.fn,p);C.filter?u=!A:p.value=A,ot=d.isWatch,Le=d.isPure}}o=$.fail||u}if(!o){let _=Me(p),w=Ie(p);if(D(c.next,C=>{ne("child",h,C,p,_,w)}),w){R(c,"needFxCounter")&&ne("child",h,w.fxCount,p,_,w),R(c,"storeChange")&&ne("child",h,w.storeChange,p,_,w),R(c,"warnSerialize")&&ne("child",h,w.warnSerializeNode,p,_,w);let C=w.additionalLinks[c.id];C&&D(C,A=>{ne("child",h,A,p,_,w)})}}}Re=d.isRoot,G=d.currentPage,S=Ie(d)}function on(e,t="combine"){let n=t+"(",r="",i=0;return kt(e,l=>{i<25&&(l!=null&&(n+=r,n+=se(l)?an(l).fullName:l.toString()),i+=1,r=", ")}),n+")"}function Sr(e,t){let n,r,i=e;if(t){let l=an(t);e.length===0?(n=l.path,r=l.fullName):(n=l.path.concat([e]),r=l.fullName.length===0?e:l.fullName+"/"+e)}else n=e.length===0?[]:[e],r=e;return{shortName:i,fullName:r,path:n}}function xt(e,t){let n=t?e:e[0];pn(n);let r=n.or,i=n.and;if(i){let l=t?i:i[0];if(X(l)&&"and"in l){let s=xt(i,t);e=s[0],r={...r,...s[1]}}else e=i}return[e,r]}function U(e,...t){let n=dn();if(n){let r=n.handlers[e];if(r)return r(n,...t)}}function M(e,t){let n=Oe({or:t,and:typeof e=="string"?{name:e}:e}),r=(s,...o)=>(ve(!R(r,"derived"),"call of derived event","createEvent"),ve(!Le,"unit call from pure function","operators like sample"),G?((u,c,a,h)=>{let m=G,d=null;if(c)for(d=G;d&&d.template!==c;)d=ye(d);zt(d);let f=u.create(a,h);return zt(m),f})(r,i,s,o):r.create(s,o)),i=dn(),l=Object.assign(r,{graphite:ee({meta:vn(n.actualOp||"event",r,n),regional:1}),create:s=>(Ye({target:r,params:s,scope:S}),s),watch:s=>yn(r,s),map:s=>at(r,ge,s,[W()]),filter:s=>at(r,"filter",s.fn?s:s.fn,[W(Pt,1)]),filterMap:s=>at(r,"filterMap",s,[W(),be(o=>!q(o),1)]),prepend(s){let o=M("* → "+r.shortName,{parent:ye(r)});return U("eventPrepend",K(o)),ke(o,r,[W()],"prepend",s),zr(r,o),o}});return n!=null&&n.domain&&n.domain.hooks.event(l),ue(l,"id",l.graphite.id),fn(l.graphite),l}function Lt(e,t,n,r){return Ve(n,t,"first argument"),j(H(r),"second argument should be a function"),ve(!R(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),D(Array.isArray(n)?n:[n],i=>{e.off(i),Ke(e).set(i,gn(bn(i,e,"on",Rr,r)))}),e}function he(e,t){let n=Oe(t),r=_e(e),i=M({named:"updates",derived:1});U("storeBase",r);let l=r.id,s={subscribers:new Map,updates:i,defaultState:e,stateRef:r,getState(){let d,f=r;if(G){let p=G;for(;p&&!p.reg[l];)p=ye(p);p&&(d=p)}return!d&&S&&(we(S,r,1),d=S),d&&(f=d.reg[l]),Ne(f)},setState:d=>Ye({target:s,params:d,defer:1,scope:S}),reset:(...d)=>(D(d,f=>Lt(s,".reset",f,()=>s.defaultState)),s),on:(d,f)=>Lt(s,".on",d,f),off(d){let f=Ke(s).get(d);return f&&(f(),Ke(s).delete(d)),s},map(d,f){let p,g;X(d)&&(p=d,d=d.fn),ve(q(f),"second argument of store.map","updateFilter");let y=s.getState();q(y)||(g=d(y,f));let v=he(g,{name:`${s.shortName} → *`,derived:1,and:p}),$=bn(s,v,ge,yt,d);return vt(Y(v),{type:ge,fn:d,from:r}),Y(v).noInit=1,U("storeMap",r,$),v},watch(d,f){if(!f||!se(d)){let p=yn(s,d);return U("storeWatch",r,d)||d(s.getState()),p}return j(H(f),"second argument should be a function"),d.watch(p=>f(s.getState(),p))}},o=vn("store",s,n),u=s.defaultConfig.updateFilter;s.graphite=ee({scope:{state:r,fn:u},node:[be((d,f,p)=>(p.scope&&!p.scope.reg[r.id]&&(p.b=1),d)),$e(r),be((d,f,{a:p,b:g})=>!q(d)&&(d!==p||g),1),u&&W(yt,1),z({from:le,target:r})],child:i,meta:{...o,defaultState:e},regional:1}),ue(s,"id",s.graphite.id),ue(s,"rootStateRefId",l);let c=R(s,"serialize"),a=R(s,"derived"),h=c==="ignore",m=R(s,"sid");return m&&(ue(s,"storeChange",1),r.sid=m),m||h||a||ue(s,"warnSerialize",1),j(a||!q(e),"current state can't be undefined, use null instead"),At(s,[i]),n!=null&&n.domain&&n.domain.hooks.store(s),a||(s.reinit=M({named:"reinit"}),s.reset(s.reinit)),r.meta=s.graphite.meta,fn(s.graphite),s}function kr(...e){let t,n,r;[e,r]=xt(e);let i,l,s,o=e[e.length-1];if(H(o)?(n=e.slice(0,-1),t=o):n=e,n.length===1){let u=n[0];te(u)||(i=u,l=1)}if(!l&&(i=n,t)){s=1;let u=t;t=c=>u(...c)}return j(X(i),"shape should be an object"),Ur(Array.isArray(i),!s,i,r,t)}function xr(){let e={};return e.req=new Promise((t,n)=>{e.rs=t,e.rj=n}),e.req.catch(()=>{}),e}function Cr(e,t){Ve(e,"merge","first argument");let n=M({name:on(e,"merge"),derived:1,and:t});return ke(e,n,[],"merge"),n}function Ar(e,t){let n=0;return D(Gr,r=>{r in e&&(j(e[r]!=null,$n(t,r)),n=1)}),n}function me(...e){let t,n,r,i,[[l,s,o],u]=xt(e),c=1;return q(s)&&X(l)&&Ar(l,"sample")&&(s=l.clock,o=l.fn,c=!l.greedy,i=l.filter,t=l.target,n=l.name,r=l.sid,l=l.source),Yr("sample",s,l,i,t,o,n,u,c,1,0,r)}function Pr(e,{scope:t,safe:n}={}){j(t||S||n,"scopeBind cannot be called outside of forked .watch");let r=t||S;return gt(e)?i=>{let l=xr();return Ye({target:e,params:{params:i,req:l},scope:r}),l.req}:i=>(Ye({target:e,params:i,scope:r}),i)}let Er=typeof Symbol<"u"&&Symbol.observable||"@@observable",ge="map",le="stack",K=e=>e.graphite||e,Qe=e=>e.family.owners,Ze=e=>e.family.links,Y=e=>e.stateRef,Me=e=>e.value,Ke=e=>e.subscribers,ye=e=>e.parent,Ie=e=>e.scope,R=(e,t)=>K(e).meta[t],ue=(e,t,n)=>K(e).meta[t]=n,an=e=>e.compositeName,se=e=>(H(e)||X(e))&&"kind"in e;const Fe=e=>t=>se(t)&&t.kind===e;let te=Fe("store"),Mr=Fe("event"),gt=Fe("effect"),cn=Fe("domain"),Nr=Fe("scope");var rt={__proto__:null,unit:se,store:te,event:Mr,effect:gt,domain:cn,scope:Nr,attached:e=>gt(e)&&R(e,"attached")==1};let it=(e,t)=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)},Q=(e,t)=>e.push(t),ve=(e,t,n)=>!e&&console.error(`${t} is deprecated${n?`, use ${n} instead`:""}`);const Ct=()=>{let e=0;return()=>""+ ++e};let Tr=Ct(),un=Ct(),Or=Ct(),de=null,fn=e=>{},dn=()=>de,Fr=e=>(e&&de&&de.sidRoot&&(e=`${de.sidRoot}|${e}`),e),At=(e,t)=>{let n=K(e);D(t,r=>{let i=K(r);n.family.type!=="domain"&&(i.family.type="crosslink"),Q(Qe(i),n),Q(Ze(n),i)})},Ee=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(K),X=e=>typeof e=="object"&&e!==null,H=e=>typeof e=="function",q=e=>e===void 0,pn=e=>j(X(e)||H(e),"expect first argument be an object");const jt=(e,t,n,r)=>j(!(!X(e)&&!H(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${n} to be a unit (store, event or effect)${r}`);let Ve=(e,t,n)=>{Array.isArray(e)?D(e,(r,i)=>jt(r,t,`${i} item of ${n}`,"")):jt(e,t,n," or array of units")},Ir=(e,t,n="target")=>D(Ee(t),r=>ve(!R(r,"derived"),`${e}: derived unit in "${n}"`,"createEvent/createStore")),yt=(e,{fn:t},{a:n})=>t(e,n),Rr=(e,{fn:t},{a:n})=>t(n,e),Pt=(e,{fn:t})=>t(e);const hn=(e,t,n,r)=>{let i={id:un(),type:e,data:t};return n&&(i.order={priority:n},r&&(i.order.barrierID=++Dr)),i};let Dr=0,z=({from:e="store",store:t,target:n,to:r=n?"store":le,batch:i,priority:l})=>hn("mov",{from:e,store:t,to:r,target:n},l,i),Te=({fn:e,batch:t,priority:n,safe:r=0,filter:i=0,pure:l=0})=>hn("compute",{fn:e,safe:r,filter:i,pure:l},n,t),Et=({fn:e})=>Te({fn:e,priority:"effect"}),be=(e,t,n)=>Te({fn:e,safe:1,filter:t,priority:n&&"effect"}),$e=(e,t,n)=>z({store:e,to:t?le:"a",priority:n&&"sampler",batch:1}),W=(e=Pt,t)=>Te({fn:e,pure:1,filter:t}),lt={mov:z,compute:Te,filter:({fn:e,pure:t})=>Te({fn:e,filter:1,pure:t}),run:Et},_e=e=>({id:un(),current:e}),Ne=({current:e})=>e,vt=(e,t)=>{e.before||(e.before=[]),Q(e.before,t)},fe=null;const Mt=(e,t)=>{if(!e)return t;if(!t)return e;let n;return(e.v.type===t.v.type&&e.v.id>t.v.id||$t(e.v.type)>$t(t.v.type))&&(n=e,e=t,t=n),n=Mt(e.r,t),e.r=e.l,e.l=n,e},Nt=[];let Bt=0;for(;Bt<6;)Q(Nt,{first:null,last:null,size:0}),Bt+=1;const qr=()=>{for(let e=0;e<6;e++){let t=Nt[e];if(t.size>0){if(e===3||e===4){t.size-=1;let r=fe.v;return fe=Mt(fe.l,fe.r),r}t.size===1&&(t.last=null);let n=t.first;return t.first=n.r,t.size-=1,n.v}}},ne=(e,t,n,r,i,l,s)=>bt(0,{a:null,b:null,node:n,parent:r,value:i,page:t,scope:l,meta:s},e),bt=(e,t,n,r=0)=>{let i=$t(n),l=Nt[i],s={v:{idx:e,stack:t,type:n,id:r},l:null,r:null};i===3||i===4?fe=Mt(fe,s):(l.size===0?l.first=s:l.last.r=s,l.last=s),l.size+=1},$t=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},st=new Set;let S,Re=1,ot=0,Le=0,G=null,zt=e=>{G=e};const mn=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=ye(e);if(e)return e}return null};let Lr=(e,t,n,r,i)=>{let l=mn(e,r.id);return l?l.reg[r.id]:t?(we(t,r,i),t.reg[r.id]):r};const jr=e=>e;let we=(e,t,n,r,i)=>{var l;let s=e.reg,o=t.sid,u=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize,c=e.fromSerialize&&u!=="ignore"&&u?.read||jr;if(s[t.id])return;let a={id:t.id,current:t.current,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(o&&o in e.values.sidMap&&!(o in e.sidIdMap))a.current=c(e.values.sidMap[o]);else if(t.before&&!i){let h=0,m=n||!t.noInit||r;D(t.before,d=>{switch(d.type){case ge:{let f=d.from;if(f||d.fn){f&&we(e,f,n,r);let p=f&&s[f.id].current;m&&(a.current=d.fn?d.fn(p):p)}break}case"field":h||(h=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),we(e,d.from,n,r),m&&(a.current[d.field]=s[s[d.from.id].id].current)}})}o&&(e.sidIdMap[o]=t.id),s[t.id]=a};const Br=(e,t,n)=>{try{return t(Me(n),e.scope,n)}catch(r){console.error(r),e.fail=1,e.failReason=r}};let Oe=(e,t={})=>(X(e)&&(Oe(e.or,t),kt(e,(n,r)=>{q(n)||r==="or"||r==="and"||(t[r]=n)}),Oe(e.and,t)),t);const Ut=(e,t)=>{it(e.next,t),it(Qe(e),t),it(Ze(e),t)},_t=(e,t,n)=>{let r;e.next.length=0,e.seq.length=0,e.scope=null;let i=Ze(e);for(;r=i.pop();)Ut(r,e),(t||n&&R(e,"op")!=="sample"||r.family.type==="crosslink")&&_t(r,t,R(r,"op")!=="on"&&n);for(i=Qe(e);r=i.pop();)Ut(r,e),n&&r.family.type==="crosslink"&&_t(r,t,R(r,"op")!=="on"&&n)},Ce=e=>e.clear();let wt=(e,{deep:t}={})=>{let n=0;if(e.ownerSet&&e.ownerSet.delete(e),te(e))Ce(Ke(e));else if(cn(e)){n=1;let r=e.history;Ce(r.events),Ce(r.effects),Ce(r.stores),Ce(r.domains)}_t(K(e),!!t,n)},gn=e=>{let t=()=>wt(e);return t.unsubscribe=t,t},ke=(e,t,n,r,i)=>ee({node:n,parent:e,child:t,scope:{fn:i},meta:{op:r},family:{owners:[e,t],links:t},regional:1}),yn=(e,t)=>(j(H(t),".watch argument should be a function"),gn(ee({scope:{fn:t},node:[Et({fn:Pt})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),zr=(e,t,n="event")=>{ye(e)&&ye(e).hooks[n](t)},vn=(e,t,n)=>{let r=Oe(n),i=e==="domain",l=Tr(),{sid:s=null,named:o=null,domain:u=null,parent:c=u}=r,a=o||r.name||(i?"":l),h=Sr(a,c),m={op:t.kind=e,name:t.shortName=a,sid:t.sid=Fr(s),named:o,unitId:t.id=l,serialize:r.serialize,derived:r.derived,config:r};return t.parent=c,t.compositeName=h,t.defaultConfig=r,t.thru=d=>(ve(0,"thru","js pipe"),d(t)),t.getType=()=>h.fullName,!i&&(t.subscribe=d=>(pn(d),t.watch(H(d)?d:f=>d.next&&d.next(f))),t[Er]=()=>t),m};const at=(e,t,n,r)=>{let i;X(n)&&(i=n,n=n.fn);let l=M({name:`${e.shortName} → *`,derived:1,and:i});return ke(e,l,r,t,n),l},bn=(e,t,n,r,i)=>{let l=Y(t),s=z({store:l,to:"a",priority:"read"});n===ge&&(s.data.softRead=1);let o=[s,W(r)];return U("storeOnMap",l,o,te(e)&&Y(e)),ke(e,t,o,n,i)},Ur=(e,t,n,r,i)=>{let l=e?f=>[...f]:f=>({...f}),s=e?[]:{},o=l(s),u=_e(o),c=_e(1);u.type=e?"list":"shape",u.noInit=1,U("combineBase",u,c);let a=he(o,{name:on(n),derived:1,and:r}),h=Y(a);h.noInit=1,ue(a,"isCombine",1);let m=$e(u);m.order={priority:"barrier"};let d=[be((f,p,g)=>(g.scope&&!g.scope.reg[u.id]&&(g.c=1),f)),m,z({store:c,to:"b"}),be((f,{key:p},g)=>{if(g.c||f!==g.a[p])return t&&g.b&&(g.a=l(g.a)),g.a[p]=f,1},1),z({from:"a",target:u}),z({from:"value",store:0,target:c}),z({from:"value",store:1,target:c,priority:"barrier",batch:1}),$e(u,1),i&&W()];return kt(n,(f,p)=>{if(!te(f))return j(!se(f)&&!q(f),`combine expects a store in a field ${p}`),void(o[p]=s[p]=f);s[p]=f.defaultState,o[p]=f.getState();let g=ke(f,a,d,"combine",i);g.scope.key=p;let y=Y(f);vt(u,{type:"field",field:p,from:y}),U("combineField",y,g)}),a.defaultShape=n,vt(h,{type:ge,from:u,fn:i}),a.defaultState=i?h.current=i(o):s,a};ee({node:[Et({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}});const Gr=["source","clock","target"],$n=(e,t)=>e+`: ${t} should be defined`;let Yr=(e,t,n,r,i,l,s,o,u,c,a,h)=>{let m=!!i;j(!q(n)||!q(t),$n(e,"either source or clock"));let d=0;q(n)?d=1:se(n)||(n=kr(n)),q(t)?t=n:(Ve(t,e,"clock"),Array.isArray(t)&&(t=Cr(t))),d&&(n=t),o||s||(s=n.shortName);let f="none";(a||r)&&(se(r)?f="unit":(j(H(r),"`filter` should be function or unit"),f="fn")),i?(Ve(i,e,"target"),Ir(e,i)):f==="none"&&c&&te(n)&&te(t)?i=he(l?l(Ne(Y(n)),Ne(Y(t))):Ne(Y(n)),{name:s,sid:h,or:o}):(i=M({name:s,derived:1,or:o}),U("sampleTarget",K(i)));let p=_e(),g=[];if(f==="unit"){let[_,w]=Gt(r,i,t,p,e);g=[...ct(w),...ct(_)]}let[y,v]=Gt(n,i,t,p,e),$=ke(t,i,[U("sampleSourceLoader"),z({from:le,target:p}),...ct(v),$e(y,1,u),...g,$e(p),f==="fn"&&W((_,w,{a:C})=>r(_,C),1),l&&W(yt),U("sampleSourceUpward",m)],e,l);return At(n,[$]),Object.assign($.meta,o,{joint:1}),i};const ct=e=>[$e(e),be((t,n,{a:r})=>r,1)],Gt=(e,t,n,r,i)=>{let l=te(e),s=l?Y(e):_e(),o=_e(l);return l||ee({parent:e,node:[z({from:le,target:s}),z({from:"value",store:1,target:o})],family:{owners:[e,t,n],links:t},meta:{op:i},regional:1}),U("sampleSource",o,s,r),[s,o]},Kr=["car","truck","doll","ball","bear","puzzle","train","sandbox","bike","pen","balloon"],Vr=["red","green","blue","yellow","black","white","dark","light","brown","gray","pink","purple","orange","violet"];function St(e){return e[Math.floor(Math.random()*e.length)]}function ut(){return`${St(Vr)} ${St(Kr)}`}function Wr(){const e=["❤️","🎄","🤗","🤞","🙏","👍","😜"];let t=he([{name:ut(),icon:"👍",error:""}]),n=he(""),r=M(),i=M(),l=M(),s=M(),o=M(),u=M();return t.on(r,c=>{if(c.length>=Wn)return c;let a=e.filter(d=>!c.some(f=>f.icon===d)),h=St(a)||"🚫",m=ut();for(;c.some(d=>d.name===m);)m=ut();return[...c,{name:m,icon:h,error:""}]}).on(i,(c,a)=>{if(c.length===0)return c;let h=c.slice();return h.splice(a,1),h}).on(l,(c,{n:a,name:h})=>{let m=c.slice();return m[a].name=h,m}).on(s,(c,{n:a,icon:h})=>{let m=c.slice();return m[a].icon=h,m}).on(o,c=>c.map(a=>a.icon?a.name?c.filter(h=>h.icon===a.icon).length>1?{...a,error:"Please, choose an unique icon"}:{...a,error:""}:{...a,error:"You need name for a comfortable game"}:{...a,error:"You need an icon for a comfortable game"})),me({source:t,clock:o,fn:c=>c.length<2?"should be at least 2 players:(":"",target:n}),me({source:[t,n],clock:o,filter:([c,a])=>c.length>=2&&a===""&&c.every(h=>h.error===""),fn:([c])=>c,target:u}),{ICONS:e,$players:t,$formError:n,formSubmitted:o,playersApplied:u,nameChanged:l,iconChanged:s,addPlayerClicked:r,removePlayerClicked:i}}let Xr=sn(),T=he(Xr),V=Wr(),_n=T.map(e=>e.dices),Tt=T.map(e=>e.players),Hr=T.map(e=>e.stage.status===L.Init),Jr=_n.map(e=>{let t=e.filter(n=>n.state==="table"||n.state==="kept");return t.length===5?er(t):null}),Qr=T.map(e=>"player"in e.stage?e.stage.player:0),Zr=T.map(e=>ar(e.stage)),ei=T.map(e=>dr(e.stage)),ti=T.map(e=>or(e.stage)),ni=T.map(e=>cr(e.stage)),ri=T.map(e=>pr(e)),ii=M(),wn=M(),Sn=M(),kn=M(),xn=M(),Cn=M();me({source:T,clock:wn,filter:Zr,fn:e=>{let t=ir(e);return t?{...e,...t}:e},target:T});me({source:T,clock:Sn,filter:ei,fn:e=>{let t=lr(e);return t?{...e,...t}:e},target:T});me({source:T,clock:Cn,fn:(e,t)=>{let n=hr(e,t);return n?{...e,...n}:e},target:T});me({clock:V.playersApplied,fn:e=>sr(e),target:T});T.on(kn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"kept"}:r);return{...e,dices:n}}).on(xn,(e,{diceNumber:t})=>{let n=e.dices.map(r=>r.id===t?{...r,state:"table"}:r);return{...e,dices:n}});function xe(e,t){var n;return((r,i)=>{let l=!rt.unit(r)&&typeof r=="object",s={};r&&"@@unitShape"in r?typeof r["@@unitShape"]=="function"?s=r["@@unitShape"]():ft("expect @@unitShape to be a function"):s=l?r:{unit:r};let o=Array.isArray(s),u=Object.entries(s),c=o?[]:{},a=[],h={},m={};for(let[f,p]of u)if(rt.store(p))if(h[p.graphite.id]){let g=h[p.graphite.id];c[f]=c[g],m[f]=c[g]}else{a.push(p),h[p.graphite.id]=f;let[g,y]=Wt(Yt(p,i));c[f]=g,m[f]=y}else rt.unit(p)||ft("expected useUnit argument to be a unit"),c[f]=i?Pr(p,{scope:i}):p;let d=[lt.compute({priority:"effect"}),lt.compute({priority:"sampler",batch:1}),lt.run({fn:()=>{Tn(()=>{for(let f of a)m[h[f.graphite.id]](()=>Yt(f,i))})}})];if(i){let f=ee({node:d}),p=i.additionalLinks,g=[];a.forEach(y=>{let v=y.graphite.id,$=p[v]||[];p[v]=$,$.push(f),g.push($)}),dt(()=>{g.forEach(y=>{let v=y.indexOf(f);v!==-1&&y.splice(v,1)}),wt(f)})}else{let f=ee({node:d,parent:a,family:{owners:a}});dt(()=>{wt(f)})}return l?c:c.unit})(e,((r=1)=>{let i=Fn(li);return r&&!i&&ft("No scope found, consider adding <Provider> to app root"),i})((n=t?.forceScope)!==null&&n!==void 0?n:0))}let ft=e=>{throw Error(e)};const Yt=(e,t)=>t?t.getState(e):e.getState();let li=On(null);const si=F("<div><div><p>Scores:</p></div><div></div><p>---</p><div>"),oi=F("<p>"),An=F("<div><p>"),Pn=F('<button type="button" disabled>'),ai=F('<button type="button">'),ci=F('<button type="button"> '),ui=()=>{let[e]=xe([Tt]);function t(){return`150px${" 50px".repeat(e().length)}`}return(()=>{const n=si(),r=n.firstChild;r.firstChild;const i=r.nextSibling,l=i.nextSibling,s=l.nextSibling;return b(r,N(Ue,{get each(){return e()},children:o=>(()=>{const u=oi();return b(u,()=>o.icon),k(()=>rn(u,"title",o.name)),u})()}),null),b(i,()=>Xn.map(o=>N(Kt,{category:o}))),b(n,N(fi,{category:ln}),l),b(s,N(Ue,{each:Hn,children:o=>N(Kt,{category:o})})),k(o=>{const u=B.root,c={[B.scoreRow]:!0},a=t();return u!==o._v$&&I(n,o._v$=u),o._v$2=ie(r,c,o._v$2),a!==o._v$3&&((o._v$3=a)!=null?r.style.setProperty("grid-template-columns",a):r.style.removeProperty("grid-template-columns")),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()},Kt=e=>{let[t,n,r]=xe([Tt,Qr,Jr]);const{isMatch:i,name:l}=e.category;function s(){return`150px${" 50px".repeat(t().length)}`}return(()=>{const o=An(),u=o.firstChild;return b(u,l),b(o,()=>t().map((c,a)=>{if(c.scores[l]!==null)return(()=>{const f=Pn();return b(f,()=>c.scores[l]),k(()=>I(f,B.scoreCell)),f})();let m=n()===a,d=r();if(m&&d){const f=i(d,c.scores)||0;return(()=>{const p=ai();return p.$$click=()=>Cn({score:f,name:l}),b(p,f),k(g=>ie(p,{[B.scoreCell]:!0,[B.matched]:!0},g)),p})()}return(()=>{const f=ci();return k(p=>ie(f,{[B.scoreCell]:!0,[B.done]:!0},p)),f})()}),null),k(c=>{const a={[B.scoreRow]:!0},h=s();return c._v$4=ie(o,a,c._v$4),h!==c._v$5&&((c._v$5=h)!=null?o.style.setProperty("grid-template-columns",h):o.style.removeProperty("grid-template-columns")),c},{_v$4:void 0,_v$5:void 0}),o})()},fi=e=>{const{name:t}=e.category;let[n]=xe([Tt]);function r(){return`150px${" 50px".repeat(n().length)}`}return(()=>{const i=An(),l=i.firstChild;return b(l,t),b(i,N(Ue,{get each(){return n()},children:(s,o)=>(()=>{const u=Pn();return b(u,()=>s.scores[t]),k(c=>ie(u,{[B.scoreCell]:!0,[B.done]:!0},c)),u})()}),null),k(s=>{const o={[B.scoreRow]:!0},u=r();return s._v$6=ie(i,o,s._v$6),u!==s._v$7&&((s._v$7=u)!=null?i.style.setProperty("grid-template-columns",u):i.style.removeProperty("grid-template-columns")),s},{_v$6:void 0,_v$7:void 0}),i})()};Je(["click"]);const di="_root_4ym1q_1",pi="_keep_4ym1q_8",hi="_dice_4ym1q_17",mi="_spinner_4ym1q_35",gi="_spin_4ym1q_35",yi="_cupBtn_4ym1q_44",vi="_shaking_4ym1q_53",bi="_shake_4ym1q_1",$i="_noShake_4ym1q_56",_i="_cup_4ym1q_44",J={root:di,keep:pi,dice:hi,spinner:mi,spin:gi,cupBtn:yi,shaking:vi,shake:bi,noShake:$i,cup:_i},wi=""+new URL("cup-5a929258.webp",import.meta.url).href,Si=F('<div><div></div><button><img alt="cup">'),ki=F("<button>"),xi=F("<div>"),Ci=()=>{let[e,t,n]=xe([_n,ti,ni]);return(()=>{const r=Si(),i=r.firstChild,l=i.nextSibling,s=l.firstChild;return b(r,N(Ae,{get dice(){return e()[0]}}),l),b(r,N(Ae,{get dice(){return e()[1]}}),l),b(r,N(Ae,{get dice(){return e()[2]}}),l),b(r,N(Ae,{get dice(){return e()[3]}}),l),b(r,N(Ae,{get dice(){return e()[4]}}),l),l.$$click=()=>{t()?Sn():wn()},rn(s,"src",wi),k(o=>{const u=J.root,c=J.keep,a={[J.cupBtn]:!0,[J.shaking]:t(),[J.noShake]:n()},h=J.cup;return u!==o._v$&&I(r,o._v$=u),c!==o._v$2&&I(i,o._v$2=c),o._v$3=ie(l,a,o._v$3),h!==o._v$4&&I(s,o._v$4=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},De={left:8,top:6},Ae=e=>{function t(){if(e.dice.state==="cup"||e.dice.state==="spinning")return`translateX(${De.left+110}px) translateY(${De.left+130}px)`;let r={kept:0,table:50+12}[e.dice.state],i=e.dice.pos*50+e.dice.pos*8;return`translateX(${De.left+i}px) translateY(${De.top+r}px)`}function n(){e.dice.state==="table"?kn({diceNumber:e.dice.pos}):e.dice.state==="kept"&&xn({diceNumber:e.dice.pos})}return(()=>{const r=ki();return r.$$click=n,b(r,(()=>{const i=pe(()=>e.dice.state==="spinning");return()=>i()?(()=>{const l=xi();return k(()=>I(l,J.spinner)),l})():e.dice.val})()),k(i=>{const l=J.dice,s=t();return l!==i._v$5&&I(r,i._v$5=l),s!==i._v$6&&((i._v$6=s)!=null?r.style.setProperty("transform",s):r.style.removeProperty("transform")),i},{_v$5:void 0,_v$6:void 0}),r})()};Je(["click"]);const Ai="_root_w8k78_1",Pi="_list_w8k78_5",Ei="_player_w8k78_10",Mi="_error_w8k78_16",Ni="_footer_w8k78_24",Pe={root:Ai,list:Pi,player:Ei,error:Mi,footer:Ni},Ti=F('<div><div></div><div><button type="button">add new player</button></div><div><button type="button">START</button></div><p>'),Oi=F('<div><div><select name=""><option value="">-</option></select><input type="text"><button type="button">delete</button></div><p>'),Fi=F("<option>"),Ii=()=>{let[e,t]=xe([V.$players,V.$formError]);return(()=>{const n=Ti(),r=n.firstChild,i=r.nextSibling,l=i.firstChild,s=i.nextSibling,o=s.firstChild,u=s.nextSibling;return b(r,N(Ue,{get each(){return e()},children:(c,a)=>(()=>{const h=Oi(),m=h.firstChild,d=m.firstChild;d.firstChild;const f=d.nextSibling,p=f.nextSibling,g=m.nextSibling;return d.addEventListener("change",y=>{V.iconChanged({n:a(),icon:y.target.value})}),b(d,()=>V.ICONS.map(y=>(()=>{const v=Fi();return v.value=y,b(v,y),v})()),null),f.$$input=y=>{V.nameChanged({n:a(),name:y.target.value})},p.$$click=()=>V.removePlayerClicked(a()),b(g,()=>c.error||""),k(y=>{const v=Pe.player,$=Pe.error;return v!==y._v$4&&I(m,y._v$4=v),$!==y._v$5&&I(g,y._v$5=$),y},{_v$4:void 0,_v$5:void 0}),k(()=>d.value=c.icon),k(()=>f.value=c.name),h})()})),i.style.setProperty("text-align","center"),l.$$click=()=>V.addPlayerClicked(),s.style.setProperty("text-align","right"),o.$$click=()=>V.formSubmitted(),b(u,t),k(c=>{const a=Pe.root,h=Pe.list,m=Pe.error;return a!==c._v$&&I(n,c._v$=a),h!==c._v$2&&I(r,c._v$2=h),m!==c._v$3&&I(u,c._v$3=m),c},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};Je(["click","input"]);const Ri=F('<div><button type="button">RESTART'),Di=F("<div><p>stage: "),qi=F("<div><div><h1>Yacht</h1><div>"),Li=()=>{let[e,t,n]=xe([T,Hr,ri]);return(()=>{const r=qi(),i=r.firstChild,l=i.firstChild,s=l.nextSibling;return s.style.setProperty("display","grid"),s.style.setProperty("gap","8px"),s.style.setProperty("grid-template-columns","auto 1fr"),b(s,N(Ft,{get when(){return t()},get children(){return N(Ii,{})}}),null),b(s,N(Ft,{get when(){return e().stage.status!==L.Init},get children(){return[(()=>{const o=Ri(),u=o.firstChild;return b(o,N(ui,{}),u),u.$$click=()=>ii(),k(()=>u.disabled=!n()),o})(),(()=>{const o=Di(),u=o.firstChild;return u.firstChild,b(o,N(Ci,{}),u),b(u,()=>JSON.stringify(e().stage),null),o})()]}}),null),k(o=>{const u=qt.root,c=qt.content;return u!==o._v$&&I(r,o._v$=u),c!==o._v$2&&I(i,o._v$2=c),o},{_v$:void 0,_v$2:void 0}),r})()};Je(["click"]);const ji=document.getElementById("root");Gn(()=>N(Li,{}),ji);
